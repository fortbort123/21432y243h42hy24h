-- Asteria Hub Universal GUI - Local Script Version
-- Execute this directly in your executor

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local TextService = game:GetService("TextService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer

-- Forward declaration so the command bar can trigger a full rebuild.
local reloadUI

-- Generate random GUI name for security
local function generateRandomName()
    local chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    local name = ""
    for i = 1, 25 do
        local randomIndex = math.random(1, #chars)
        name = name .. chars:sub(randomIndex, randomIndex)
    end
    return name
end

-- Fancy keybinds display (floating card)
-- Kept outside createAsteriaGUI to avoid Luau local-register limits.
local function createFancyKeybindsDisplay(opts)
    opts = opts or {}
    local parent = opts.parent
    local accentColor = opts.accentColor or Color3.fromRGB(255, 153, 204)

    local display = {
        Buttons = {},
        _seen = setmetatable({}, { __mode = "k" }),
        _refreshScheduled = false,
        _conns = {},
        Gui = nil,
        Card = nil,
        Container = nil,
        NoKeybindsLabel = nil,
    }

    local gui = Instance.new("ScreenGui")
    gui.Name = "FancyKeybindsDisplayGui"
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    gui.Parent = parent
    display.Gui = gui

    local card = Instance.new("Frame")
    card.Name = "Card"
    card.Visible = true
    card.BackgroundTransparency = 0.05
    card.BackgroundColor3 = Color3.fromRGB(18, 18, 20)
    card.BorderSizePixel = 0
    card.AnchorPoint = Vector2.new(0, 0.5)
    card.Position = UDim2.new(0, 116, 0.5, 120)
    card.Size = UDim2.new(0, 240, 0, 300)
    card.ZIndex = 3
    card.Parent = gui
    display.Card = card

    local cardCorner = Instance.new("UICorner")
    cardCorner.CornerRadius = UDim.new(0, 12)
    cardCorner.Parent = card

    local cardStroke = Instance.new("UIStroke")
    cardStroke.Thickness = 1
    cardStroke.Transparency = 0.5
    cardStroke.Color = Color3.fromRGB(40, 43, 46)
    cardStroke.ZIndex = 1
    cardStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    cardStroke.LineJoinMode = Enum.LineJoinMode.Round
    cardStroke.Parent = card

    local shadow = Instance.new("Frame")
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.BorderSizePixel = 0
    shadow.Position = UDim2.new(0, -16, 0, -16)
    shadow.Size = UDim2.new(1, 32, 1, 32)
    shadow.ZIndex = 2
    shadow.Parent = card

    local glow = Instance.new("Frame")
    glow.Name = "Glow"
    glow.BackgroundTransparency = 0.95
    glow.BackgroundColor3 = accentColor
    glow.BorderSizePixel = 0
    glow.Size = UDim2.new(1, 0, 1, 0)
    glow.ZIndex = 2
    glow.Parent = shadow

    local glowCorner = Instance.new("UICorner")
    glowCorner.CornerRadius = UDim.new(0, 12)
    glowCorner.Parent = glow

    local glowGradient = Instance.new("UIGradient")
    glowGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.9),
        NumberSequenceKeypoint.new(0.5, 0.96),
        NumberSequenceKeypoint.new(1, 1),
    })
    glowGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, accentColor),
        ColorSequenceKeypoint.new(1, accentColor),
    })
    glowGradient.Rotation = 90
    glowGradient.Parent = glow

    local header = Instance.new("Frame")
    header.Name = "Header"
    header.BackgroundTransparency = 1
    header.BorderSizePixel = 0
    header.Size = UDim2.new(1, 0, 0, 40)
    header.ZIndex = 3
    header.Parent = card

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "Title"
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 12, 0, 0)
    titleLabel.Size = UDim2.new(1, -24, 1, 0)
    titleLabel.Font = Enum.Font.GothamMedium
    titleLabel.TextSize = 14
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.TextYAlignment = Enum.TextYAlignment.Center
    titleLabel.TextColor3 = Color3.fromRGB(230, 230, 235)
    titleLabel.Text = "Keybinds"
    titleLabel.ZIndex = 3
    titleLabel.Parent = header

    local accent = Instance.new("Frame")
    accent.Name = "Accent"
    accent.BackgroundTransparency = 0.15
    accent.BackgroundColor3 = accentColor
    accent.BorderSizePixel = 0
    accent.AnchorPoint = Vector2.new(0, 1)
    accent.Position = UDim2.new(0, 12, 1, -4)
    accent.Size = UDim2.new(0, 36, 0, 3)
    accent.ZIndex = 3
    accent.Parent = header

    local accentCorner = Instance.new("UICorner")
    accentCorner.CornerRadius = UDim.new(1, 0)
    accentCorner.Parent = accent

    local separator = Instance.new("Frame")
    separator.Name = "Separator"
    separator.BackgroundTransparency = 1
    separator.BorderSizePixel = 0
    separator.Position = UDim2.new(0, 12, 0, 40)
    separator.Size = UDim2.new(1, -24, 0, 10)
    separator.ZIndex = 3
    separator.Parent = card

    local sepGradient = Instance.new("UIGradient")
    sepGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1),
        NumberSequenceKeypoint.new(0.4, 0.65),
        NumberSequenceKeypoint.new(0.5, 0.5),
        NumberSequenceKeypoint.new(0.6, 0.65),
        NumberSequenceKeypoint.new(1, 1),
    })
    sepGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
    })
    sepGradient.Rotation = 90
    sepGradient.Parent = separator

    local container = Instance.new("ScrollingFrame")
    container.Name = "KeybindsContainer"
    container.BackgroundTransparency = 1
    container.BorderSizePixel = 0
    container.Position = UDim2.new(0, 0, 0, 50)
    container.Size = UDim2.new(1, 0, 1, -50)
    container.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
    container.ScrollBarThickness = 0
    container.CanvasSize = UDim2.new(0, 0, 0, 0)
    container.ScrollingDirection = Enum.ScrollingDirection.XY
    container.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
    container.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
    container.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
    container.ZIndex = 3
    container.Parent = card
    display.Container = container

    local kp = Instance.new("UIPadding")
    kp.PaddingTop = UDim.new(0, 8)
    kp.PaddingBottom = UDim.new(0, 10)
    kp.PaddingLeft = UDim.new(0, 12)
    kp.PaddingRight = UDim.new(0, 12)
    kp.Parent = container

    local kl = Instance.new("UIListLayout")
    kl.VerticalAlignment = Enum.VerticalAlignment.Top
    kl.FillDirection = Enum.FillDirection.Vertical
    kl.Padding = UDim.new(0, 8)
    kl.HorizontalAlignment = Enum.HorizontalAlignment.Left
    kl.SortOrder = Enum.SortOrder.LayoutOrder
    kl.Parent = container

    local noKeybindsLabel = Instance.new("TextLabel")
    noKeybindsLabel.Name = "TextLabel"
    noKeybindsLabel.LayoutOrder = 0
    noKeybindsLabel.TextWrapped = false
    noKeybindsLabel.TextTransparency = 0
    noKeybindsLabel.TextStrokeTransparency = 1
    noKeybindsLabel.AnchorPoint = Vector2.new(0, 0)
    noKeybindsLabel.ZIndex = 1
    noKeybindsLabel.TextSize = 12
    noKeybindsLabel.Size = UDim2.new(1, 0, 0, 44)
    noKeybindsLabel.BorderSizePixel = 1
    noKeybindsLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
    noKeybindsLabel.BackgroundTransparency = 1
    noKeybindsLabel.Text = "No Keybinds Assigned"
    noKeybindsLabel.TextXAlignment = Enum.TextXAlignment.Center
    noKeybindsLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    noKeybindsLabel.Rotation = 0
    noKeybindsLabel.Font = Enum.Font.Gotham
    noKeybindsLabel.Position = UDim2.new(0, 0, 0, 0)
    noKeybindsLabel.Visible = false
    noKeybindsLabel.TextYAlignment = Enum.TextYAlignment.Center
    noKeybindsLabel.TextScaled = false
    noKeybindsLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    noKeybindsLabel.Parent = container
    display.NoKeybindsLabel = noKeybindsLabel

    local function destroyRows()
        for _, child in ipairs(container:GetChildren()) do
            if child:IsA("Frame") then
                child:Destroy()
            end
        end
    end

    local function createRow(displayName, keyName, isEnabled)
        if isEnabled == nil then
            isEnabled = true
        end

        local inactiveTextColor = Color3.fromRGB(160, 160, 165)
        local inactivePillColor = Color3.fromRGB(40, 43, 46)

        local row = Instance.new("Frame")
        row.Name = tostring(displayName or "Keybind") .. "_Row"
        row.Visible = true
        row.BackgroundTransparency = 0.8
        row.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
        row.BorderSizePixel = 0
        row.Size = UDim2.new(1, 0, 0, 28)
        row.ZIndex = 3
        row.Parent = container

        local rowCorner = Instance.new("UICorner")
        rowCorner.CornerRadius = UDim.new(0, 8)
        rowCorner.Parent = row

        local rowStroke = Instance.new("UIStroke")
        rowStroke.Thickness = 1
        rowStroke.Transparency = 0.65
        rowStroke.Color = Color3.fromRGB(40, 43, 46)
        rowStroke.ZIndex = 1
        rowStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        rowStroke.LineJoinMode = Enum.LineJoinMode.Round
        rowStroke.Parent = row

        local nameLabel = Instance.new("TextLabel")
        nameLabel.Name = "Name"
        nameLabel.BackgroundTransparency = 1
        nameLabel.Size = UDim2.new(1, -74, 1, 0)
        nameLabel.Position = UDim2.new(0, 10, 0, 0)
        nameLabel.Font = Enum.Font.Gotham
        nameLabel.TextSize = 12
        nameLabel.TextXAlignment = Enum.TextXAlignment.Left
        nameLabel.TextYAlignment = Enum.TextYAlignment.Center
        nameLabel.TextColor3 = isEnabled and Color3.fromRGB(230, 230, 235) or inactiveTextColor
        nameLabel.Text = tostring(displayName or "")
        nameLabel.ZIndex = 3
        nameLabel.Parent = row

        local keyPill = Instance.new("Frame")
        keyPill.Name = "KeyPill"
        keyPill.AnchorPoint = Vector2.new(1, 0.5)
        keyPill.Position = UDim2.new(1, -6, 0.5, 0)
        keyPill.Size = UDim2.new(0, 62, 0, 22)
        keyPill.BorderSizePixel = 0
        keyPill.BackgroundTransparency = 0.9
        keyPill.BackgroundColor3 = isEnabled and accentColor or inactivePillColor
        keyPill.ZIndex = 3
        keyPill.Parent = row

        local keyPillCorner = Instance.new("UICorner")
        -- Match main UI keybind button shape (rounded rect, not full pill)
        keyPillCorner.CornerRadius = UDim.new(0, 6)
        keyPillCorner.Parent = keyPill

        local keyPillStroke = Instance.new("UIStroke")
        keyPillStroke.Thickness = 1
        keyPillStroke.Transparency = 0.5
        keyPillStroke.Color = isEnabled and accentColor or inactivePillColor
        keyPillStroke.ZIndex = 1
        keyPillStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        keyPillStroke.LineJoinMode = Enum.LineJoinMode.Round
        keyPillStroke.Parent = keyPill

        local keyLabel = Instance.new("TextLabel")
        keyLabel.Name = "KeyLabel"
        keyLabel.BackgroundTransparency = 1
        keyLabel.Size = UDim2.new(1, 0, 1, 0)
        keyLabel.Font = Enum.Font.GothamBold
        keyLabel.TextSize = 11
        keyLabel.TextXAlignment = Enum.TextXAlignment.Center
        keyLabel.TextYAlignment = Enum.TextYAlignment.Center
        keyLabel.TextColor3 = isEnabled and accentColor or inactiveTextColor
        keyLabel.Text = tostring(keyName or "")
        keyLabel.ZIndex = 3
        keyLabel.Parent = keyPill

        -- Animate key pill width based on key name length
        do
            local ok, textSize = pcall(function()
                return TextService:GetTextSize(
                    tostring(keyName or ""),
                    keyLabel.TextSize,
                    keyLabel.Font,
                    Vector2.new(1000, keyPill.AbsoluteSize.Y)
                )
            end)

            local minWidth = 40
            local maxWidth = 130
            local padding = 26
            local targetWidth = 62
            if ok and typeof(textSize) == "Vector2" then
                targetWidth = math.clamp(math.ceil(textSize.X) + padding, minWidth, maxWidth)
            end

            local function applyLabelWidth(width)
                -- Reserve: pill width + right margin (6) + gap (~12)
                nameLabel.Size = UDim2.new(1, -(width + 18), 1, 0)
            end

            applyLabelWidth(keyPill.Size.X.Offset)

            if targetWidth ~= keyPill.Size.X.Offset then
                local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                local tween = TweenService:Create(keyPill, tweenInfo, {
                    Size = UDim2.new(0, targetWidth, 0, 22),
                })
                tween:Play()

                -- Keep label reserve in sync while tweening.
                local conn
                conn = keyPill:GetPropertyChangedSignal("Size"):Connect(function()
                    if not (keyPill and keyPill.Parent) then
                        if conn then
                            conn:Disconnect()
                        end
                        return
                    end
                    applyLabelWidth(keyPill.Size.X.Offset)
                end)
                table.insert(display._conns, conn)
            end
        end
    end

    function display:SetVisible(isVisible)
        if card then
            card.Visible = isVisible and true or false
        end
    end

    function display:AddButton(button)
        if not button or self._seen[button] then
            return
        end
        self._seen[button] = true
        table.insert(self.Buttons, button)
        self:ScheduleRefresh()
    end

    function display:Refresh()
        if not (self.Gui and self.Gui.Parent ~= nil) then
            return
        end

        destroyRows()

        local items = {}
        for _, btn in ipairs(self.Buttons) do
            if btn and btn.Parent ~= nil then
                if btn:GetAttribute("AsteriaKeybindsDisplayIgnore") == true then
                    continue
                end
                local keyName = btn:GetAttribute("AsteriaKeybindKeyName")
                if type(keyName) == "string" and keyName ~= "" and keyName ~= "None" then
                    local labelText = btn:GetAttribute("AsteriaKeybindLabelText")
                    if type(labelText) ~= "string" or labelText == "" then
                        labelText = btn.Name
                    end
                    local isEnabled = true
                    local target = btn:FindFirstChild("KeybindTarget")
                    if target and target:IsA("ObjectValue") then
                        local v = target.Value
                        if typeof(v) == "Instance" and v:IsA("TextButton") then
                            isEnabled = (v:GetAttribute("AsteriaChecked") == true)
                        end
                    end
                    table.insert(items, { label = labelText, key = keyName, enabled = isEnabled })
                end
            end
        end

        table.sort(items, function(a, b)
            return tostring(a.label) < tostring(b.label)
        end)

        for _, it in ipairs(items) do
            createRow(it.label, it.key, it.enabled)
        end

        local hasAny = #items > 0
        if noKeybindsLabel then
            noKeybindsLabel.Visible = not hasAny
        end
        container.CanvasSize = UDim2.new(0, 0, 0, kl.AbsoluteContentSize.Y + 1)
    end

    function display:ScheduleRefresh()
        if self._refreshScheduled then
            return
        end
        self._refreshScheduled = true
        task.defer(function()
            if not (display.Gui and display.Gui.Parent ~= nil) then
                return
            end
            display._refreshScheduled = false
            display:Refresh()
        end)
    end

    function display:Destroy()
        for _, c in ipairs(self._conns) do
            pcall(function()
                c:Disconnect()
            end)
        end
        self._conns = {}
        if gui and gui.Parent ~= nil then
            gui:Destroy()
        end
    end

    -- Draggable card (header drag handle)
    do
        local dragging = false
        local dragStart = nil
        local startPos = nil
        local dragTarget = card.Position
        local dragInput = nil

        local DRAG_SMOOTHNESS = 22

        local function isDraggingInput(input)
            return input and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch)
        end

        table.insert(display._conns, header.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                dragInput = input
                dragStart = input.Position
                startPos = card.Position
            end
        end))

        table.insert(display._conns, header.InputEnded:Connect(function(input)
            if input == dragInput then
                dragging = false
                dragInput = nil
            end
        end))

        table.insert(display._conns, UserInputService.InputChanged:Connect(function(input)
            if not dragging then
                return
            end
            if not isDraggingInput(input) then
                return
            end
            if not (dragStart and startPos) then
                return
            end

            local delta = input.Position - dragStart
            dragTarget = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end))

        table.insert(display._conns, RunService.RenderStepped:Connect(function(dt)
            if not (display.Card and display.Card.Parent ~= nil) then
                return
            end
            local alpha = 1 - math.exp(-DRAG_SMOOTHNESS * dt)
            display.Card.Position = display.Card.Position:Lerp(dragTarget, alpha)
        end))
    end

    display:ScheduleRefresh()
    return display
end

-- Universal slider binder
-- Some pages contain slider visuals without any input logic; this attaches the same
-- drag/click/textbox behavior used by the working sliders and ensures FillBar has
-- the black→pink gradient.
local function installUniversalSliderBindings(rootGui, opts)
    if not rootGui then
        return
    end

    opts = opts or {}
    local accentPrimary = opts.accentPrimary or Color3.fromRGB(255, 153, 204)
    local accentBlack = opts.accentBlack or Color3.fromRGB(20, 20, 20)

    local function ensureFillGradient(fillBar)
        if not (fillBar and fillBar:IsA("Frame")) then
            return
        end

        -- Use white base so gradient shows true colors.
        fillBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        fillBar.BackgroundTransparency = 0

        local existing = fillBar:FindFirstChildWhichIsA("UIGradient")
        if existing then
            existing.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, accentBlack),
                ColorSequenceKeypoint.new(1, accentPrimary),
            })
            existing.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            existing.Rotation = 0
            return
        end

        local grad = Instance.new("UIGradient")
        grad.Name = "UIGradient"
        grad.Offset = Vector2.new(0, 0)
        grad.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0),
            NumberSequenceKeypoint.new(1, 0),
        })
        grad.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, accentBlack),
            ColorSequenceKeypoint.new(1, accentPrimary),
        })
        grad.Rotation = 0
        grad.Parent = fillBar
    end

    local function getSliderParts(sliderRow)
        if not (sliderRow and sliderRow:IsA("Frame")) then
            return nil
        end

        local labelFrame = sliderRow:FindFirstChild("Frame")
        local valueTextBox = labelFrame and labelFrame:FindFirstChild("ValueTextBox")
        if not (valueTextBox and valueTextBox:IsA("TextBox")) then
            -- Some sliders might not use the "Frame" name; fall back to a direct search.
            valueTextBox = sliderRow:FindFirstChild("ValueTextBox", true)
        end

        local trackArea = sliderRow:FindFirstChild("SliderTrackArea")
        local track = trackArea and trackArea:FindFirstChild("TrackVisual")
        local fillBar = track and track:FindFirstChild("FillBar")
        local handle = trackArea and trackArea:FindFirstChild("Handle")
        local clickArea = trackArea and trackArea:FindFirstChild("ClickArea")
        local bubble = sliderRow:FindFirstChild("DragBubbleValue", true) or sliderRow:FindFirstChild("Bubble", true)

        if not (trackArea and track and fillBar and handle and clickArea) then
            return nil
        end
        if not (clickArea:IsA("GuiButton") or clickArea:IsA("TextButton") or clickArea:IsA("ImageButton")) then
            return nil
        end

        return {
            valueTextBox = valueTextBox,
            track = track,
            fillBar = fillBar,
            handle = handle,
            clickArea = clickArea,
            bubble = bubble,
        }
    end

    local function bindSliderRow(sliderRow)
        if sliderRow:GetAttribute("AsteriaSliderBound") == true then
            return
        end

        local parts = getSliderParts(sliderRow)
        if not parts then
            return
        end
        sliderRow:SetAttribute("AsteriaSliderBound", true)

        local minV = tonumber(sliderRow:GetAttribute("AsteriaSliderMin"))
        local maxV = tonumber(sliderRow:GetAttribute("AsteriaSliderMax"))
        local stepV = tonumber(sliderRow:GetAttribute("AsteriaSliderStep"))
        if minV == nil then minV = 0 end
        if maxV == nil then maxV = 100 end
        if stepV == nil or stepV <= 0 then stepV = 1 end
        if maxV == minV then
            maxV = minV + stepV
        end

        ensureFillGradient(parts.fillBar)

        local function roundToStep(v)
            v = tonumber(v) or minV
            local snapped = math.floor((v - minV) / stepV + 0.5) * stepV + minV
            return math.clamp(snapped, minV, maxV)
        end

        local function ratioFromValue(v)
            return math.clamp((v - minV) / (maxV - minV), 0, 1)
        end

        local function applyVisual(r)
            parts.fillBar.Size = UDim2.new(r, 0, 1, 0)
            parts.handle.Position = UDim2.new(r, 0, 0.5, 0)
            if parts.bubble and parts.bubble:IsA("TextLabel") then
                parts.bubble.Position = UDim2.new(r, 0, 0, 28)
            end
        end

        local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local function showBubble()
            if not (parts.bubble and parts.bubble:IsA("TextLabel")) then
                return
            end
            parts.bubble.Visible = true
            TweenService:Create(parts.bubble, bubbleTweenInfo, {
                BackgroundTransparency = 0,
                TextTransparency = 0,
            }):Play()
        end

        local function hideBubble()
            if not (parts.bubble and parts.bubble:IsA("TextLabel")) then
                return
            end
            TweenService:Create(parts.bubble, bubbleTweenInfo, {
                BackgroundTransparency = 1,
                TextTransparency = 1,
            }):Play()
            task.delay(0.12, function()
                if parts.bubble and parts.bubble.Parent and parts.bubble.TextTransparency >= 0.95 then
                    parts.bubble.Visible = false
                end
            end)
        end

        local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local handleTween = nil
        local function tweenHandleSize(target)
            if handleTween then
                handleTween:Cancel()
                handleTween = nil
            end
            handleTween = TweenService:Create(parts.handle, handleSizeTweenInfo, { Size = target })
            handleTween:Play()
        end

        local currentValue = nil
        local function setValue(v, tween)
            currentValue = roundToStep(v)
            sliderRow:SetAttribute("SliderValue", currentValue)

            if parts.valueTextBox and parts.valueTextBox:IsA("TextBox") then
                parts.valueTextBox.Text = tostring(currentValue)
            end
            if parts.bubble and parts.bubble:IsA("TextLabel") then
                parts.bubble.Text = tostring(currentValue)
            end

            local r = ratioFromValue(currentValue)
            if tween then
                TweenService:Create(parts.fillBar, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Size = UDim2.new(r, 0, 1, 0),
                }):Play()
                TweenService:Create(parts.handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Position = UDim2.new(r, 0, 0.5, 0),
                }):Play()
                if parts.bubble and parts.bubble:IsA("TextLabel") then
                    parts.bubble.Position = UDim2.new(r, 0, 0, 28)
                end
            else
                applyVisual(r)
            end
        end

        local function ratioFromInputX(x)
            local absPos = parts.track.AbsolutePosition
            local absSize = parts.track.AbsoluteSize
            if absSize.X <= 0 then
                return 0
            end
            return math.clamp((x - absPos.X) / absSize.X, 0, 1)
        end

        local dragging = false
        local renderConn = nil
        local endConn = nil

        local function stopDrag()
            dragging = false
            if renderConn then
                renderConn:Disconnect()
                renderConn = nil
            end
            if endConn then
                endConn:Disconnect()
                endConn = nil
            end
            hideBubble()
            tweenHandleSize(UDim2.new(0, 12, 0, 12))
        end

        local function startDrag()
            if dragging then
                return
            end
            dragging = true
            showBubble()
            tweenHandleSize(UDim2.new(0, 13.8, 0, 13.8))

            renderConn = RunService.RenderStepped:Connect(function()
                if not dragging then
                    return
                end
                local mousePos = UserInputService:GetMouseLocation()
                local r = ratioFromInputX(mousePos.X)
                setValue(minV + (maxV - minV) * r, false)
            end)

            endConn = UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1
                    or input.UserInputType == Enum.UserInputType.Touch then
                    stopDrag()
                end
            end)
        end

        parts.clickArea.InputBegan:Connect(function(input)
            if input.UserInputType ~= Enum.UserInputType.MouseButton1
                and input.UserInputType ~= Enum.UserInputType.Touch then
                return
            end
            local r = ratioFromInputX(input.Position.X)
            setValue(minV + (maxV - minV) * r, true)
            startDrag()
        end)

        if parts.valueTextBox and parts.valueTextBox:IsA("TextBox") then
            parts.valueTextBox.FocusLost:Connect(function()
                local n = tonumber(parts.valueTextBox.Text)
                if n == nil then
                    -- revert
                    parts.valueTextBox.Text = tostring(currentValue or minV)
                    return
                end
                setValue(n, true)
            end)
        end

        -- Initialize from textbox (or existing size if no textbox).
        do
            local initial = nil
            if parts.valueTextBox and parts.valueTextBox:IsA("TextBox") then
                initial = tonumber(parts.valueTextBox.Text)
            end
            if initial == nil then
                initial = minV
            end
            setValue(initial, false)
        end
    end

    for _, inst in ipairs(rootGui:GetDescendants()) do
        if inst:IsA("Frame") and type(inst.Name) == "string" and inst.Name:find("SliderRow") then
            bindSliderRow(inst)
        end
    end
end

-- Final accent recolor pass: replace any leftover red with pastel pink.
-- Also watches for future changes so hover/selection logic can't re-introduce red.
-- Kept outside createAsteriaGUI to avoid Luau local-register limits.
local function installAccentRecolorWatchers(screenGui, accentPrimary, accentDark, accentLight, accentBlack)
    if not screenGui or typeof(screenGui) ~= "Instance" then
        return
    end

    local function approxEqualsColor3(c, r, g, b)
        if typeof(c) ~= "Color3" then
            return false
        end
        return math.abs(c.R * 255 - r) < 0.6
            and math.abs(c.G * 255 - g) < 0.6
            and math.abs(c.B * 255 - b) < 0.6
    end

    local function mapAccentColor(c)
        if approxEqualsColor3(c, 190, 45, 45) then
            return accentPrimary
        end
        if approxEqualsColor3(c, 148, 32, 32) or approxEqualsColor3(c, 100, 0, 0) or approxEqualsColor3(c, 60, 0, 0) then
            return accentDark
        end
        if approxEqualsColor3(c, 255, 75, 75) then
            return accentLight
        end
        if approxEqualsColor3(c, 255, 0, 0) or approxEqualsColor3(c, 230, 0, 0) or approxEqualsColor3(c, 200, 0, 0) or approxEqualsColor3(c, 255, 40, 40) then
            return accentPrimary
        end
        return c
    end

    local function mapColorSequence(seq)
        if typeof(seq) ~= "ColorSequence" then
            return seq
        end
        local keypoints = seq.Keypoints
        local changed = false
        local newPoints = table.create(#keypoints)
        for i, kp in ipairs(keypoints) do
            local mapped = mapAccentColor(kp.Value)
            if mapped ~= kp.Value then
                changed = true
            end
            newPoints[i] = ColorSequenceKeypoint.new(kp.Time, mapped)
        end
        if changed then
            return ColorSequence.new(newPoints)
        end
        return seq
    end

    local function tryMapColor3Property(obj, propName)
        local ok, v = pcall(function()
            return obj[propName]
        end)
        if not ok or typeof(v) ~= "Color3" then
            return
        end
        local mapped = mapAccentColor(v)
        if mapped ~= v then
            pcall(function()
                obj[propName] = mapped
            end)
        end
    end

    local function tryMapColorSequenceProperty(obj, propName)
        local ok, v = pcall(function()
            return obj[propName]
        end)
        if not ok or typeof(v) ~= "ColorSequence" then
            return
        end
        local mapped = mapColorSequence(v)
        if mapped ~= v then
            pcall(function()
                obj[propName] = mapped
            end)
        end
    end

    local function applyAndWatch(inst)
        if not inst or typeof(inst) ~= "Instance" then
            return
        end

        local propsToWatch
        if inst:IsA("UIStroke") then
            propsToWatch = { "Color" }
            tryMapColor3Property(inst, "Color")
        elseif inst:IsA("UIGradient") then
            propsToWatch = { "Color" }

            -- Keep the "red+black" vibe: slider fills + sidebar underline should be black→pink.
            local parent = inst.Parent
            if parent and parent:IsA("Frame") and parent.Name == "FillBar" then
                pcall(function()
                    parent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                end)
                pcall(function()
                    inst.Color = ColorSequence.new({
                        ColorSequenceKeypoint.new(0, accentBlack),
                        ColorSequenceKeypoint.new(1, accentPrimary),
                    })
                end)
            elseif parent and parent:IsA("Frame") and parent.Name == "AccentUnderline" then
                pcall(function()
                    parent.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                end)
                pcall(function()
                    inst.Color = ColorSequence.new({
                        ColorSequenceKeypoint.new(0, accentBlack),
                        ColorSequenceKeypoint.new(1, accentPrimary),
                    })
                end)
            else
                tryMapColorSequenceProperty(inst, "Color")
            end
        else
            propsToWatch = { "BackgroundColor3", "BorderColor3", "TextColor3", "ImageColor3" }
            for _, prop in ipairs(propsToWatch) do
                tryMapColor3Property(inst, prop)
            end
        end

        for _, prop in ipairs(propsToWatch) do
            pcall(function()
                inst:GetPropertyChangedSignal(prop):Connect(function()
                    if inst:IsA("UIGradient") then
                        tryMapColorSequenceProperty(inst, prop)
                    else
                        tryMapColor3Property(inst, prop)
                    end
                end)
            end)
        end
    end

    for _, inst in ipairs(screenGui:GetDescendants()) do
        applyAndWatch(inst)
    end
    screenGui.DescendantAdded:Connect(applyAndWatch)
end

-- Create the GUI directly
-- Supports API-style options when called as: createAsteriaGUI({ title = "...", buildTabs = false, buildDefaultContent = false })
local function createAsteriaGUI(title, opts)
    if type(title) == "table" and opts == nil then
        opts = title
        title = opts.title
    end

    opts = opts or {}
    title = title or opts.title or "Asteria Hub"

    -- When false: do not create the default sidebar tab buttons.
    -- (Tab/section/page creation can be done later via the returned API.)
    local buildTabs = (opts.buildTabs ~= false)

    -- When false: do not create any of the default pages/panels/sections.
    -- The UI still builds the full mainframe shell + animations.
    local buildDefaultContent = (opts.buildDefaultContent ~= false)
    
    -- Create ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = generateRandomName()
    screenGui.ResetOnSpawn = false
    screenGui.IgnoreGuiInset = true
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.Parent = CoreGui

    -- Main Frame
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Parent = screenGui
    mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    mainFrame.Size = UDim2.new(0, 750, 0, 470)
    mainFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 22)
    mainFrame.BorderSizePixel = 0
    mainFrame.BackgroundTransparency = 0

    -- Drop Shadow
    local dropShadow = Instance.new("ImageLabel")
    dropShadow.Name = "DropShadow"
    dropShadow.LayoutOrder = 0
    dropShadow.ImageTransparency = 0.6
    dropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    dropShadow.Image = "rbxassetid://7912134082"
    dropShadow.TileSize = UDim2.new(1, 0, 1, 0)
    dropShadow.ZIndex = -1
    dropShadow.BorderSizePixel = 1
    dropShadow.Size = UDim2.new(1, 40, 1, 40)
    dropShadow.ScaleType = Enum.ScaleType.Stretch
    dropShadow.BackgroundTransparency = 1
    dropShadow.Rotation = 0
    dropShadow.Visible = true
    dropShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    dropShadow.SliceScale = 1
    dropShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    dropShadow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    dropShadow.Parent = mainFrame

    -- Corner radius
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 14)
    corner.Parent = mainFrame

    -- UIGradient
    local gradient = Instance.new("UIGradient")
    gradient.Transparency = NumberSequence.new{
        NumberSequenceKeypoint.new(0, 0.06),
        NumberSequenceKeypoint.new(0.5, 0.1),
        NumberSequenceKeypoint.new(1, 0.06)
    }
    gradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.new(1, 1, 1)),
        ColorSequenceKeypoint.new(1, Color3.new(0, 0, 0))
    }
    gradient.Rotation = 90
    gradient.Parent = mainFrame

    -- Stroke for better visual definition
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(40, 43, 46)
    stroke.Thickness = 1
    stroke.Transparency = 0.550000011920929
    stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    stroke.Parent = mainFrame

    local mainFrameDefaultBgTransparency = mainFrame.BackgroundTransparency
    local mainFrameDefaultStrokeTransparency = stroke.Transparency

    -- Menu toggle key (configurable via Settings)
    local menuToggleKeyCode = Enum.KeyCode.RightControl

    -- Theme accent (pastel pink)
    local ACCENT_PRIMARY = Color3.fromRGB(255, 153, 204)
    local ACCENT_DARK = Color3.fromRGB(235, 120, 175)
    local ACCENT_LIGHT = Color3.fromRGB(255, 190, 225)
    -- Match the UI's existing "black" (dark gray) used across surfaces.
    local ACCENT_BLACK = Color3.fromRGB(27, 30, 33)

    -- Nilhub-style dropdown popup (used for Fuel dropdown)
    -- Supports overlay mode (anchored to a button) and inline mode (embedded in a holder that expands).
    local function createNilhubDropdownPopup(opts)
        opts = opts or {}
        local isInline = opts.inline == true

        local container = nil
        if isInline then
            container = opts.parent
        else
            container = screenGui:FindFirstChild("NilhubUIRoot_v2")
            if not container then
                container = Instance.new("Folder")
                container.Name = "NilhubUIRoot_v2"
                container.Parent = screenGui
            end
        end

        local root = Instance.new("Frame")
        root.Name = "Frame"
        root.Visible = false
        root.ClipsDescendants = true
        root.BorderColor3 = Color3.fromRGB(27, 42, 53)
        root.BackgroundTransparency = 0
        root.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        root.Position = UDim2.new(0, 0, 0, 33)
        root.AnchorPoint = Vector2.new(0, 0)
        root.ZIndex = 9100
        root.BorderSizePixel = 0
        root.Size = UDim2.new(0, 0, 0, 146)
        root.Parent = container

        -- Inline mode embeds the dropdown in a holder; it should start at Y=0.
        if isInline then
            root.Position = UDim2.new(0, 0, 0, 0)
        end

        local rootCorner = Instance.new("UICorner")
        rootCorner.Name = "UICorner"
        rootCorner.CornerRadius = UDim.new(0, 10)
        rootCorner.Parent = root

        local rootStroke = Instance.new("UIStroke")
        rootStroke.Name = "UIStroke"
        rootStroke.Thickness = 1
        rootStroke.Transparency = 0.3499999940395355
        rootStroke.Color = Color3.fromRGB(55, 58, 61)
        rootStroke.ZIndex = 1
        rootStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        rootStroke.LineJoinMode = Enum.LineJoinMode.Round
        rootStroke.Parent = root

        local panelBackdrop = Instance.new("Frame")
        panelBackdrop.Name = "PanelBackdrop"
        panelBackdrop.Visible = true
        panelBackdrop.ClipsDescendants = false
        panelBackdrop.BorderColor3 = Color3.fromRGB(27, 42, 53)
        panelBackdrop.BackgroundTransparency = 1
        panelBackdrop.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        panelBackdrop.Position = UDim2.new(0, 0, 0, 0)
        panelBackdrop.AnchorPoint = Vector2.new(0, 0)
        panelBackdrop.ZIndex = 9101
        panelBackdrop.BorderSizePixel = 1
        panelBackdrop.Size = UDim2.new(1, 0, 1, 0)
        panelBackdrop.Parent = root

        local panelCorner = Instance.new("UICorner")
        panelCorner.Name = "UICorner"
        panelCorner.CornerRadius = UDim.new(0, 10)
        panelCorner.Parent = panelBackdrop

        local topOverlay = Instance.new("Frame")
        topOverlay.Name = "Frame"
        topOverlay.Visible = true
        topOverlay.ClipsDescendants = false
        topOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
        topOverlay.BackgroundTransparency = 0
        topOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        topOverlay.Position = UDim2.new(0, 0, 0, 0)
        topOverlay.AnchorPoint = Vector2.new(0, 0)
        topOverlay.ZIndex = 9101
        topOverlay.BorderSizePixel = 1
        topOverlay.Size = UDim2.new(1, 0, 1, 0)
        topOverlay.Parent = panelBackdrop

        local topCorner = Instance.new("UICorner")
        topCorner.Name = "UICorner"
        topCorner.CornerRadius = UDim.new(0, 10)
        topCorner.Parent = topOverlay

        local topGradient = Instance.new("UIGradient")
        topGradient.Name = "UIGradient"
        topGradient.Offset = Vector2.new(0, 0)
        topGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.15, 0.92),
            NumberSequenceKeypoint.new(0.5, 0.88),
            NumberSequenceKeypoint.new(0.85, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        topGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        topGradient.Rotation = 120
        topGradient.Parent = topOverlay

        local bottomOverlay = Instance.new("Frame")
        bottomOverlay.Name = "Frame"
        bottomOverlay.Visible = true
        bottomOverlay.ClipsDescendants = false
        bottomOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
        bottomOverlay.BackgroundTransparency = 0
        bottomOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        bottomOverlay.Position = UDim2.new(0.5, 0, 1, 0)
        bottomOverlay.AnchorPoint = Vector2.new(0.5, 1)
        bottomOverlay.ZIndex = 9101
        bottomOverlay.BorderSizePixel = 1
        bottomOverlay.Size = UDim2.new(1, 0, 0, 96)
        bottomOverlay.Parent = panelBackdrop

        local bottomCorner = Instance.new("UICorner")
        bottomCorner.Name = "UICorner"
        bottomCorner.CornerRadius = UDim.new(0, 10)
        bottomCorner.Parent = bottomOverlay

        local bottomGradient = Instance.new("UIGradient")
        bottomGradient.Name = "UIGradient"
        bottomGradient.Offset = Vector2.new(0, 0)
        bottomGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.55, 0.98),
            NumberSequenceKeypoint.new(1, 0.92),
        })
        bottomGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        bottomGradient.Rotation = 90
        bottomGradient.Parent = bottomOverlay

        local scrollingFrame = Instance.new("ScrollingFrame")
        scrollingFrame.Name = "ScrollingFrame"
        scrollingFrame.AnchorPoint = Vector2.new(0, 0)
        scrollingFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        scrollingFrame.ZIndex = 9103
        scrollingFrame.BorderSizePixel = 0
        scrollingFrame.Size = UDim2.new(1, 0, 1, -36)
        scrollingFrame.ScrollBarImageColor3 = Color3.fromRGB(255, 255, 255)
        scrollingFrame.BackgroundTransparency = 1
        scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 114)
        scrollingFrame.ScrollBarThickness = 0
        scrollingFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        scrollingFrame.Visible = true
        scrollingFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        scrollingFrame.Position = UDim2.new(0, 0, 0, 36)
        scrollingFrame.ScrollingEnabled = true
        scrollingFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        scrollingFrame.CanvasPosition = Vector2.new(0, 4)
        scrollingFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        scrollingFrame.Parent = root

        local content = Instance.new("Frame")
        content.Name = "Content"
        content.Visible = true
        content.ClipsDescendants = false
        content.BorderColor3 = Color3.fromRGB(27, 42, 53)
        content.BackgroundTransparency = 1
        content.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        content.Position = UDim2.new(0, 0, 0, 0)
        content.AnchorPoint = Vector2.new(0, 0)
        content.ZIndex = 9103
        content.BorderSizePixel = 1
        content.Size = UDim2.new(1, 0, 0, 0)
        content.Parent = scrollingFrame

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 2)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = content

        local padding = Instance.new("UIPadding")
        padding.Name = "UIPadding"
        padding.PaddingTop = UDim.new(0, 6)
        padding.PaddingBottom = UDim.new(0, 6)
        padding.PaddingLeft = UDim.new(0, 6)
        padding.PaddingRight = UDim.new(0, 6)
        padding.Parent = content

        local scrollBackdrop = Instance.new("Frame")
        scrollBackdrop.Name = "ScrollBackdrop"
        scrollBackdrop.Visible = true
        scrollBackdrop.ClipsDescendants = false
        scrollBackdrop.BorderColor3 = Color3.fromRGB(27, 42, 53)
        scrollBackdrop.BackgroundTransparency = 1
        scrollBackdrop.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        scrollBackdrop.Position = UDim2.new(0, 0, 0, 0)
        scrollBackdrop.AnchorPoint = Vector2.new(0, 0)
        scrollBackdrop.ZIndex = 9102
        scrollBackdrop.BorderSizePixel = 0
        scrollBackdrop.Size = UDim2.new(1, 0, 0, 114)
        scrollBackdrop.Parent = scrollingFrame

        local scrollTop = Instance.new("Frame")
        scrollTop.Name = "Frame"
        scrollTop.Visible = true
        scrollTop.ClipsDescendants = false
        scrollTop.BorderColor3 = Color3.fromRGB(27, 42, 53)
        scrollTop.BackgroundTransparency = 0
        scrollTop.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        scrollTop.Position = UDim2.new(0, 0, 0, 0)
        scrollTop.AnchorPoint = Vector2.new(0, 0)
        scrollTop.ZIndex = 9102
        scrollTop.BorderSizePixel = 1
        scrollTop.Size = UDim2.new(1, 0, 1, 0)
        scrollTop.Parent = scrollBackdrop

        local scrollTopGradient = Instance.new("UIGradient")
        scrollTopGradient.Name = "UIGradient"
        scrollTopGradient.Offset = Vector2.new(0, 0)
        scrollTopGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.15, 0.92),
            NumberSequenceKeypoint.new(0.5, 0.88),
            NumberSequenceKeypoint.new(0.85, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        scrollTopGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        scrollTopGradient.Rotation = 120
        scrollTopGradient.Parent = scrollTop

        local scrollTopCorner = Instance.new("UICorner")
        scrollTopCorner.Name = "UICorner"
        scrollTopCorner.CornerRadius = UDim.new(0, 10)
        scrollTopCorner.Parent = scrollTop

        local scrollBottom = Instance.new("Frame")
        scrollBottom.Name = "Frame"
        scrollBottom.Visible = true
        scrollBottom.ClipsDescendants = false
        scrollBottom.BorderColor3 = Color3.fromRGB(27, 42, 53)
        scrollBottom.BackgroundTransparency = 0
        scrollBottom.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        scrollBottom.Position = UDim2.new(0.5, 0, 1, 0)
        scrollBottom.AnchorPoint = Vector2.new(0.5, 1)
        scrollBottom.ZIndex = 9102
        scrollBottom.BorderSizePixel = 1
        scrollBottom.Size = UDim2.new(1, 0, 0, 72)
        scrollBottom.Parent = scrollBackdrop

        local scrollBottomGradient = Instance.new("UIGradient")
        scrollBottomGradient.Name = "UIGradient"
        scrollBottomGradient.Offset = Vector2.new(0, 0)
        scrollBottomGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.6, 0.98),
            NumberSequenceKeypoint.new(1, 0.92),
        })
        scrollBottomGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        scrollBottomGradient.Rotation = 90
        scrollBottomGradient.Parent = scrollBottom

        local scrollBottomCorner = Instance.new("UICorner")
        scrollBottomCorner.Name = "UICorner"
        scrollBottomCorner.CornerRadius = UDim.new(0, 10)
        scrollBottomCorner.Parent = scrollBottom

        local noResults = Instance.new("TextLabel")
        noResults.Name = "TextLabel"
        noResults.TextWrapped = false
        noResults.TextTransparency = 0
        noResults.TextStrokeTransparency = 1
        noResults.AnchorPoint = Vector2.new(0, 0)
        noResults.ZIndex = 9106
        noResults.TextSize = 13
        noResults.Size = UDim2.new(1, -12, 1, -42)
        noResults.BorderSizePixel = 1
        noResults.TextColor3 = Color3.fromRGB(160, 160, 165)
        noResults.BackgroundTransparency = 1
        noResults.Text = "No results"
        noResults.TextXAlignment = Enum.TextXAlignment.Center
        noResults.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
        noResults.Font = Enum.Font.GothamBold
        noResults.Position = UDim2.new(0, 6, 0, 36)
        noResults.Visible = false
        noResults.TextYAlignment = Enum.TextYAlignment.Center
        noResults.TextScaled = false
        noResults.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        noResults.Parent = root

        local searchBox = Instance.new("TextBox")
        searchBox.Name = "TextBox"
        searchBox.AnchorPoint = Vector2.new(0, 0)
        searchBox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
        searchBox.BorderSizePixel = 0
        searchBox.ZIndex = 9103
        searchBox.TextSize = 13
        searchBox.Size = UDim2.new(1, -12, 0, 24)
        searchBox.BackgroundTransparency = 0
        searchBox.PlaceholderText = "Search..."
        searchBox.TextYAlignment = Enum.TextYAlignment.Center
        searchBox.TextColor3 = Color3.fromRGB(230, 230, 230)
        searchBox.TextXAlignment = Enum.TextXAlignment.Center
        searchBox.Text = ""
        searchBox.TextEditable = true
        searchBox.MultiLine = false
        searchBox.Font = Enum.Font.GothamBold
        searchBox.Position = UDim2.new(0, 6, 0, 6)
        searchBox.Visible = true
        searchBox.ClearTextOnFocus = true
        searchBox.TextScaled = false
        searchBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
        searchBox.Parent = root

        local searchCorner = Instance.new("UICorner")
        searchCorner.Name = "UICorner"
        searchCorner.CornerRadius = UDim.new(0, 8)
        searchCorner.Parent = searchBox

        local searchStroke = Instance.new("UIStroke")
        searchStroke.Name = "UIStroke"
        searchStroke.Thickness = 1
        searchStroke.Transparency = 0.4000000059604645
        searchStroke.Color = Color3.fromRGB(55, 58, 61)
        searchStroke.ZIndex = 1
        searchStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        searchStroke.LineJoinMode = Enum.LineJoinMode.Round
        searchStroke.Parent = searchBox

        local searchSheen = Instance.new("Frame")
        searchSheen.Name = "Frame"
        searchSheen.Visible = true
        searchSheen.ClipsDescendants = false
        searchSheen.BorderColor3 = Color3.fromRGB(27, 42, 53)
        searchSheen.BackgroundTransparency = 0
        searchSheen.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        searchSheen.Position = UDim2.new(0, 0, 0, 0)
        searchSheen.AnchorPoint = Vector2.new(0, 0)
        searchSheen.ZIndex = 9105
        searchSheen.BorderSizePixel = 0
        searchSheen.Size = UDim2.new(1, 0, 1, 0)
        searchSheen.Parent = searchBox

        local searchSheenCorner = Instance.new("UICorner")
        searchSheenCorner.Name = "UICorner"
        searchSheenCorner.CornerRadius = UDim.new(0, 8)
        searchSheenCorner.Parent = searchSheen

        local searchSheenGradient = Instance.new("UIGradient")
        searchSheenGradient.Name = "UIGradient"
        searchSheenGradient.Offset = Vector2.new(0, 0)
        searchSheenGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.15, 0.84),
            NumberSequenceKeypoint.new(0.5, 0.62),
            NumberSequenceKeypoint.new(0.85, 0.84),
            NumberSequenceKeypoint.new(1, 1),
        })
        searchSheenGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        searchSheenGradient.Rotation = 120
        searchSheenGradient.Parent = searchSheen

        local searchShade = Instance.new("Frame")
        searchShade.Name = "Frame"
        searchShade.Visible = true
        searchShade.ClipsDescendants = false
        searchShade.BorderColor3 = Color3.fromRGB(27, 42, 53)
        searchShade.BackgroundTransparency = 0
        searchShade.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        searchShade.Position = UDim2.new(0, 0, 0, 0)
        searchShade.AnchorPoint = Vector2.new(0, 0)
        searchShade.ZIndex = 9105
        searchShade.BorderSizePixel = 0
        searchShade.Size = UDim2.new(1, 0, 1, 0)
        searchShade.Parent = searchBox

        local searchShadeCorner = Instance.new("UICorner")
        searchShadeCorner.Name = "UICorner"
        searchShadeCorner.CornerRadius = UDim.new(0, 8)
        searchShadeCorner.Parent = searchShade

        local searchShadeGradient = Instance.new("UIGradient")
        searchShadeGradient.Name = "UIGradient"
        searchShadeGradient.Offset = Vector2.new(0, 0)
        searchShadeGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.96),
            NumberSequenceKeypoint.new(0.7, 0.985),
            NumberSequenceKeypoint.new(1, 0.82),
        })
        searchShadeGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        searchShadeGradient.Rotation = 90
        searchShadeGradient.Parent = searchShade

        local function createOptionButton(optionText)
            local button = Instance.new("TextButton")
            button.Name = "TextButton"
            button.LayoutOrder = 0
            button.TextWrapped = false
            button.TextTransparency = 0
            button.AnchorPoint = Vector2.new(0, 0)
            button.ZIndex = 9104
            button.TextSize = 8
            button.Size = UDim2.new(1, 0, 0, 24)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.TextColor3 = Color3.fromRGB(27, 42, 53)
            button.TextXAlignment = Enum.TextXAlignment.Center
            button.Text = ""
            button.Modal = false
            button.AutoButtonColor = false
            button.Font = Enum.Font.Legacy
            button.Position = UDim2.new(0, 0, 0, 0)
            button.Visible = true
            button.TextYAlignment = Enum.TextYAlignment.Center
            button.TextScaled = false

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = button

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = button

            local sheen = Instance.new("Frame")
            sheen.Name = "Frame"
            sheen.Visible = true
            sheen.ClipsDescendants = false
            sheen.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheen.BackgroundTransparency = 0
            sheen.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            sheen.Position = UDim2.new(0, 0, 0, 0)
            sheen.AnchorPoint = Vector2.new(0, 0)
            sheen.ZIndex = 9105
            sheen.BorderSizePixel = 0
            sheen.Size = UDim2.new(1, 0, 1, 0)
            sheen.Parent = button

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = UDim.new(0, 8)
            sheenCorner.Parent = sheen

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.15, 0.92),
                NumberSequenceKeypoint.new(0.5, 0.88),
                NumberSequenceKeypoint.new(0.85, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            sheenGradient.Rotation = 120
            sheenGradient.Parent = sheen

            local shade = Instance.new("Frame")
            shade.Name = "Frame"
            shade.Visible = true
            shade.ClipsDescendants = false
            shade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shade.BackgroundTransparency = 0
            shade.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shade.Position = UDim2.new(0, 0, 0, 0)
            shade.AnchorPoint = Vector2.new(0, 0)
            shade.ZIndex = 9105
            shade.BorderSizePixel = 0
            shade.Size = UDim2.new(1, 0, 1, 0)
            shade.Parent = button

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = UDim.new(0, 8)
            shadeCorner.Parent = shade

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.96),
                NumberSequenceKeypoint.new(0.7, 0.985),
                NumberSequenceKeypoint.new(1, 0.82),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shade

            local check = Instance.new("ImageLabel")
            check.Name = "ImageLabel"
            check.LayoutOrder = 0
            check.ImageTransparency = 1
            check.AnchorPoint = Vector2.new(0, 0.5)
            check.Image = "rbxassetid://10709790644"
            check.TileSize = UDim2.new(1, 0, 1, 0)
            check.ZIndex = 9106
            check.BorderSizePixel = 1
            check.Size = UDim2.new(0, 14, 0, 14)
            check.ScaleType = Enum.ScaleType.Stretch
            check.BackgroundTransparency = 1
            check.Visible = true
            check.Position = UDim2.new(0, 8, 0.5, 0)
            check.SliceScale = 1
            check.ImageColor3 = Color3.fromRGB(230, 230, 230)
            check.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            check.Parent = button

            local label = Instance.new("TextLabel")
            label.Name = "TextLabel"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 9106
            label.TextSize = 13
            label.Size = UDim2.new(1, -36, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.BackgroundTransparency = 1
            label.Text = optionText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 28, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = button

            return {
                button = button,
                stroke = stroke,
                check = check,
                label = label,
            }
        end

        local function setOptionVisual(optionObj, isSelected)
            if isSelected then
                optionObj.button.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
                optionObj.stroke.Transparency = 0.25
                optionObj.check.ImageTransparency = 0
                optionObj.label.TextColor3 = Color3.fromRGB(230, 230, 230)
            else
                optionObj.button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
                optionObj.stroke.Transparency = 0.5
                optionObj.check.ImageTransparency = 1
                optionObj.label.TextColor3 = Color3.fromRGB(160, 160, 165)
            end
        end

        local options = {}
        local selectedValue = nil
        local currentAnchorButton = nil
        local currentAnchorPositionObject = nil
        local currentAnchorWidthObject = nil
        local openTween = nil
        local closeTween = nil
        local isOpen = false
        local followConn = nil
        local DROPDOWN_HEIGHT = 146
        local DROPDOWN_GAP = 6

        local optionTweens = {}
        local OPTION_HEIGHT = 24
        local LIST_PADDING_Y = 12 -- matches UIPadding top/bottom (6 + 6)
        local LIST_ITEM_PADDING = 2 -- matches UIListLayout.Padding
        local MAX_LIST_HEIGHT = 110 -- original: 146 - 36 header
        local MIN_LIST_HEIGHT = 36 -- enough for 1 row + padding
        local popupHeightTween = nil

        local function computeAnchoredPosition()
            if (not currentAnchorPositionObject or not currentAnchorPositionObject.Parent) or (not currentAnchorWidthObject or not currentAnchorWidthObject.Parent) then
                return UDim2.new(0, 0, 0, 0), 0
            end
            local btnPos = currentAnchorWidthObject.AbsolutePosition
            local btnSize = currentAnchorWidthObject.AbsoluteSize
            local btnHeight = btnSize.Y
            if btnHeight <= 0 then
                btnHeight = 24
            end
            local btnWidth = btnSize.X
            if btnWidth <= 0 then
                btnWidth = 160
            end
            local pos = UDim2.new(0, btnPos.X, 0, btnPos.Y + btnHeight + DROPDOWN_GAP)
            return pos, btnWidth
        end

        local function clampNumber(v, minV, maxV)
            if v < minV then
                return minV
            end
            if v > maxV then
                return maxV
            end
            return v
        end

        local function computeTargetPopupHeight(visibleCount)
            -- Header is fixed 36px (search box + spacing). Remaining is list area.
            if visibleCount < 0 then
                visibleCount = 0
            end
            local contentHeight = LIST_PADDING_Y
            if visibleCount > 0 then
                contentHeight += (visibleCount * OPTION_HEIGHT)
                contentHeight += ((visibleCount - 1) * LIST_ITEM_PADDING)
            end

            local listHeight = clampNumber(contentHeight, MIN_LIST_HEIGHT, MAX_LIST_HEIGHT)
            return 36 + listHeight
        end

        local heightHook = nil

        local function tweenPopupHeight(targetHeight)
            if heightHook then
                heightHook(targetHeight)
            end
            if isInline then
                return
            end
            if not root.Visible then
                return
            end
            if popupHeightTween then
                popupHeightTween:Cancel()
                popupHeightTween = nil
            end
            local currentWidth = root.Size.X.Offset
            popupHeightTween = TweenService:Create(root, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(0, currentWidth, 0, targetHeight),
            })
            popupHeightTween:Play()
        end

        local onCloseHandlers = {}

        local function fireClosed()
            for _, fn in ipairs(onCloseHandlers) do
                task.spawn(function()
                    pcall(fn)
                end)
            end
        end

        local function closeImmediate()
            if closeTween then
                closeTween:Cancel()
                closeTween = nil
            end
            if openTween then
                openTween:Cancel()
                openTween = nil
            end
            if popupHeightTween then
                popupHeightTween:Cancel()
                popupHeightTween = nil
            end
            isOpen = false
            if followConn then
                followConn:Disconnect()
                followConn = nil
            end
            currentAnchorPositionObject = nil
            currentAnchorWidthObject = nil
            currentAnchorButton = nil
            root.Visible = false
            fireClosed()
        end

        local function updateCanvas()
            local contentHeight = listLayout.AbsoluteContentSize.Y
            content.Size = UDim2.new(1, 0, 0, contentHeight)
            local paddedHeight = contentHeight + 12
            scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, math.max(paddedHeight, 114))
        end
        listLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(updateCanvas)

        local function clearOptions()
            for _, opt in ipairs(options) do
                if opt.button and opt.button.Parent then
                    opt.button:Destroy()
                end
            end
            options = {}
            updateCanvas()
        end

        local function applySearchFilter(query)
            local q = string.lower(query or "")
            local visibleCount = 0

            local function setOptionVisibleAnimated(opt, shouldBeVisible)
                if opt.targetVisible == shouldBeVisible then
                    return
                end
                opt.targetVisible = shouldBeVisible

                local existing = optionTweens[opt.button]
                if existing then
                    existing:Cancel()
                    optionTweens[opt.button] = nil
                end

                opt.button.ClipsDescendants = true

                if shouldBeVisible then
                    opt.button.Visible = true
                    if opt.button.Size.Y.Offset <= 0 then
                        opt.button.Size = UDim2.new(1, 0, 0, 0)
                    end
                    local tween = TweenService:Create(opt.button, TweenInfo.new(0.09, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(1, 0, 0, OPTION_HEIGHT),
                    })
                    optionTweens[opt.button] = tween
                    tween.Completed:Connect(function()
                        if opt.targetVisible then
                            opt.button.ClipsDescendants = false
                            optionTweens[opt.button] = nil
                        end
                    end)
                    tween:Play()
                else
                    local tween = TweenService:Create(opt.button, TweenInfo.new(0.08, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(1, 0, 0, 0),
                    })
                    optionTweens[opt.button] = tween
                    tween.Completed:Connect(function()
                        if not opt.targetVisible then
                            opt.button.Visible = false
                            opt.button.ClipsDescendants = false
                            optionTweens[opt.button] = nil
                        end
                    end)
                    tween:Play()
                end
            end

            for _, opt in ipairs(options) do
                local match = (q == "") or (string.find(string.lower(opt.text), q, 1, true) ~= nil)
                setOptionVisibleAnimated(opt, match)
                if match then
                    visibleCount += 1
                end
            end

            noResults.Visible = (visibleCount == 0)
            updateCanvas()
            tweenPopupHeight(computeTargetPopupHeight(visibleCount))
        end

        searchBox:GetPropertyChangedSignal("Text"):Connect(function()
            if not root.Visible then
                return
            end
            applySearchFilter(searchBox.Text)
        end)

        local function pointInFrame(point, frame)
            local pos = frame.AbsolutePosition
            local size = frame.AbsoluteSize
            return point.X >= pos.X and point.X <= pos.X + size.X and point.Y >= pos.Y and point.Y <= pos.Y + size.Y
        end

        UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if gameProcessed then
                return
            end
            if isInline then
                return
            end
            if not isOpen then
                return
            end
            if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                return
            end
            local mousePos = UserInputService:GetMouseLocation()
            if pointInFrame(mousePos, root) then
                return
            end
            if currentAnchorButton and currentAnchorButton.Parent and pointInFrame(mousePos, currentAnchorButton) then
                return
            end

            -- Click-off should close instantly (no animation)
            closeImmediate()
        end)

        local api = {}

        -- Expose the generated root so inline holder can size/reparent it.
        api._debugRoot = root

        -- Inline helper: allow outer wrapper to mirror internal size changes (search filtering).
        function api._setHeightHook(handler)
            if type(handler) ~= "function" then
                heightHook = nil
                return
            end
            heightHook = handler
        end

        function api:CloseImmediate()
            if isInline then
                return
            end
            closeImmediate()
        end

        function api:SetOptions(optionTexts, newSelectedValue, onSelected)
            clearOptions()
            selectedValue = newSelectedValue
            for _, text in ipairs(optionTexts) do
                local obj = createOptionButton(text)
                obj.text = text
                obj.targetVisible = true
                obj.button.Size = UDim2.new(1, 0, 0, OPTION_HEIGHT)
                setOptionVisual(obj, text == selectedValue)
                obj.button.Parent = content
                obj.button.MouseButton1Click:Connect(function()
                    selectedValue = text
                    for _, other in ipairs(options) do
                        setOptionVisual(other, other.text == selectedValue)
                    end
                    if onSelected then
                        onSelected(text)
                    end
                    if not isInline then
                        api:Close()
                    end
                end)
                table.insert(options, obj)
            end
            applySearchFilter(searchBox.Text)
        end

        function api:Open(anchorPositionObject, widthObject, clickIgnoreObject)
            if isInline then
                return
            end
            currentAnchorPositionObject = anchorPositionObject
            currentAnchorWidthObject = widthObject or anchorPositionObject
            currentAnchorButton = clickIgnoreObject or widthObject or anchorPositionObject
            searchBox.Text = ""
            noResults.Visible = false
            applySearchFilter("")

            local anchoredPos, anchoredWidth = computeAnchoredPosition()
            root.Position = anchoredPos
            root.Size = UDim2.new(0, anchoredWidth, 0, 0)
            root.Visible = true

            if closeTween then
                closeTween:Cancel()
            end
            if openTween then
                openTween:Cancel()
            end

            isOpen = true
            local targetHeight = computeTargetPopupHeight(#options)
            openTween = TweenService:Create(root, TweenInfo.new(0.14, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(0, anchoredWidth, 0, targetHeight),
            })
            openTween:Play()

            if followConn then
                followConn:Disconnect()
                followConn = nil
            end

            followConn = RunService.RenderStepped:Connect(function()
                if not isOpen then
                    return
                end
                if (not currentAnchorPositionObject or not currentAnchorPositionObject.Parent) or (not currentAnchorWidthObject or not currentAnchorWidthObject.Parent) then
                    closeImmediate()
                    return
                end
                local pos, width = computeAnchoredPosition()
                root.Position = pos
                root.Size = UDim2.new(0, width, 0, root.Size.Y.Offset)
            end)

            task.defer(function()
                if root.Visible then
                    searchBox:CaptureFocus()
                end
            end)
        end

        function api:Close()
            if isInline then
                return
            end
            if not root.Visible then
                return
            end
            if closeTween then
                closeTween:Cancel()
            end
            if openTween then
                openTween:Cancel()
            end

            isOpen = false
            if followConn then
                followConn:Disconnect()
                followConn = nil
            end
            currentAnchorPositionObject = nil
            currentAnchorButton = nil
            currentAnchorWidthObject = nil

            local currentWidth = root.Size.X.Offset
            closeTween = TweenService:Create(root, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(0, currentWidth, 0, 0),
            })
            closeTween.Completed:Connect(function()
                if not isOpen then
                    root.Visible = false
                    fireClosed()
                end
            end)
            closeTween:Play()
        end

        function api:OnClosed(handler)
            if type(handler) ~= "function" then
                return
            end
            table.insert(onCloseHandlers, handler)
        end

        -- Allow inline wrapper to trigger close listeners.
        api._fireClosed = fireClosed

        function api:FocusSearch()
            if root.Visible then
                searchBox:CaptureFocus()
            end
        end

        function api:IsOpen()
            return isOpen
        end

        return api
    end

    local fuelDropdownOptions = { "Wood", "Log", "Leaves", "Coal" }

    -- One overlay popup instance for Fuel (does not resize/extend the settings section).
    local fuelDropdownPopup = createNilhubDropdownPopup()

    local function createFuelInlineDropdown(elementsContainer)
        local holder = Instance.new("Frame")
        holder.Name = "FuelDropdownInlineHolder"

        holder.Visible = false
        holder.ClipsDescendants = true
        holder.BorderSizePixel = 0
        holder.BackgroundTransparency = 1
        holder.Size = UDim2.new(1, 0, 0, 0)
        holder.Parent = elementsContainer

        local popup = createNilhubDropdownPopup({
            parent = holder,
            inline = true,
        })

        -- align to the right-side dropdown column
        local popupRoot = popup and popup._debugRoot
        if popupRoot then
            popupRoot.Visible = false
            popupRoot.AnchorPoint = Vector2.new(0, 0)
            popupRoot.Position = UDim2.new(0.4, 0, 0, 0)
            popupRoot.Size = UDim2.new(0.6, 0, 0, 0)
        end

        -- Wrap popup open/close to expand/collapse the holder (inline behavior)
        local inline = {}
        inline._holder = holder
        inline._popup = popup
        inline._root = popupRoot
        inline._isOpen = false
        inline._heightTween = nil

        function inline:IsOpen()
            return inline._isOpen
        end

        function inline:SetOptions(optionTexts, selectedValue, onSelected)
            if inline._popup then
                inline._popup:SetOptions(optionTexts, selectedValue, onSelected)
            end
        end

        function inline:CloseImmediate()
            if inline._heightTween then
                inline._heightTween:Cancel()
                inline._heightTween = nil
            end
            inline._isOpen = false
            holder.Size = UDim2.new(1, 0, 0, 0)
            holder.Visible = false
            if popupRoot then
                popupRoot.Visible = false
                popupRoot.Size = UDim2.new(0.6, 0, 0, 0)
            end
            if inline._popup and inline._popup._fireClosed then
                inline._popup._fireClosed()
            end
        end

        function inline:CloseWithAnimation()
            if not inline._isOpen then
                return
            end
            if inline._heightTween then
                inline._heightTween:Cancel()
                inline._heightTween = nil
            end
            inline._isOpen = false

            inline._heightTween = TweenService:Create(holder, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(1, 0, 0, 0),
            })
            inline._heightTween.Completed:Connect(function()
                holder.Visible = false
                if popupRoot then
                    popupRoot.Visible = false
                    popupRoot.Size = UDim2.new(0.6, 0, 0, 0)
                end
                if inline._popup and inline._popup._fireClosed then
                    inline._popup._fireClosed()
                end
            end)
            inline._heightTween:Play()

            if popupRoot then
                TweenService:Create(popupRoot, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Size = UDim2.new(0.6, 0, 0, 0),
                }):Play()
            end
        end

        function inline:OpenWithAnimation(targetHeight)
            if inline._heightTween then
                inline._heightTween:Cancel()
                inline._heightTween = nil
            end
            inline._isOpen = true
            holder.Visible = true
            holder.Size = UDim2.new(1, 0, 0, 0)
            if popupRoot then
                popupRoot.Visible = true
                popupRoot.Size = UDim2.new(0.6, 0, 0, 0)
            end
            inline._heightTween = TweenService:Create(holder, TweenInfo.new(0.14, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(1, 0, 0, targetHeight),
            })
            inline._heightTween:Play()

            if popupRoot then
                TweenService:Create(popupRoot, TweenInfo.new(0.14, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Size = UDim2.new(0.6, 0, 0, targetHeight),
                }):Play()
            end

            if inline._popup and inline._popup.FocusSearch then
                task.defer(function()
                    inline._popup:FocusSearch()
                end)
            end
        end

        function inline:TweenHeight(targetHeight)
            if not inline._isOpen then
                return
            end
            if inline._heightTween then
                inline._heightTween:Cancel()
                inline._heightTween = nil
            end
            inline._heightTween = TweenService:Create(holder, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Size = UDim2.new(1, 0, 0, targetHeight),
            })
            inline._heightTween:Play()
            if popupRoot then
                TweenService:Create(popupRoot, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    Size = UDim2.new(0.6, 0, 0, targetHeight),
                }):Play()
            end
        end

        return inline
    end

    local function bindFuelDropdownRow(dropdownRow)
        if not dropdownRow then
            return
        end

        local dropdownButton = nil
        local arrowIcon = nil
        for _, desc in ipairs(dropdownRow:GetDescendants()) do
            if desc:IsA("TextButton") and desc.Name == "TextButton" then
                dropdownButton = desc
            elseif desc:IsA("ImageLabel") and desc.Image == "rbxassetid://7072706796" then
                arrowIcon = desc
            end
        end

        if not dropdownButton then
            return
        end

        if arrowIcon then
            arrowIcon.Rotation = 0
        end

        dropdownRow:SetAttribute("DropdownValue", dropdownButton.Text)

        local openToken = 0
        local arrowTween = nil
        local function tweenArrow(targetRotation)
            if not arrowIcon then
                return
            end
            if arrowTween then
                arrowTween:Cancel()
                arrowTween = nil
            end
            arrowTween = TweenService:Create(arrowIcon, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                Rotation = targetRotation,
            })
            arrowTween:Play()
        end

        if fuelDropdownPopup and fuelDropdownPopup.OnClosed then
            fuelDropdownPopup:OnClosed(function()
                openToken += 1
                tweenArrow(0)
            end)
        end

        dropdownButton.MouseButton1Click:Connect(function()
            if fuelDropdownPopup and fuelDropdownPopup:IsOpen() then
                openToken += 1
                fuelDropdownPopup:CloseImmediate()
                return
            end

            openToken += 1
            local myToken = openToken

            tweenArrow(180)

            -- Prepare options immediately, but delay the actual dropdown until arrow ~150deg.
            fuelDropdownPopup:SetOptions(fuelDropdownOptions, dropdownButton.Text, function(selected)
                dropdownButton.Text = selected
                dropdownRow:SetAttribute("DropdownValue", selected)
            end)

            task.delay(0.125, function()
                if myToken ~= openToken then
                    return
                end
                if fuelDropdownPopup and fuelDropdownPopup:IsOpen() then
                    return
                end

                -- Anchor directly to the value button so it always appears under it.
                fuelDropdownPopup:Open(dropdownButton, dropdownButton, dropdownButton)
            end)
        end)
    end

    -- Main Mid Sweep overlay
    local mainMidSweep = Instance.new("Frame")
    mainMidSweep.Name = "MainMidSweep"
    mainMidSweep.Visible = true
    mainMidSweep.ClipsDescendants = false
    mainMidSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
    mainMidSweep.LayoutOrder = 0
    mainMidSweep.BackgroundTransparency = 0
    mainMidSweep.Rotation = 0
    mainMidSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    mainMidSweep.Position = UDim2.new(0, 0, 0, 0)
    mainMidSweep.AnchorPoint = Vector2.new(0, 0)
    mainMidSweep.ZIndex = 9000
    mainMidSweep.BorderSizePixel = 0
    mainMidSweep.Size = UDim2.new(1, 0, 1, 0)
    mainMidSweep.Parent = mainFrame

    local mainMidSweepCorner = Instance.new("UICorner")
    mainMidSweepCorner.Name = "UICorner"
    mainMidSweepCorner.CornerRadius = UDim.new(0, 14)
    mainMidSweepCorner.Parent = mainMidSweep

    local mainMidSweepGradient = Instance.new("UIGradient")
    mainMidSweepGradient.Name = "UIGradient"
    mainMidSweepGradient.Offset = Vector2.new(0, 0)
    mainMidSweepGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1),
        NumberSequenceKeypoint.new(0.15, 0.96),
        NumberSequenceKeypoint.new(0.5, 0.88),
        NumberSequenceKeypoint.new(0.85, 0.96),
        NumberSequenceKeypoint.new(1, 1)
    })
    mainMidSweepGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
    })
    mainMidSweepGradient.Rotation = 120
    mainMidSweepGradient.Parent = mainMidSweep

    -- Bottom fade overlay
    local bottomFade = Instance.new("Frame")
    bottomFade.Name = "MainBottomFade"
    bottomFade.Visible = true
    bottomFade.ClipsDescendants = false
    bottomFade.BorderColor3 = Color3.fromRGB(27, 42, 53)
    bottomFade.LayoutOrder = 0
    bottomFade.BackgroundTransparency = 0
    bottomFade.Rotation = 0
    bottomFade.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    bottomFade.Position = UDim2.new(0.5, 0, 1, 0)
    bottomFade.AnchorPoint = Vector2.new(0.5, 1)
    bottomFade.ZIndex = 9001
    bottomFade.BorderSizePixel = 0
    bottomFade.Size = UDim2.new(1, 0, 0, 160)
    bottomFade.Parent = mainFrame

    local bottomFadeCorner = Instance.new("UICorner")
    bottomFadeCorner.Name = "UICorner"
    bottomFadeCorner.CornerRadius = UDim.new(0, 14)
    bottomFadeCorner.Parent = bottomFade

    local bottomFadeGradient = Instance.new("UIGradient")
    bottomFadeGradient.Name = "UIGradient"
    bottomFadeGradient.Offset = Vector2.new(0, 0)
    bottomFadeGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1),
        NumberSequenceKeypoint.new(0.55, 0.8),
        NumberSequenceKeypoint.new(1, 0.4)
    })
    bottomFadeGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
    })
    bottomFadeGradient.Rotation = 90
    bottomFadeGradient.Parent = bottomFade

    -- Content area (adjusted for sidebar)
    local contentFrame = Instance.new("Frame")
    contentFrame.Name = "ContentFrame"
    contentFrame.Visible = true
    contentFrame.ClipsDescendants = true
    contentFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
    contentFrame.LayoutOrder = 0
    contentFrame.BackgroundTransparency = 0
    contentFrame.Rotation = 0
    contentFrame.BackgroundColor3 = Color3.fromRGB(18, 20, 22)
    contentFrame.Position = UDim2.new(0, 180, 0, 0)
    contentFrame.AnchorPoint = Vector2.new(0, 0)
    contentFrame.ZIndex = 1
    contentFrame.BorderSizePixel = 0
    contentFrame.Size = UDim2.new(1, -180, 1, 0)
    contentFrame.Parent = mainFrame

    local contentCorner = Instance.new("UICorner")
    contentCorner.Name = "UICorner"
    contentCorner.CornerRadius = UDim.new(0, 12)
    contentCorner.Parent = contentFrame

    local contentStroke = Instance.new("UIStroke")
    contentStroke.Name = "UIStroke"
    contentStroke.Thickness = 1
    contentStroke.Transparency = 0.5
    contentStroke.Color = Color3.fromRGB(40, 43, 46)
    contentStroke.ZIndex = 1
    contentStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    contentStroke.LineJoinMode = Enum.LineJoinMode.Round
    contentStroke.Parent = contentFrame

    local contentGradient = Instance.new("UIGradient")
    contentGradient.Name = "UIGradient"
    contentGradient.Offset = Vector2.new(0, 0)
    contentGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.06),
        NumberSequenceKeypoint.new(0.5, 0.12),
        NumberSequenceKeypoint.new(1, 0.06)
    })
    contentGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    })
    contentGradient.Rotation = 90
    contentGradient.Parent = contentFrame

    -- Search Container
    local searchContainer = Instance.new("Frame")
    searchContainer.Name = "SearchContainer"
    searchContainer.Visible = true
    searchContainer.ClipsDescendants = false
    searchContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
    searchContainer.LayoutOrder = 0
    searchContainer.BackgroundTransparency = 1
    searchContainer.Rotation = 0
    searchContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    searchContainer.Position = UDim2.new(0, 0, 0, 0)
    searchContainer.AnchorPoint = Vector2.new(0, 0)
    searchContainer.ZIndex = 1
    searchContainer.BorderSizePixel = 1
    searchContainer.Size = UDim2.new(1, 0, 0, 48)
    searchContainer.Parent = contentFrame

    -- Search Bar Frame
    local searchBarFrame = Instance.new("Frame")
    searchBarFrame.Name = "SearchBarFrame"
    searchBarFrame.Visible = true
    searchBarFrame.ClipsDescendants = false
    searchBarFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
    searchBarFrame.LayoutOrder = 0
    searchBarFrame.BackgroundTransparency = 1
    searchBarFrame.Rotation = 0
    searchBarFrame.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
    searchBarFrame.Position = UDim2.new(1, -16, 0.5, 0)
    searchBarFrame.AnchorPoint = Vector2.new(1, 0.5)
    searchBarFrame.ZIndex = 1
    searchBarFrame.BorderSizePixel = 0
    searchBarFrame.Size = UDim2.new(0, 34, 0, 34)
    searchBarFrame.Parent = searchContainer

    local searchBarCorner = Instance.new("UICorner")
    searchBarCorner.Name = "UICorner"
    searchBarCorner.CornerRadius = UDim.new(0, 8)
    searchBarCorner.Parent = searchBarFrame

    local searchBarStroke = Instance.new("UIStroke")
    searchBarStroke.Name = "UIStroke"
    searchBarStroke.Thickness = 1
    searchBarStroke.Transparency = 0.7
    searchBarStroke.Color = Color3.fromRGB(40, 43, 46)
    searchBarStroke.ZIndex = 1
    searchBarStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    searchBarStroke.LineJoinMode = Enum.LineJoinMode.Round
    searchBarStroke.Parent = searchBarFrame

    local searchIcon = Instance.new("ImageButton")
    searchIcon.Name = "SearchIcon"
    searchIcon.LayoutOrder = 0
    searchIcon.ImageTransparency = 0
    searchIcon.AnchorPoint = Vector2.new(0.5, 0.5)
    searchIcon.Image = "rbxassetid://10734943674"
    searchIcon.TileSize = UDim2.new(1, 0, 1, 0)
    searchIcon.ZIndex = 1
    searchIcon.BorderSizePixel = 1
    searchIcon.Size = UDim2.new(0, 16, 0, 16)
    searchIcon.ScaleType = Enum.ScaleType.Stretch
    searchIcon.Modal = false
    searchIcon.BackgroundTransparency = 1
    searchIcon.AutoButtonColor = true
    searchIcon.Rotation = 0
    searchIcon.Position = UDim2.new(0, 17, 0.5, 0)
    searchIcon.SliceScale = 1
    searchIcon.Visible = true
    searchIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
    searchIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    searchIcon.Parent = searchBarFrame

    local searchBox = Instance.new("TextBox")
    searchBox.Name = "SearchBox"
    searchBox.LayoutOrder = 0
    searchBox.AnchorPoint = Vector2.new(0, 0.5)
    searchBox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
    searchBox.BorderSizePixel = 1
    searchBox.ZIndex = 1
    searchBox.TextSize = 14
    searchBox.Size = UDim2.new(1, -52, 1, -8)
    searchBox.BackgroundTransparency = 1
    searchBox.PlaceholderText = "Search elements..."
    searchBox.TextYAlignment = Enum.TextYAlignment.Center
    searchBox.TextColor3 = Color3.fromRGB(230, 230, 230)
    searchBox.TextXAlignment = Enum.TextXAlignment.Left
    searchBox.Text = ""
    searchBox.TextEditable = true
    searchBox.MultiLine = false
    searchBox.Rotation = 0
    searchBox.Font = Enum.Font.GothamBold
    searchBox.Position = UDim2.new(0, 36, 0.5, 0)
    searchBox.Visible = false
    searchBox.TextTransparency = 1
    searchBox.ClearTextOnFocus = false
    searchBox.TextScaled = false
    searchBox.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    searchBox.Parent = searchBarFrame

    local searchBarGradient = Instance.new("UIGradient")
    searchBarGradient.Name = "UIGradient"
    searchBarGradient.Offset = Vector2.new(0, 0)
    searchBarGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0),
        NumberSequenceKeypoint.new(1, 0)
    })
    searchBarGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(45, 45, 55)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(30, 30, 40))
    })
    searchBarGradient.Rotation = 0
    searchBarGradient.Parent = searchBarFrame

    do
        -- Hover: SearchBarFrame (button area) -> tint icon red
        local defaultIconColor = Color3.fromRGB(160, 160, 165)
        local hoverIconColor = ACCENT_PRIMARY
        local iconTweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local activeIconTween = nil

        -- Typing/focus: make the border stroke more visible
        local defaultStrokeTransparency = 0.7
        local typingStrokeTransparency = 0.30000001192092896
        local strokeTweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local activeStrokeTween = nil
        local searchHasFocus = false

        local function tweenIconColor(target)
            if activeIconTween then
                activeIconTween:Cancel()
            end
            activeIconTween = TweenService:Create(searchIcon, iconTweenInfo, {
                ImageColor3 = target,
            })
            activeIconTween:Play()
        end

        local function tweenStrokeTransparency(target)
            if activeStrokeTween then
                activeStrokeTween:Cancel()
            end
            activeStrokeTween = TweenService:Create(searchBarStroke, strokeTweenInfo, {
                Transparency = target,
            })
            activeStrokeTween:Play()
        end

        searchBarFrame.MouseEnter:Connect(function()
            tweenIconColor(hoverIconColor)
        end)
        searchBarFrame.MouseLeave:Connect(function()
            tweenIconColor(defaultIconColor)
        end)

        -- Click/focus: expand the search bar and fade in text
        -- (Old behavior: clicking anywhere on the bar expands it.)
        searchBarFrame.Active = true
        local collapsedSize = UDim2.new(0, 34, 0, 34)
        local expandedSize = UDim2.new(0, 240, 0, 34)
        local expandedOvershootSize = UDim2.new(0, 250, 0, 34)
        local expandTweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local overshootTweenInfo = TweenInfo.new(0.17, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local settleTweenInfo = TweenInfo.new(0.08, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

        local activeExpandTween = nil
        local activeSettleTween = nil
        local activeTextFadeTween = nil
        local expanded = false

        local function expandSearch()
            if expanded then
                return
            end
            expanded = true

            searchBox.Visible = true
            searchBox.TextTransparency = 1

            if activeExpandTween then
                activeExpandTween:Cancel()
            end
            if activeSettleTween then
                activeSettleTween:Cancel()
            end

            -- Subtle bounce: overshoot a few pixels, then settle.
            activeExpandTween = TweenService:Create(searchBarFrame, overshootTweenInfo, {
                Size = expandedOvershootSize,
            })
            activeExpandTween:Play()
            activeExpandTween.Completed:Once(function()
                if not expanded then
                    return
                end
                activeSettleTween = TweenService:Create(searchBarFrame, settleTweenInfo, {
                    Size = expandedSize,
                })
                activeSettleTween:Play()
            end)

            if activeTextFadeTween then
                activeTextFadeTween:Cancel()
            end
            activeTextFadeTween = TweenService:Create(searchBox, expandTweenInfo, {
                TextTransparency = 0,
            })
            activeTextFadeTween:Play()
        end

        local function collapseSearch()
            if not expanded then
                return
            end
            expanded = false

            if activeExpandTween then
                activeExpandTween:Cancel()
            end
            if activeSettleTween then
                activeSettleTween:Cancel()
            end
            activeExpandTween = TweenService:Create(searchBarFrame, expandTweenInfo, {
                Size = collapsedSize,
            })
            activeExpandTween:Play()

            if activeTextFadeTween then
                activeTextFadeTween:Cancel()
            end
            activeTextFadeTween = TweenService:Create(searchBox, expandTweenInfo, {
                TextTransparency = 1,
            })
            activeTextFadeTween:Play()

            activeExpandTween.Completed:Once(function()
                if not expanded then
                    searchBox.Visible = false
                end
            end)
        end

        local function isPointInside(guiObject, screenPoint)
            if not guiObject then
                return false
            end
            local absPos = guiObject.AbsolutePosition
            local absSize = guiObject.AbsoluteSize
            return screenPoint.X >= absPos.X
                and screenPoint.Y >= absPos.Y
                and screenPoint.X <= (absPos.X + absSize.X)
                and screenPoint.Y <= (absPos.Y + absSize.Y)
        end

        -- If something else modified size, normalize to collapsed defaults.
        searchBarFrame.Size = collapsedSize

        searchIcon.MouseButton1Click:Connect(function()
            expandSearch()
            searchBox:CaptureFocus()
        end)

        searchBarFrame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1
                or input.UserInputType == Enum.UserInputType.Touch then
                expandSearch()
            end
        end)

        searchBox.Focused:Connect(function()
            expandSearch()
            searchHasFocus = true
            tweenStrokeTransparency(typingStrokeTransparency)
        end)

        searchBox.FocusLost:Connect(function()
            searchHasFocus = false
            tweenStrokeTransparency(defaultStrokeTransparency)
        end)

        local function inputPositionToVector2(pos)
            if typeof(pos) == "Vector2" then
                return pos
            end
            if typeof(pos) == "Vector3" then
                return Vector2.new(pos.X, pos.Y)
            end
            return nil
        end

        UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if not expanded then
                return
            end
            if input.UserInputType ~= Enum.UserInputType.MouseButton1
                and input.UserInputType ~= Enum.UserInputType.Touch then
                return
            end

            local pos = inputPositionToVector2(input.Position)
            if not pos then
                return
            end

            if isPointInside(searchBarFrame, pos) then
                return
            end

            collapseSearch()
        end)
    end

    -- Content Separator
    local contentSeparator = Instance.new("Frame")
    contentSeparator.Name = "ContentSeparator"
    contentSeparator.Visible = true
    contentSeparator.ClipsDescendants = false
    contentSeparator.BorderColor3 = Color3.fromRGB(27, 42, 53)
    contentSeparator.LayoutOrder = 0
    contentSeparator.BackgroundTransparency = 1
    contentSeparator.Rotation = 0
    contentSeparator.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
    contentSeparator.Position = UDim2.new(0, 10, 0, 48)
    contentSeparator.AnchorPoint = Vector2.new(0, 0)
    contentSeparator.ZIndex = 1
    contentSeparator.BorderSizePixel = 0
    contentSeparator.Size = UDim2.new(1, -20, 0, 12)
    contentSeparator.Parent = contentFrame

    -- Center Line
    local centerLine = Instance.new("Frame")
    centerLine.Name = "CenterLine"
    centerLine.Visible = true
    centerLine.ClipsDescendants = false
    centerLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
    centerLine.LayoutOrder = 0
    centerLine.BackgroundTransparency = 0.35
    centerLine.Rotation = 0
    centerLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
    centerLine.Position = UDim2.new(0.5, 0, 0.5, 0)
    centerLine.AnchorPoint = Vector2.new(0.5, 0.5)
    centerLine.ZIndex = 1
    centerLine.BorderSizePixel = 0
    centerLine.Size = UDim2.new(1, -20, 0, 1)
    centerLine.Parent = contentSeparator

    local centerLineGradient = Instance.new("UIGradient")
    centerLineGradient.Name = "UIGradient"
    centerLineGradient.Offset = Vector2.new(0, 0)
    centerLineGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1),
        NumberSequenceKeypoint.new(0.15, 0.35),
        NumberSequenceKeypoint.new(0.85, 0.35),
        NumberSequenceKeypoint.new(1, 1)
    })
    centerLineGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    })
    centerLineGradient.Rotation = 0
    centerLineGradient.Parent = centerLine

    -- Top Shade
    local topShade = Instance.new("Frame")
    topShade.Name = "TopShade"
    topShade.Visible = true
    topShade.ClipsDescendants = false
    topShade.BorderColor3 = Color3.fromRGB(27, 42, 53)
    topShade.LayoutOrder = 0
    topShade.BackgroundTransparency = 1
    topShade.Rotation = 0
    topShade.Position = UDim2.new(0.5, 0, 0, 0)
    topShade.AnchorPoint = Vector2.new(0.5, 0)
    topShade.ZIndex = 1
    topShade.BorderSizePixel = 0
    topShade.Size = UDim2.new(1, -20, 0, 5)
    topShade.Parent = contentSeparator

    local topShadeGradient = Instance.new("UIGradient")
    topShadeGradient.Name = "UIGradient"
    topShadeGradient.Offset = Vector2.new(0, 0)
    topShadeGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 1),
        NumberSequenceKeypoint.new(1, 0.7)
    })
    topShadeGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    })
    topShadeGradient.Rotation = 90
    topShadeGradient.Parent = topShade

    -- Bottom Shade
    local bottomShade = Instance.new("Frame")
    bottomShade.Name = "BottomShade"
    bottomShade.Visible = true
    bottomShade.ClipsDescendants = false
    bottomShade.BorderColor3 = Color3.fromRGB(27, 42, 53)
    bottomShade.LayoutOrder = 0
    bottomShade.BackgroundTransparency = 1
    bottomShade.Rotation = 0
    bottomShade.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
    bottomShade.Position = UDim2.new(0.5, 0, 1, 0)
    bottomShade.AnchorPoint = Vector2.new(0.5, 1)
    bottomShade.ZIndex = 1
    bottomShade.BorderSizePixel = 0
    bottomShade.Size = UDim2.new(1, -20, 0, 5)
    bottomShade.Parent = contentSeparator

    local bottomShadeGradient = Instance.new("UIGradient")
    bottomShadeGradient.Name = "UIGradient"
    bottomShadeGradient.Offset = Vector2.new(0, 0)
    bottomShadeGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.7),
        NumberSequenceKeypoint.new(1, 1)
    })
    bottomShadeGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
    })
    bottomShadeGradient.Rotation = 90
    bottomShadeGradient.Parent = bottomShade

    -- Hover tween for button strokes (all buttons that have a UIStroke)
    local strokeHoverTweenByStroke = setmetatable({}, { __mode = "k" })

    local tabHoverBgTweenByButton = setmetatable({}, { __mode = "k" })
    local tabHoverStrokeTweenByStroke = setmetatable({}, { __mode = "k" })
    local checkTweenByImage = setmetatable({}, { __mode = "k" })

    local function bindButtonStrokeHover(button, stroke)
        if not button or not stroke then
            return
        end

        if stroke:GetAttribute("AsteriaStrokeHoverBound") then
            return
        end
        stroke:SetAttribute("AsteriaStrokeHoverBound", true)

        local defaultColor = stroke.Color
        local defaultTransparency = stroke.Transparency
        local defaultThickness = stroke.Thickness

        local isDropdownArrow = false
        do
            for _, d in ipairs(button:GetDescendants()) do
                if d:IsA("ImageLabel") and d.Image == "rbxassetid://7072706796" then
                    isDropdownArrow = true
                    break
                end
            end
        end

        local hoverTransparency = 0.25
        local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local function play(targetColor, targetTransparency)
            local existing = strokeHoverTweenByStroke[stroke]
            if existing then
                existing:Cancel()
            end

            local tween = TweenService:Create(stroke, tweenInfo, {
                Color = targetColor,
                Transparency = targetTransparency,
                Thickness = defaultThickness,
            })
            strokeHoverTweenByStroke[stroke] = tween
            tween:Play()
        end

        button.MouseEnter:Connect(function()
            if button:GetAttribute("AsteriaKeybindCapturing") then
                play(stroke.Color, hoverTransparency)
                return
            end

            local targetColor = isDropdownArrow and defaultColor or Color3.fromRGB(160, 160, 165)
            play(targetColor, hoverTransparency)
        end)

        button.MouseLeave:Connect(function()
            if button:GetAttribute("AsteriaKeybindCapturing") then
                local captureTransparency = stroke:GetAttribute("AsteriaKeybindCaptureTransparency")
                if type(captureTransparency) ~= "number" then
                    captureTransparency = 0.4
                end
                play(stroke.Color, captureTransparency)
                return
            end

            play(defaultColor, defaultTransparency)
        end)
    end

    local function bindTabScrollButtonHover(tabButton)
        if not tabButton or not tabButton:IsA("TextButton") then
            return
        end

        if tabButton:GetAttribute("AsteriaTabHoverBound") then
            return
        end
        tabButton:SetAttribute("AsteriaTabHoverBound", true)

        local stroke = tabButton:FindFirstChildWhichIsA("UIStroke")
        if not stroke then
            return
        end

        local hoverBgTransparency = 0.8
        local hoverStrokeTransparency = 0.7

        local unselectedBgTransparency = 1
        local unselectedStrokeTransparency = 1
        local selectedBgTransparency = 0.1
        local selectedStrokeTransparency = 0.3

        local bgTweenInfo = TweenInfo.new(0.23, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local strokeTweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

        local function isSelected()
            return tabButton:GetAttribute("AsteriaTabSelected") == true
        end

        local function tweenBg(target)
            local existing = tabHoverBgTweenByButton[tabButton]
            if existing then
                existing:Cancel()
            end
            local tween = TweenService:Create(tabButton, bgTweenInfo, {
                BackgroundTransparency = target,
            })
            tabHoverBgTweenByButton[tabButton] = tween
            tween:Play()
        end

        local function tweenStroke(target)
            local existing = tabHoverStrokeTweenByStroke[stroke]
            if existing then
                existing:Cancel()
            end
            local tween = TweenService:Create(stroke, strokeTweenInfo, {
                Transparency = target,
            })
            tabHoverStrokeTweenByStroke[stroke] = tween
            tween:Play()
        end

        tabButton.MouseEnter:Connect(function()
            if isSelected() then
                return
            end
            tweenBg(hoverBgTransparency)
            tweenStroke(hoverStrokeTransparency)
        end)

        tabButton.MouseLeave:Connect(function()
            if isSelected() then
                tweenBg(selectedBgTransparency)
                tweenStroke(selectedStrokeTransparency)
            else
                tweenBg(unselectedBgTransparency)
                tweenStroke(unselectedStrokeTransparency)
            end
        end)
    end

    -- Keybind capture (for KeybindButtons)
    local activeKeybindButton = nil
    local keybindOwnerByKeyName = {}
    local keybindChangedCallbackByButton = setmetatable({}, { __mode = "k" })

    local multiKeybindEnabled = false

    local menuToggleKeyButton = nil

    local keybindsDisplay = nil
    local showKeybindsCheckbox = nil

    local keybindSizeTweenByButton = setmetatable({}, { __mode = "k" })
    local keybindLabelSizeTweenByLabel = setmetatable({}, { __mode = "k" })

    local function updateKeybindButtonSize(keybindButton)
        if not keybindButton or not keybindButton:IsA("TextButton") then
            return
        end

        local text = keybindButton.Text or ""
        local ok, textSize = pcall(function()
            return TextService:GetTextSize(
                text,
                keybindButton.TextSize,
                keybindButton.Font,
                Vector2.new(1000, 20)
            )
        end)

        if not ok or typeof(textSize) ~= "Vector2" then
            return
        end

        local padding = 18
        local minWidth = 44
        local maxWidth = 130
        local targetWidth = math.clamp(math.ceil(textSize.X) + padding, minWidth, maxWidth)

        local sizeTweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local targetKeybindSize = UDim2.new(0, targetWidth, 0, 20)

        local existingSizeTween = keybindSizeTweenByButton[keybindButton]
        if existingSizeTween then
            existingSizeTween:Cancel()
        end

        local sizeTween = TweenService:Create(keybindButton, sizeTweenInfo, {
            Size = targetKeybindSize,
        })
        keybindSizeTweenByButton[keybindButton] = sizeTween
        sizeTween:Play()

        local toggleRow = keybindButton.Parent
        if toggleRow and toggleRow:IsA("Frame") then
            local label = toggleRow:FindFirstChild("Label")
            if label and label:IsA("TextLabel") then
                -- Base spacing: original 44px keybind roughly reserved 80px total => 44 + 36.
                local targetLabelSize = UDim2.new(1, -(targetWidth + 36), 1, 0)

                local existingLabelTween = keybindLabelSizeTweenByLabel[label]
                if existingLabelTween then
                    existingLabelTween:Cancel()
                end

                local labelTween = TweenService:Create(label, sizeTweenInfo, {
                    Size = targetLabelSize,
                })
                keybindLabelSizeTweenByLabel[label] = labelTween
                labelTween:Play()
            end
        end
    end

    local function setKeybindButtonVisual(button, isCapturing)
        if not button then
            return
        end

        local stroke = button:FindFirstChildWhichIsA("UIStroke")

        if isCapturing then
            button:SetAttribute("AsteriaKeybindCapturing", true)
            button.TextColor3 = ACCENT_PRIMARY
            button.Text = "..."

            if stroke then
                local existing = strokeHoverTweenByStroke[stroke]
                if existing then
                    existing:Cancel()
                    strokeHoverTweenByStroke[stroke] = nil
                end
                stroke.Color = ACCENT_PRIMARY
                stroke.Transparency = 0.4
                stroke:SetAttribute("AsteriaKeybindCaptureTransparency", 0.4)
            end
            return
        end

        button:SetAttribute("AsteriaKeybindCapturing", false)

        local defaultTextColor = button:GetAttribute("AsteriaKeybindDefaultTextColor")
        local defaultText = button:GetAttribute("AsteriaKeybindDefaultText")

        local defaultStrokeColor = button:GetAttribute("AsteriaKeybindDefaultStrokeColor")
        local defaultStrokeTransparency = button:GetAttribute("AsteriaKeybindDefaultStrokeTransparency")

        if typeof(defaultTextColor) == "Color3" then
            button.TextColor3 = defaultTextColor
        end
        if type(defaultText) == "string" and button.Text == "..." then
            button.Text = defaultText
        end

        if stroke then
            local existing = strokeHoverTweenByStroke[stroke]
            if existing then
                existing:Cancel()
                strokeHoverTweenByStroke[stroke] = nil
            end

            if typeof(defaultStrokeColor) == "Color3" then
                stroke.Color = defaultStrokeColor
            else
                stroke.Color = Color3.fromRGB(55, 58, 61)
            end
            if type(defaultStrokeTransparency) == "number" then
                stroke.Transparency = defaultStrokeTransparency
            else
                stroke.Transparency = 0.4
            end
        end
    end

    local function bindKeybindButton(button)
        if not button or not button:IsA("TextButton") then
            return
        end

        if button:GetAttribute("AsteriaKeybindBound") then
            return
        end
        button:SetAttribute("AsteriaKeybindBound", true)

        if keybindsDisplay and button:GetAttribute("AsteriaKeybindsDisplayIgnore") ~= true then
            keybindsDisplay:AddButton(button)
        end

        button:SetAttribute("AsteriaKeybindDefaultTextColor", button.TextColor3)
        button:SetAttribute("AsteriaKeybindDefaultText", button.Text)

        local stroke = button:FindFirstChildWhichIsA("UIStroke")
        if stroke then
            button:SetAttribute("AsteriaKeybindDefaultStrokeColor", stroke.Color)
            button:SetAttribute("AsteriaKeybindDefaultStrokeTransparency", stroke.Transparency)
        end

        button.MouseButton1Click:Connect(function()
            if activeKeybindButton and activeKeybindButton ~= button then
                setKeybindButtonVisual(activeKeybindButton, false)
            end

            activeKeybindButton = button
            setKeybindButtonVisual(button, true)
        end)

        updateKeybindButtonSize(button)

        if keybindsDisplay then
            keybindsDisplay:ScheduleRefresh()
        end
    end

    local function getKeybindTargetCheckbox(button)
        local target = button:FindFirstChild("KeybindTarget")
        if target and target:IsA("ObjectValue") then
            local v = target.Value
            if typeof(v) == "Instance" and v:IsA("TextButton") then
                return v
            end
        end
        return nil
    end

    local function removeOwnerFromKeyMap(keyName, button)
        local owner = keybindOwnerByKeyName[keyName]
        if not owner then
            return
        end

        if owner == button then
            keybindOwnerByKeyName[keyName] = nil
            return
        end

        if type(owner) == "table" then
            for i = #owner, 1, -1 do
                if owner[i] == button then
                    table.remove(owner, i)
                end
            end
            if #owner == 0 then
                keybindOwnerByKeyName[keyName] = nil
            elseif #owner == 1 and not multiKeybindEnabled then
                keybindOwnerByKeyName[keyName] = owner[1]
            end
        end
    end

    local function clearKeybindForButton(button)
        if not button then
            return
        end

        local previousKey = button:GetAttribute("AsteriaKeybindKeyName")
        if type(previousKey) == "string" then
            removeOwnerFromKeyMap(previousKey, button)
        end
        button:SetAttribute("AsteriaKeybindKeyName", nil)

        button.Text = "None"
        button:SetAttribute("AsteriaKeybindDefaultText", "None")

        local cb = keybindChangedCallbackByButton[button]
        if cb then
            cb(nil)
        end

        updateKeybindButtonSize(button)

        if keybindsDisplay then
            keybindsDisplay:ScheduleRefresh()
        end
    end

    local function enforceUniqueKeybinds()
        for keyName, owner in pairs(keybindOwnerByKeyName) do
            if type(owner) == "table" then
                local keep = owner[1]
                local toClear = {}
                for i = 2, #owner do
                    toClear[#toClear + 1] = owner[i]
                end
                for _, btn in ipairs(toClear) do
                    if btn and btn.Parent ~= nil then
                        clearKeybindForButton(btn)
                    end
                end
                keybindOwnerByKeyName[keyName] = keep
            end
        end
    end

    local function setKeybindForButton(button, keyCode)
        if not button or not keyCode then
            return
        end

        local keyName = keyCode.Name
        local previousKey = button:GetAttribute("AsteriaKeybindKeyName")
        if type(previousKey) == "string" then
            removeOwnerFromKeyMap(previousKey, button)
        end

        local existingOwner = keybindOwnerByKeyName[keyName]
        if not multiKeybindEnabled then
            if existingOwner and existingOwner ~= button then
                if typeof(existingOwner) == "Instance" then
                    clearKeybindForButton(existingOwner)
                elseif type(existingOwner) == "table" then
                    local ownersCopy = {}
                    for _, o in ipairs(existingOwner) do
                        if o ~= button then
                            ownersCopy[#ownersCopy + 1] = o
                        end
                    end
                    for _, o in ipairs(ownersCopy) do
                        clearKeybindForButton(o)
                    end
                end
            end
            keybindOwnerByKeyName[keyName] = button
        else
            if not existingOwner then
                keybindOwnerByKeyName[keyName] = button
            elseif existingOwner == button then
                -- already owned
            elseif type(existingOwner) == "table" then
                local already = false
                for _, o in ipairs(existingOwner) do
                    if o == button then
                        already = true
                        break
                    end
                end
                if not already then
                    table.insert(existingOwner, button)
                end
            else
                keybindOwnerByKeyName[keyName] = { existingOwner, button }
            end
        end
        button:SetAttribute("AsteriaKeybindKeyName", keyName)

        button.Text = keyName
        button:SetAttribute("AsteriaKeybindDefaultText", keyName)

        local cb = keybindChangedCallbackByButton[button]
        if cb then
            cb(keyCode)
        end

        updateKeybindButtonSize(button)

        if keybindsDisplay then
            keybindsDisplay:ScheduleRefresh()
        end
    end

    local function isGuiAlive()
        return screenGui and screenGui.Parent ~= nil
    end

    local function setMenuOpen(shouldBeOpen)
        if not isGuiAlive() then
            return
        end

        local currentlyOpen = screenGui.Enabled
        if shouldBeOpen == currentlyOpen then
            return
        end

        if shouldBeOpen then
            screenGui.Enabled = true
            mainFrame.BackgroundTransparency = mainFrameDefaultBgTransparency
            stroke.Transparency = mainFrameDefaultStrokeTransparency
            return
        end

        screenGui.Enabled = false
    end

    local function toggleMenuOpen()
        if not isGuiAlive() then
            return
        end
        setMenuOpen(not screenGui.Enabled)
    end

    keybindsDisplay = createFancyKeybindsDisplay({
        parent = CoreGui,
        accentColor = ACCENT_PRIMARY,
    })
    if keybindsDisplay then
        keybindsDisplay:SetVisible(false)
    end

    -- Command bar (opens with ')
    local commandOverlay = Instance.new("Frame")
    commandOverlay.Name = "CommandOverlay"
    commandOverlay.BackgroundTransparency = 1
    commandOverlay.BorderSizePixel = 0
    commandOverlay.Size = UDim2.new(1, 0, 1, 0)
    commandOverlay.Visible = false
    commandOverlay.ZIndex = 900
    commandOverlay.Parent = screenGui

    local overlayDimmer = Instance.new("TextButton")
    overlayDimmer.Name = "Dimmer"
    overlayDimmer.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    overlayDimmer.BackgroundTransparency = 1
    overlayDimmer.BorderSizePixel = 0
    overlayDimmer.AutoButtonColor = false
    overlayDimmer.Size = UDim2.new(1, 0, 1, 0)
    overlayDimmer.Text = ""
    overlayDimmer.ZIndex = 901
    overlayDimmer.Parent = commandOverlay

    local commandContainer = Instance.new("Frame")
    commandContainer.Name = "CommandContainer"
    commandContainer.AnchorPoint = Vector2.new(0.5, 0)
    commandContainer.Position = UDim2.new(0.5, 0, 0, -90)
    commandContainer.Size = UDim2.new(0, 380, 0, 46)
    commandContainer.BackgroundColor3 = Color3.fromRGB(18, 20, 22)
    commandContainer.BackgroundTransparency = 0
    commandContainer.BorderSizePixel = 0
    commandContainer.Visible = true
    commandContainer.ZIndex = 1000
    commandContainer.Parent = commandOverlay

    local commandShadow = Instance.new("ImageLabel")
    commandShadow.Name = "DropShadow"
    commandShadow.Image = "rbxassetid://7912134082"
    commandShadow.ImageTransparency = 0.72
    commandShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
    commandShadow.BackgroundTransparency = 1
    commandShadow.BorderSizePixel = 0
    commandShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    commandShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    commandShadow.Size = UDim2.new(1, 32, 1, 32)
    commandShadow.ScaleType = Enum.ScaleType.Stretch
    commandShadow.ZIndex = 999
    commandShadow.Parent = commandContainer

    local commandCorner = Instance.new("UICorner")
    commandCorner.CornerRadius = UDim.new(0, 12)
    commandCorner.Parent = commandContainer

    local commandStroke = Instance.new("UIStroke")
    commandStroke.Thickness = 1
    commandStroke.Transparency = 0.2
    commandStroke.Color = Color3.fromRGB(40, 43, 46)
    commandStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    commandStroke.LineJoinMode = Enum.LineJoinMode.Round
    commandStroke.Parent = commandContainer

    local commandGradient = Instance.new("UIGradient")
    commandGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.06),
        NumberSequenceKeypoint.new(0.5, 0.12),
        NumberSequenceKeypoint.new(1, 0.06),
    })
    commandGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
    })
    commandGradient.Rotation = 90
    commandGradient.Parent = commandContainer

    local content = Instance.new("Frame")
    content.Name = "Content"
    content.BackgroundTransparency = 1
    content.BorderSizePixel = 0
    content.Position = UDim2.new(0, 0, 0, 0)
    content.Size = UDim2.new(1, 0, 1, 0)
    content.ZIndex = 1002
    content.Parent = commandContainer

    local contentPadding = Instance.new("UIPadding")
    contentPadding.PaddingLeft = UDim.new(0, 12)
    contentPadding.PaddingRight = UDim.new(0, 12)
    contentPadding.PaddingTop = UDim.new(0, 8)
    contentPadding.PaddingBottom = UDim.new(0, 8)
    contentPadding.Parent = content

    local contentLayout = Instance.new("UIListLayout")
    contentLayout.FillDirection = Enum.FillDirection.Vertical
    contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
    contentLayout.Padding = UDim.new(0, 0)
    contentLayout.Parent = content

    local commandBar = Instance.new("Frame")
    commandBar.Name = "CommandBar"
    commandBar.BackgroundTransparency = 1
    commandBar.BorderSizePixel = 0
    commandBar.Size = UDim2.new(1, 0, 0, 28)
    commandBar.LayoutOrder = 0
    commandBar.ZIndex = 1003
    commandBar.Parent = content

    local commandInput = Instance.new("TextBox")
    commandInput.Name = "CommandInput"
    commandInput.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
    commandInput.BackgroundTransparency = 0
    commandInput.BorderSizePixel = 0
    commandInput.ClearTextOnFocus = false
    commandInput.Font = Enum.Font.Code
    commandInput.TextSize = 13
    commandInput.TextColor3 = ACCENT_PRIMARY
    commandInput.PlaceholderText = "command (reload, iy)"
    commandInput.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
    commandInput.TextXAlignment = Enum.TextXAlignment.Left
    commandInput.TextYAlignment = Enum.TextYAlignment.Center
    commandInput.Size = UDim2.new(1, 0, 1, 0)
    commandInput.Text = ""
    commandInput.ZIndex = 1001
    commandInput.Parent = commandBar

    local commandInputCorner = Instance.new("UICorner")
    commandInputCorner.CornerRadius = UDim.new(0, 10)
    commandInputCorner.Parent = commandInput

    local commandInputStroke = Instance.new("UIStroke")
    commandInputStroke.Thickness = 1
    commandInputStroke.Transparency = 0.4
    commandInputStroke.Color = Color3.fromRGB(54, 57, 60)
    commandInputStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    commandInputStroke.LineJoinMode = Enum.LineJoinMode.Round
    commandInputStroke.ZIndex = 1002
    commandInputStroke.Parent = commandInput

    local commandInputGradient = Instance.new("UIGradient")
    commandInputGradient.Offset = Vector2.new(0, 0)
    commandInputGradient.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.12),
        NumberSequenceKeypoint.new(0.5, 0.18),
        NumberSequenceKeypoint.new(1, 0.12),
    })
    commandInputGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
    })
    commandInputGradient.Rotation = 90
    commandInputGradient.Parent = commandInput

    local commandInputPad = Instance.new("UIPadding")
    commandInputPad.PaddingLeft = UDim.new(0, 12)
    commandInputPad.PaddingRight = UDim.new(0, 12)
    commandInputPad.Parent = commandInput

    local commandTextLeftPadding = commandInputPad.PaddingLeft.Offset
    local commandTextRightPadding = commandInputPad.PaddingRight.Offset

    -- Inline ghost suggestion (renders inside the command input)
    local ghostLabel = Instance.new("TextLabel")
    ghostLabel.Name = "GhostSuggestion"
    ghostLabel.BackgroundTransparency = 1
    ghostLabel.BorderSizePixel = 0
    ghostLabel.Font = commandInput.Font
    ghostLabel.TextSize = commandInput.TextSize
    ghostLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
    ghostLabel.TextTransparency = 0.25
    ghostLabel.TextXAlignment = Enum.TextXAlignment.Left
    ghostLabel.TextYAlignment = Enum.TextYAlignment.Center
    ghostLabel.Size = UDim2.new(1, -(commandTextLeftPadding + commandTextRightPadding), 1, 0)
    ghostLabel.Position = UDim2.new(0, commandTextLeftPadding, 0, 0)
    ghostLabel.ZIndex = commandInput.ZIndex + 1
    ghostLabel.Text = ""
    ghostLabel.Parent = commandInput

    local focusCatcher = Instance.new("TextButton")
    focusCatcher.Name = "FocusCatcher"
    focusCatcher.BackgroundTransparency = 1
    focusCatcher.BorderSizePixel = 0
    focusCatcher.AutoButtonColor = false
    focusCatcher.Text = ""
    focusCatcher.Size = UDim2.new(1, 0, 1, 0)
    focusCatcher.ZIndex = ghostLabel.ZIndex + 1
    focusCatcher.Parent = commandInput

    local commandScale = Instance.new("UIScale")
    commandScale.Scale = 0.98
    commandScale.Parent = commandContainer

    local commandOpen = false
    local commandTweenToken = 0

    local function normalizeCommandText(text)
        text = tostring(text or "")
        text = text:match("^%s*(.-)%s*$")
        return string.lower(text)
    end

    local commandSpecs = {
        reload = {
            ghost = "reload",
            description = "Reloads the UI (destroys + rebuilds).",
            run = function()
                if type(reloadUI) == "function" then
                    reloadUI()
                end
            end,
        },
        iy = {
            ghost = "iy",
            description = "Loads Infinite Yield.",
            run = function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
            end,
        },
    }

    local function getBestCommandMatch(prefix)
        prefix = normalizeCommandText(prefix)
        if prefix == "" then
            return "reload", commandSpecs.reload
        end

        local bestName, bestSpec
        for name, spec in pairs(commandSpecs) do
            if string.sub(name, 1, #prefix) == prefix then
                if not bestName or #name < #bestName then
                    bestName = name
                    bestSpec = spec
                end
            end
        end
        return bestName, bestSpec
    end

    local function updateCommandHint()
        local raw = tostring(commandInput.Text or "")
        local typed = normalizeCommandText(raw)
        typed = typed:match("^(%S+)") or ""

        local matchName, matchSpec = getBestCommandMatch(typed)
        if not (matchName and matchSpec) then
            ghostLabel.Text = ""
            ghostLabel.Visible = false
            return
        end

        local ghost = tostring(matchSpec.ghost or matchName)
        if typed == "" or #ghost <= #typed or string.sub(ghost, 1, #typed) ~= typed then
            ghostLabel.Text = ""
            ghostLabel.Visible = false
            return
        end

        -- Only show inline ghost when cursor is at end (keeps it from looking broken when editing mid-string)
        local cursorPos = tonumber(commandInput.CursorPosition) or (#raw + 1)
        if cursorPos ~= (#raw + 1) then
            ghostLabel.Text = ""
            ghostLabel.Visible = false
            return
        end

        local rest = string.sub(ghost, #typed + 1)
        local renderedWidth = commandInput.TextBounds.X
        if (not renderedWidth) or renderedWidth <= 0 then
            local fallback = TextService:GetTextSize(raw, commandInput.TextSize, commandInput.Font, Vector2.new(10000, 10000))
            renderedWidth = fallback.X
        end

        ghostLabel.Position = UDim2.new(0, commandTextLeftPadding + renderedWidth, 0, 0)
        ghostLabel.Text = rest
        ghostLabel.Visible = true
    end

    local function closeCommandBar()
        if not commandOpen then
            return
        end
        commandOpen = false
        commandTweenToken += 1
        local token = commandTweenToken

        commandInput:ReleaseFocus()

        TweenService:Create(overlayDimmer, TweenInfo.new(0.16, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            BackgroundTransparency = 1,
        }):Play()
        TweenService:Create(commandContainer, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
            Position = UDim2.new(0.5, 0, 0, -90),
        }):Play()
        TweenService:Create(commandScale, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
            Scale = 0.98,
        }):Play()

        task.delay(0.2, function()
            if token ~= commandTweenToken then
                return
            end
            commandOverlay.Visible = false
            commandInput.Text = ""
            ghostLabel.Text = ""
            ghostLabel.Visible = false
        end)
    end

    local function openCommandBar()
        if commandOpen then
            return
        end
        commandOpen = true
        commandTweenToken += 1
        commandOverlay.Visible = true

        overlayDimmer.BackgroundTransparency = 1
        commandContainer.Position = UDim2.new(0.5, 0, 0, -90)
        commandScale.Scale = 0.98

        TweenService:Create(overlayDimmer, TweenInfo.new(0.18, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            BackgroundTransparency = 0.65,
        }):Play()
        TweenService:Create(commandContainer, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Position = UDim2.new(0.5, 0, 0, 14),
        }):Play()
        TweenService:Create(commandScale, TweenInfo.new(0.22, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Scale = 1,
        }):Play()

        task.defer(function()
            if commandOpen then
                commandInput:CaptureFocus()
                updateCommandHint()
            end
        end)
    end

    local function toggleCommandBar()
        if commandOpen then
            closeCommandBar()
        else
            openCommandBar()
        end
    end

    overlayDimmer.MouseButton1Click:Connect(function()
        closeCommandBar()
    end)

    focusCatcher.MouseButton1Down:Connect(function()
        commandInput:CaptureFocus()
        commandInput.CursorPosition = #commandInput.Text + 1
    end)

    commandInput:GetPropertyChangedSignal("Text"):Connect(function()
        updateCommandHint()
    end)

    commandInput:GetPropertyChangedSignal("CursorPosition"):Connect(function()
        updateCommandHint()
    end)

    commandInput.FocusLost:Connect(function(enterPressed)
        if not enterPressed then
            return
        end

        local raw = commandInput.Text
        local cmd = normalizeCommandText(raw)
        local cmdName = cmd:match("^(%S+)") or ""
        if cmdName == "" then
            closeCommandBar()
            return
        end

        local spec = commandSpecs[cmdName]
        if spec and type(spec.run) == "function" then
            closeCommandBar()
            task.defer(function()
                spec.run()
            end)
            return
        end

        -- Minimal feedback for unknown commands
        commandInput.Text = ""
        local originalPlaceholder = commandInput.PlaceholderText
        commandInput.PlaceholderText = "unknown command"
        task.delay(1.0, function()
            if commandInput and commandInput.Parent then
                commandInput.PlaceholderText = originalPlaceholder
            end
        end)
    end)

    local function setCheckboxChecked(checkboxButton, isChecked)
        if not checkboxButton or not checkboxButton:IsA("TextButton") then
            return
        end

        local checkImage = checkboxButton:FindFirstChild("Check")
        if not (checkImage and checkImage:IsA("ImageLabel")) then
            return
        end

        checkboxButton:SetAttribute("AsteriaChecked", isChecked and true or false)
        local targetTransparency = isChecked and 0 or 1

        local tweenInfo = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local activeTween = checkTweenByImage[checkImage]
        if activeTween then
            activeTween:Cancel()
        end

        local tween = TweenService:Create(checkImage, tweenInfo, {
            ImageTransparency = targetTransparency,
        })
        checkTweenByImage[checkImage] = tween
        tween:Play()

        if keybindsDisplay then
            keybindsDisplay:ScheduleRefresh()
        end

        if showKeybindsCheckbox and checkboxButton == showKeybindsCheckbox and keybindsDisplay then
            keybindsDisplay:SetVisible(isChecked and true or false)
        end
    end

    local function toggleCheckboxChecked(checkboxButton)
        local current = checkboxButton:GetAttribute("AsteriaChecked")
        setCheckboxChecked(checkboxButton, not current)
    end

    local function bindCheckboxToggle(checkboxButton)
        if not checkboxButton or not checkboxButton:IsA("TextButton") then
            return
        end

        if checkboxButton:GetAttribute("AsteriaCheckboxBound") then
            return
        end
        checkboxButton:SetAttribute("AsteriaCheckboxBound", true)

        local checkImage = checkboxButton:FindFirstChild("Check")
        if not (checkImage and checkImage:IsA("ImageLabel")) then
            return
        end

        checkboxButton.MouseButton1Click:Connect(function()
            toggleCheckboxChecked(checkboxButton)
        end)

        -- Initialize default based on current transparency
        setCheckboxChecked(checkboxButton, checkImage.ImageTransparency < 0.5)
    end

    -- Create Right Content Panel with sections
    local function createRightContentPanel()
        local rightContentFrame = Instance.new("ScrollingFrame")
        rightContentFrame.Name = "RightContentFrame1"
        rightContentFrame.LayoutOrder = 0
        rightContentFrame.AnchorPoint = Vector2.new(0,0)
        rightContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        rightContentFrame.ZIndex = 1
        rightContentFrame.BorderSizePixel = 0
        rightContentFrame.Size = UDim2.new(0.5,-21,1,-68)
        rightContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40,43,46)
        rightContentFrame.BackgroundTransparency = 1
        rightContentFrame.CanvasSize = UDim2.new(0,0,0,0)
        rightContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        rightContentFrame.ScrollBarThickness = 0
        rightContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        rightContentFrame.Visible = true
        rightContentFrame.Rotation = 0
        rightContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        rightContentFrame.Position = UDim2.new(0.5,7,0,54)
        rightContentFrame.ScrollingEnabled = true
        rightContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        rightContentFrame.CanvasPosition = Vector2.new(0,0)
        rightContentFrame.BackgroundColor3 = Color3.fromRGB(163,162,165)

        local frameListLayout = Instance.new("UIListLayout")
        frameListLayout.Name = "UIListLayout"
        frameListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        frameListLayout.FillDirection = Enum.FillDirection.Vertical
        frameListLayout.Padding = UDim.new(0,12)
        frameListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        frameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        frameListLayout.Parent = rightContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0,12)
        framePadding.PaddingBottom = UDim.new(0,12)
        framePadding.PaddingLeft = UDim.new(0,0)
        framePadding.PaddingRight = UDim.new(0,0)
        framePadding.Parent = rightContentFrame

        -- Helper function to create a section frame
        local function createSectionFrame(sectionName, sectionTitle, sectionIcon, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName .. "SectionFrame"
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27,42,53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23,25,28)
            sectionFrame.Position = UDim2.new(0,0,0,0)
            sectionFrame.AnchorPoint = Vector2.new(0,0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1,0,0,sectionHeight)

            local sectionCorner = Instance.new("UICorner")
            sectionCorner.Name = "UICorner"
            sectionCorner.CornerRadius = UDim.new(0,12)
            sectionCorner.Parent = sectionFrame

            local sectionStroke = Instance.new("UIStroke")
            sectionStroke.Name = "UIStroke"
            sectionStroke.Thickness = 1
            sectionStroke.Transparency = 0.2
            sectionStroke.Color = Color3.fromRGB(40,43,46)
            sectionStroke.ZIndex = 1
            sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
            sectionStroke.Parent = sectionFrame

            -- Dark sweep overlay
            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27,42,53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0,0,0)
            darkSweep.Position = UDim2.new(0,0,0,0)
            darkSweep.AnchorPoint = Vector2.new(0,0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1,0,1,0)

            local darkSweepCorner = Instance.new("UICorner")
            darkSweepCorner.CornerRadius = UDim.new(0,12)
            darkSweepCorner.Parent = darkSweep

            local darkSweepGradient = Instance.new("UIGradient")
            darkSweepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,1),
                NumberSequenceKeypoint.new(0.18,0.92),
                NumberSequenceKeypoint.new(0.4,0.78),
                NumberSequenceKeypoint.new(0.62,0.92),
                NumberSequenceKeypoint.new(1,1)
            })
            darkSweepGradient.Color = ColorSequence.new(Color3.fromRGB(0,0,0))
            darkSweepGradient.Rotation = 125
            darkSweepGradient.Parent = darkSweep
            darkSweep.Parent = sectionFrame

            -- Inner border
            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27,42,53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163,162,165)
            innerBorder.Position = UDim2.new(0,1,0,1)
            innerBorder.AnchorPoint = Vector2.new(0,0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1,-2,1,-2)

            local innerBorderCorner = Instance.new("UICorner")
            innerBorderCorner.CornerRadius = UDim.new(0,12)
            innerBorderCorner.Parent = innerBorder

            local innerBorderStroke = Instance.new("UIStroke")
            innerBorderStroke.Thickness = 1
            innerBorderStroke.Transparency = 0.75
            innerBorderStroke.Color = Color3.fromRGB(40,43,46)
            innerBorderStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerBorderStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerBorderStroke.Parent = innerBorder
            innerBorder.Parent = sectionFrame

            -- Gradient overlay
            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27,42,53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23,25,28)
            gradientOverlay.Position = UDim2.new(0,0,0,0)
            gradientOverlay.AnchorPoint = Vector2.new(0,0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1,0,1,0)

            local gradientOverlayCorner = Instance.new("UICorner")
            gradientOverlayCorner.CornerRadius = UDim.new(0,12)
            gradientOverlayCorner.Parent = gradientOverlay

            local gradientOverlayGradient = Instance.new("UIGradient")
            gradientOverlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,0.06),
                NumberSequenceKeypoint.new(0.5,0.12),
                NumberSequenceKeypoint.new(1,0.06)
            })
            gradientOverlayGradient.Color = ColorSequence.new(Color3.fromRGB(255,255,255))
            gradientOverlayGradient.Rotation = 90
            gradientOverlayGradient.Parent = gradientOverlay
            gradientOverlay.Parent = sectionFrame

            -- Header
            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27,42,53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163,162,165)
            header.Position = UDim2.new(0,0,0,0)
            header.AnchorPoint = Vector2.new(0,0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1,0,0,36)

            -- Header separator
            local headerSeparator = Instance.new("Frame")
            headerSeparator.Name = "Separator"
            headerSeparator.Visible = true
            headerSeparator.ClipsDescendants = false
            headerSeparator.BorderColor3 = Color3.fromRGB(27,42,53)
            headerSeparator.LayoutOrder = 0
            headerSeparator.BackgroundTransparency = 0.5
            headerSeparator.Rotation = 0
            headerSeparator.BackgroundColor3 = Color3.fromRGB(40,43,46)
            headerSeparator.Position = UDim2.new(0,10,1,-1)
            headerSeparator.AnchorPoint = Vector2.new(0,0)
            headerSeparator.ZIndex = 1
            headerSeparator.BorderSizePixel = 0
            headerSeparator.Size = UDim2.new(1,-20,0,1)

            local separatorGradient = Instance.new("UIGradient")
            separatorGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,1),
                NumberSequenceKeypoint.new(0.1,0.5),
                NumberSequenceKeypoint.new(0.9,0.5),
                NumberSequenceKeypoint.new(1,1)
            })
            separatorGradient.Color = ColorSequence.new(Color3.fromRGB(255,255,255))
            separatorGradient.Rotation = 0
            separatorGradient.Parent = headerSeparator
            headerSeparator.Parent = header

            -- Icon container
            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27,42,53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190,45,45)
            iconContainer.Position = UDim2.new(0,12,0.5,0)
            iconContainer.AnchorPoint = Vector2.new(0,0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0,24,0,24)

            local iconContainerCorner = Instance.new("UICorner")
            iconContainerCorner.CornerRadius = UDim.new(0,6)
            iconContainerCorner.Parent = iconContainer

            local iconContainerStroke = Instance.new("UIStroke")
            iconContainerStroke.Thickness = 1
            iconContainerStroke.Transparency = 0.75
            iconContainerStroke.Color = Color3.fromRGB(190,45,45)
            iconContainerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconContainerStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconContainerStroke.Parent = iconContainer

            local iconContainerGradient = Instance.new("UIGradient")
            iconContainerGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,1),
                NumberSequenceKeypoint.new(0.25,0.9),
                NumberSequenceKeypoint.new(0.5,0.8),
                NumberSequenceKeypoint.new(0.75,0.9),
                NumberSequenceKeypoint.new(1,1)
            })
            iconContainerGradient.Color = ColorSequence.new(Color3.fromRGB(255,0,0))
            iconContainerGradient.Rotation = 125
            iconContainerGradient.Parent = iconContainer

            local iconImage = Instance.new("ImageLabel")
            iconImage.Name = "Icon"
            iconImage.LayoutOrder = 0
            iconImage.ImageTransparency = 0
            iconImage.AnchorPoint = Vector2.new(0.5,0.5)
            iconImage.Image = sectionIcon
            iconImage.TileSize = UDim2.new(1,0,1,0)
            iconImage.ZIndex = 2
            iconImage.BorderSizePixel = 1
            iconImage.Size = UDim2.new(0,14,0,14)
            iconImage.ScaleType = Enum.ScaleType.Stretch
            iconImage.BackgroundTransparency = 1
            iconImage.Rotation = 0
            iconImage.Visible = true
            iconImage.Position = UDim2.new(0.5,0,0.5,0)
            iconImage.SliceScale = 1
            iconImage.ImageColor3 = Color3.fromRGB(190,45,45)
            iconImage.BackgroundColor3 = Color3.fromRGB(163,162,165)
            iconImage.Parent = iconContainer
            iconContainer.Parent = header

            -- Section title
            local titleLabel = Instance.new("TextLabel")
            titleLabel.Name = "SectionTitle"
            titleLabel.LayoutOrder = 0
            titleLabel.TextWrapped = false
            titleLabel.TextTransparency = 0
            titleLabel.TextStrokeTransparency = 1
            titleLabel.AnchorPoint = Vector2.new(0,0)
            titleLabel.ZIndex = 4
            titleLabel.TextSize = 14
            titleLabel.Size = UDim2.new(1,-54,1,-1)
            titleLabel.BorderSizePixel = 1
            titleLabel.TextColor3 = Color3.fromRGB(230,230,230)
            titleLabel.BackgroundTransparency = 1
            titleLabel.Text = sectionTitle
            titleLabel.TextXAlignment = Enum.TextXAlignment.Left
            titleLabel.TextStrokeColor3 = Color3.fromRGB(0,0,0)
            titleLabel.Rotation = 0
            titleLabel.Font = Enum.Font.GothamBold
            titleLabel.Position = UDim2.new(0,44,0,0)
            titleLabel.Visible = true
            titleLabel.TextYAlignment = Enum.TextYAlignment.Center
            titleLabel.TextScaled = false
            titleLabel.BackgroundColor3 = Color3.fromRGB(163,162,165)
            titleLabel.Parent = header
            header.Parent = sectionFrame

            -- Scroll container
            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27,42,53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163,162,165)
            scrollContainer.Position = UDim2.new(0,0,0,36)
            scrollContainer.AnchorPoint = Vector2.new(0,0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1,0,1,-36)

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0,0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1,0,1,0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40,43,46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0,0,0,0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0,0,0,0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0,0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163,162,165)

            local elementsPadding = Instance.new("UIPadding")
            elementsPadding.Name = "UIPadding"
            elementsPadding.PaddingTop = UDim.new(0,10)
            elementsPadding.PaddingBottom = UDim.new(0,12)
            elementsPadding.PaddingLeft = UDim.new(0,12)
            elementsPadding.PaddingRight = UDim.new(0,12)
            elementsPadding.Parent = elementsContainer

            local elementsLayout = Instance.new("UIListLayout")
            elementsLayout.Name = "UIListLayout"
            elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
            elementsLayout.FillDirection = Enum.FillDirection.Vertical
            elementsLayout.Padding = UDim.new(0,10)
            elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
            elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            elementsLayout.Parent = elementsContainer

            elementsContainer.Parent = scrollContainer
            scrollContainer.Parent = sectionFrame

            return sectionFrame, elementsContainer
        end

        -- Helper function to create a toggle row
        local function createToggleRow(rowName, labelText, hasKeybind)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowName .. "ToggleRow"
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27,42,53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163,162,165)
            toggleRow.Position = UDim2.new(0,0,0,0)
            toggleRow.AnchorPoint = Vector2.new(0,0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1,0,0,32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0,0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(1,-80,1,0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230,230,230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0,0,0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0,0,0,0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163,162,165)
            rowLabel.Parent = toggleRow

            -- Checkbox
            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1,0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0,20,0,20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27,42,53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1,-8,0.5,0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27,30,33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.CornerRadius = UDim.new(0,6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55,58,61)
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)

            -- Sheen overlay
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27,42,53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255,255,255)
            sheenOverlay.Position = UDim2.new(0,0,0,0)
            sheenOverlay.AnchorPoint = Vector2.new(0,0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1,0,1,0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.CornerRadius = UDim.new(0,6)
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,0.9),
                NumberSequenceKeypoint.new(0.3,0.96),
                NumberSequenceKeypoint.new(0.5,1),
                NumberSequenceKeypoint.new(1,1)
            })
            sheenGradient.Color = ColorSequence.new(Color3.fromRGB(255,255,255))
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = checkbox

            -- Shade overlay
            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27,42,53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0,0,0)
            shadeOverlay.Position = UDim2.new(0,0,0,0)
            shadeOverlay.AnchorPoint = Vector2.new(0,0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1,0,1,0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.CornerRadius = UDim.new(0,6)
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0,1),
                NumberSequenceKeypoint.new(0.6,1),
                NumberSequenceKeypoint.new(0.85,0.96),
                NumberSequenceKeypoint.new(1,0.92)
            })
            shadeGradient.Color = ColorSequence.new(Color3.fromRGB(0,0,0))
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = checkbox

            -- Check icon
            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5,0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1,0,1,0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1,-6,1,-6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5,0,0.5,0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230,230,230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163,162,165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            checkbox.Parent = toggleRow

            -- Keybind button (if needed)
            if hasKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1,0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0,44,0,20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160,160,165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1,-32,0.5,0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27,30,33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.CornerRadius = UDim.new(0,6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55,58,61)
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)

                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        -- Helper function to create a settings divider
        local function createSettingsDivider()
            local dividerFrame = Instance.new("Frame")
            dividerFrame.Name = "Frame"
            dividerFrame.Visible = true
            dividerFrame.ClipsDescendants = false
            dividerFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dividerFrame.LayoutOrder = 0
            dividerFrame.BackgroundTransparency = 1
            dividerFrame.Rotation = 0
            dividerFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerFrame.Position = UDim2.new(0, 0, 0, 0)
            dividerFrame.AnchorPoint = Vector2.new(0, 0)
            dividerFrame.ZIndex = 1
            dividerFrame.BorderSizePixel = 1
            dividerFrame.Size = UDim2.new(1, 0, 0, 22)

            local dividerLabel = Instance.new("TextLabel")
            dividerLabel.Name = "TextLabel"
            dividerLabel.LayoutOrder = 0
            dividerLabel.TextWrapped = false
            dividerLabel.TextTransparency = 0
            dividerLabel.TextStrokeTransparency = 1
            dividerLabel.AnchorPoint = Vector2.new(0.5, 0.5)
            dividerLabel.ZIndex = 2
            dividerLabel.TextSize = 14
            dividerLabel.Size = UDim2.new(0, 0, 0, 14)
            dividerLabel.BorderSizePixel = 1
            dividerLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
            dividerLabel.BackgroundTransparency = 1
            dividerLabel.Text = "Settings"
            dividerLabel.TextXAlignment = Enum.TextXAlignment.Center
            dividerLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            dividerLabel.Rotation = 0
            dividerLabel.Font = Enum.Font.GothamBold
            dividerLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
            dividerLabel.Visible = true
            dividerLabel.TextYAlignment = Enum.TextYAlignment.Center
            dividerLabel.TextScaled = false
            dividerLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerLabel.Parent = dividerFrame

            local leftLine = Instance.new("Frame")
            leftLine.Name = "Frame"
            leftLine.Visible = true
            leftLine.ClipsDescendants = false
            leftLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            leftLine.LayoutOrder = 0
            leftLine.BackgroundTransparency = 0
            leftLine.Rotation = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.ZIndex = 1
            leftLine.BorderSizePixel = 0
            leftLine.Size = UDim2.new(0, 84, 0, 1)
            leftLine.Parent = dividerFrame

            local rightLine = Instance.new("Frame")
            rightLine.Name = "Frame"
            rightLine.Visible = true
            rightLine.ClipsDescendants = false
            rightLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            rightLine.LayoutOrder = 0
            rightLine.BackgroundTransparency = 0
            rightLine.Rotation = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.ZIndex = 1
            rightLine.BorderSizePixel = 0
            rightLine.Size = UDim2.new(0, 84, 0, 1)
            rightLine.Parent = dividerFrame

            return dividerFrame
        end

        -- Helper function to create a dropdown row
        local function createDropdownRow(rowName, labelText, defaultValue)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.ClipsDescendants = false
            dropdownRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dropdownRow.LayoutOrder = 0
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.Rotation = 0
            dropdownRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dropdownRow.Position = UDim2.new(0, 0, 0, 0)
            dropdownRow.AnchorPoint = Vector2.new(0, 0)
            dropdownRow.ZIndex = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.Visible = true
            buttonContainer.ClipsDescendants = false
            buttonContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            buttonContainer.LayoutOrder = 0
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.Rotation = 0
            buttonContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.AnchorPoint = Vector2.new(0, 0)
            buttonContainer.ZIndex = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.LayoutOrder = 0
            dropdownButton.TextWrapped = false
            dropdownButton.TextTransparency = 0
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.ZIndex = 101
            dropdownButton.TextSize = 14
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.Text = defaultValue
            dropdownButton.Modal = false
            dropdownButton.AutoButtonColor = false
            dropdownButton.Rotation = 0
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Visible = true
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.TextScaled = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.Parent = buttonContainer

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = dropdownButton

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = dropdownButton

            local arrowIcon = Instance.new("ImageLabel")
            arrowIcon.Name = "ImageLabel"
            arrowIcon.LayoutOrder = 0
            arrowIcon.ImageTransparency = 0
            arrowIcon.AnchorPoint = Vector2.new(1, 0.5)
            arrowIcon.Image = "rbxassetid://7072706796"
            arrowIcon.TileSize = UDim2.new(1, 0, 1, 0)
            arrowIcon.ZIndex = 102
            arrowIcon.BorderSizePixel = 1
            arrowIcon.Size = UDim2.new(0, 14, 0, 14)
            arrowIcon.ScaleType = Enum.ScaleType.Stretch
            arrowIcon.BackgroundTransparency = 1
            arrowIcon.Rotation = 0
            arrowIcon.Visible = true
            arrowIcon.Position = UDim2.new(1, -8, 0.5, 0)
            arrowIcon.SliceScale = 1
            arrowIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrowIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrowIcon.Parent = dropdownButton

            return dropdownRow
        end

        -- Helper function to create a slider row
        local function createSliderRow(rowName, labelText, defaultValue, minValue, maxValue)
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = rowName .. "SliderRow"
            sliderRow.Visible = true
            sliderRow.ClipsDescendants = false
            sliderRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderRow.LayoutOrder = 0
            sliderRow.BackgroundTransparency = 1
            sliderRow.Rotation = 0
            sliderRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderRow.Position = UDim2.new(0, 0, 0, 0)
            sliderRow.AnchorPoint = Vector2.new(0, 0)
            sliderRow.ZIndex = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            -- Label row
            local labelFrame = Instance.new("Frame")
            labelFrame.Name = "Frame"
            labelFrame.Visible = true
            labelFrame.ClipsDescendants = false
            labelFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            labelFrame.LayoutOrder = 0
            labelFrame.BackgroundTransparency = 1
            labelFrame.Rotation = 0
            labelFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            labelFrame.Position = UDim2.new(0, 0, 0, 0)
            labelFrame.AnchorPoint = Vector2.new(0, 0)
            labelFrame.ZIndex = 1
            labelFrame.BorderSizePixel = 1
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = sliderRow

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(1, -80, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = labelFrame

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.LayoutOrder = 0
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.ZIndex = 1
            valueTextBox.TextSize = 14
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.PlaceholderText = "0"
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.Text = tostring(defaultValue)
            valueTextBox.TextEditable = true
            valueTextBox.MultiLine = false
            valueTextBox.Rotation = 0
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Visible = true
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.TextScaled = false
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.Parent = labelFrame

            local textBoxCorner = Instance.new("UICorner")
            textBoxCorner.Name = "UICorner"
            textBoxCorner.CornerRadius = UDim.new(0, 4)
            textBoxCorner.Parent = valueTextBox

            local textBoxStroke = Instance.new("UIStroke")
            textBoxStroke.Name = "UIStroke"
            textBoxStroke.Thickness = 1
            textBoxStroke.Transparency = 0.5
            textBoxStroke.Color = Color3.fromRGB(40, 43, 46)
            textBoxStroke.ZIndex = 1
            textBoxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textBoxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textBoxStroke.Parent = valueTextBox

            -- Slider track area
            local sliderTrackArea = Instance.new("Frame")
            sliderTrackArea.Name = "SliderTrackArea"
            sliderTrackArea.Visible = true
            sliderTrackArea.ClipsDescendants = false
            sliderTrackArea.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderTrackArea.LayoutOrder = 0
            sliderTrackArea.BackgroundTransparency = 1
            sliderTrackArea.Rotation = 0
            sliderTrackArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderTrackArea.Position = UDim2.new(0, 0, 0, 24)
            sliderTrackArea.AnchorPoint = Vector2.new(0, 0)
            sliderTrackArea.ZIndex = 1
            sliderTrackArea.BorderSizePixel = 1
            sliderTrackArea.Size = UDim2.new(1, 0, 0, 16)
            sliderTrackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.Visible = true
            trackVisual.ClipsDescendants = false
            trackVisual.BorderColor3 = Color3.fromRGB(27, 42, 53)
            trackVisual.LayoutOrder = 0
            trackVisual.BackgroundTransparency = 0
            trackVisual.Rotation = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.AnchorPoint = Vector2.new(0, 0)
            trackVisual.ZIndex = 1
            trackVisual.BorderSizePixel = 0
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.Parent = sliderTrackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fillBar = Instance.new("Frame")
            fillBar.Name = "FillBar"
            fillBar.Visible = true
            fillBar.ClipsDescendants = false
            fillBar.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fillBar.LayoutOrder = 0
            fillBar.BackgroundTransparency = 0
            fillBar.Rotation = 0
            -- Use white base so UIGradient colors render as-authored (black→pink)
            fillBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            fillBar.Position = UDim2.new(0, 0, 0, 0)
            fillBar.AnchorPoint = Vector2.new(0, 0)
            fillBar.ZIndex = 2
            fillBar.BorderSizePixel = 0
            fillBar.Size = UDim2.new(0.5, 0, 1, 0)
            fillBar.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fillBar

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0)
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, ACCENT_BLACK),
                ColorSequenceKeypoint.new(1, ACCENT_PRIMARY)
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fillBar

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.Visible = true
            handle.ClipsDescendants = false
            handle.BorderColor3 = Color3.fromRGB(27, 42, 53)
            handle.LayoutOrder = 0
            handle.BackgroundTransparency = 0
            handle.Rotation = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.Position = UDim2.new(0.5, 0, 0.5, 0)
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.ZIndex = 3
            handle.BorderSizePixel = 0
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.Parent = sliderTrackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.LayoutOrder = 0
            clickArea.TextWrapped = false
            clickArea.TextTransparency = 0
            clickArea.AnchorPoint = Vector2.new(0, 0)
            clickArea.ZIndex = 4
            clickArea.TextSize = 8
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.BorderSizePixel = 1
            clickArea.BackgroundTransparency = 1
            clickArea.TextColor3 = Color3.fromRGB(27, 42, 53)
            clickArea.TextXAlignment = Enum.TextXAlignment.Center
            clickArea.Text = ""
            clickArea.Modal = false
            clickArea.AutoButtonColor = true
            clickArea.Rotation = 0
            clickArea.Font = Enum.Font.Legacy
            clickArea.Position = UDim2.new(0, 0, 0, 0)
            clickArea.Visible = true
            clickArea.TextYAlignment = Enum.TextYAlignment.Center
            clickArea.TextScaled = false
            clickArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clickArea.Parent = sliderTrackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local minV = tonumber(minValue) or 0
            local maxV = tonumber(maxValue) or 100
            if maxV == minV then
                maxV = minV + 1
            end

            local currentValue = tonumber(defaultValue) or minV
            local currentRatio = math.clamp((currentValue - minV) / (maxV - minV), 0, 1)
            local targetRatio = currentRatio

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local function clampAndRound(v)
                v = tonumber(v) or currentValue
                v = math.floor(v + 0.5)
                v = math.clamp(v, minV, maxV)
                return v
            end

            local function ratioFromValue(v)
                return math.clamp((v - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                local v = minV + (maxV - minV) * r
                return clampAndRound(v)
            end

            local function applyVisual(r)
                fillBar.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function setValue(v, tween)
                currentValue = clampAndRound(v)
                sliderRow:SetAttribute("SliderValue", currentValue)
                valueTextBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)

                targetRatio = ratioFromValue(currentValue)
                if tween then
                    TweenService:Create(fillBar, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)
                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = trackVisual.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - trackVisual.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        sliderRow:SetAttribute("SliderValue", currentValue)
                        valueTextBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            -- Initialize
            setValue(currentValue, false)

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueTextBox.FocusLost:Connect(function()
                local n = tonumber(valueTextBox.Text)
                if n == nil then
                    valueTextBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return sliderRow
        end

        -- Create sections with toggle rows
        -- Gold Related Section
        local goldSection, goldElements = createSectionFrame("Gold Related", "Gold Related", "rbxassetid://10734921935", 344)
        
        local goldFarmToggle = createToggleRow("4 Gold Farm", "4 Gold Farm", true)
        goldFarmToggle.Parent = goldElements
        
        -- Settings Divider
        local settingsDivider = createSettingsDivider()
        settingsDivider.Parent = goldElements
        
        local autoCampfireToggle = createToggleRow("Auto Campfire", "Auto Campfire", true)
        autoCampfireToggle.Parent = goldElements
        
        local autoCoinPressToggle = createToggleRow("Auto Coin Press", "Auto Coin Press", true)
        autoCoinPressToggle.Parent = goldElements
        
        -- Priority Dropdown
        local priorityDropdown = createDropdownRow("Priority", "Priority", "Gold,Ice,Chest")
        priorityDropdown.Parent = goldElements
        
        -- Waste Dropdown
        local wasteDropdown = createDropdownRow("Waste", "Waste", "[Select]")
        wasteDropdown.Parent = goldElements
        
        -- Waste Threshold Slider
        local wasteThresholdSlider = createSliderRow("Waste Threshold", "Waste Threshold", 500, 0, 1000)
        wasteThresholdSlider.Parent = goldElements
        
        goldSection.Parent = rightContentFrame

        -- XP Farm Section
        local xpSection, xpElements = createSectionFrame("Xp Farm", "Xp Farm", "rbxassetid://10734910680", 174)
        
        local autoXpFarmToggle = createToggleRow("Auto XP Farm", "Auto XP Farm", true)
        autoXpFarmToggle.Parent = xpElements
        
        local craftGodAxeToggle = createToggleRow("Craft God Axe", "Craft God Axe", true)
        craftGodAxeToggle.Parent = xpElements
        
        local autoRebirthToggle = createToggleRow("Auto Rebirth", "Auto Rebirth", true)
        autoRebirthToggle.Parent = xpElements
        
        xpSection.Parent = rightContentFrame

        -- Crystal Farm Section
        local crystalSection, crystalElements = createSectionFrame("Crystal Farm", "Crystal Farm", "rbxassetid://10723396000", 132)
        
        local crystalFarmToggle = createToggleRow("Crystal Farm", "Crystal Farm", true)
        crystalFarmToggle.Parent = crystalElements
        
        local usePathfindingToggle = createToggleRow("Use Pathfinding", "Use Pathfinding", true)
        usePathfindingToggle.Parent = crystalElements
        
        crystalSection.Parent = rightContentFrame

        -- Tree Farm Section
        local treeSection, treeElements = createSectionFrame("Tree Farm", "Tree Farm", "rbxassetid://10747362748", 132)
        
        local treeFarmToggle = createToggleRow("Tree Farm", "Tree Farm", true)
        treeFarmToggle.Parent = treeElements
        
        local treePathfindingToggle = createToggleRow("Use Pathfinding", "Use Pathfinding", true)
        treePathfindingToggle.Parent = treeElements
        
        treeSection.Parent = rightContentFrame

        return rightContentFrame
    end

    -- Main tab: Right Content Panel (Balloon Event / Auto Hits / Item Stuff / Building)
    local function createMainLeftContentPanel()
        local leftContentFrame = Instance.new("ScrollingFrame")
        leftContentFrame.Name = "LeftContentFrame1"
        leftContentFrame.LayoutOrder = 0
        leftContentFrame.AnchorPoint = Vector2.new(0, 0)
        leftContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        leftContentFrame.ZIndex = 1
        leftContentFrame.BorderSizePixel = 0
        leftContentFrame.Size = UDim2.new(0.5, -21, 1, -68)
        leftContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        leftContentFrame.BackgroundTransparency = 1
        leftContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        leftContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        leftContentFrame.ScrollBarThickness = 0
        leftContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        leftContentFrame.Visible = true
        leftContentFrame.Rotation = 0
        leftContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        leftContentFrame.Position = UDim2.new(0, 14, 0, 54)
        leftContentFrame.ScrollingEnabled = true
        leftContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        leftContentFrame.CanvasPosition = Vector2.new(0, 0)
        leftContentFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local frameListLayout = Instance.new("UIListLayout")
        frameListLayout.Name = "UIListLayout"
        frameListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        frameListLayout.FillDirection = Enum.FillDirection.Vertical
        frameListLayout.Padding = UDim.new(0, 12)
        frameListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        frameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        frameListLayout.Parent = leftContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = leftContentFrame

        local function createSectionFrame(sectionName, sectionTitle, sectionIcon, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName .. "SectionFrame"
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local sectionCorner = Instance.new("UICorner")
            sectionCorner.Name = "UICorner"
            sectionCorner.CornerRadius = UDim.new(0, 12)
            sectionCorner.Parent = sectionFrame

            local sectionStroke = Instance.new("UIStroke")
            sectionStroke.Name = "UIStroke"
            sectionStroke.Thickness = 1
            sectionStroke.Transparency = 0.2
            sectionStroke.Color = Color3.fromRGB(40, 43, 46)
            sectionStroke.ZIndex = 1
            sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
            sectionStroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)

            local darkSweepCorner = Instance.new("UICorner")
            darkSweepCorner.Name = "UICorner"
            darkSweepCorner.CornerRadius = UDim.new(0, 12)
            darkSweepCorner.Parent = darkSweep

            local darkSweepGradient = Instance.new("UIGradient")
            darkSweepGradient.Name = "UIGradient"
            darkSweepGradient.Offset = Vector2.new(0, 0)
            darkSweepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkSweepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkSweepGradient.Rotation = 125
            darkSweepGradient.Parent = darkSweep
            darkSweep.Parent = sectionFrame

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.BackgroundTransparency = 1
            innerBorder.BorderSizePixel = 1
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.ZIndex = 2
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 2
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 1
            header.Position = UDim2.new(0, 0, 0, 0)
            header.Size = UDim2.new(1, 0, 0, 36)
            header.ZIndex = 3
            header.Parent = sectionFrame

            local headerSeparator = Instance.new("Frame")
            headerSeparator.Name = "Separator"
            headerSeparator.Visible = true
            headerSeparator.BackgroundTransparency = 0.5
            headerSeparator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            headerSeparator.BorderSizePixel = 0
            headerSeparator.Position = UDim2.new(0, 10, 1, -1)
            headerSeparator.Size = UDim2.new(1, -20, 0, 1)
            headerSeparator.Parent = header

            local separatorGradient = Instance.new("UIGradient")
            separatorGradient.Name = "UIGradient"
            separatorGradient.Offset = Vector2.new(0, 0)
            separatorGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            separatorGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            separatorGradient.Rotation = 0
            separatorGradient.Parent = headerSeparator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.BackgroundTransparency = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.BorderSizePixel = 1
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.ZIndex = 1
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.BackgroundTransparency = 1
            icon.Image = sectionIcon
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ZIndex = 2
            icon.Parent = iconContainer

            local titleLabel = Instance.new("TextLabel")
            titleLabel.Name = "SectionTitle"
            titleLabel.BackgroundTransparency = 1
            titleLabel.Text = sectionTitle
            titleLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            titleLabel.Font = Enum.Font.GothamBold
            titleLabel.TextSize = 14
            titleLabel.TextXAlignment = Enum.TextXAlignment.Left
            titleLabel.TextYAlignment = Enum.TextYAlignment.Center
            titleLabel.Position = UDim2.new(0, 44, 0, 0)
            titleLabel.Size = UDim2.new(1, -54, 1, -1)
            titleLabel.ZIndex = 4
            titleLabel.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.ZIndex = 3
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local elementsPadding = Instance.new("UIPadding")
            elementsPadding.Name = "UIPadding"
            elementsPadding.PaddingTop = UDim.new(0, 10)
            elementsPadding.PaddingBottom = UDim.new(0, 12)
            elementsPadding.PaddingLeft = UDim.new(0, 12)
            elementsPadding.PaddingRight = UDim.new(0, 12)
            elementsPadding.Parent = elementsContainer

            local elementsLayout = Instance.new("UIListLayout")
            elementsLayout.Name = "UIListLayout"
            elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
            elementsLayout.FillDirection = Enum.FillDirection.Vertical
            elementsLayout.Padding = UDim.new(0, 10)
            elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
            elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            elementsLayout.Parent = elementsContainer

            return sectionFrame, elementsContainer
        end

        local function createToggleRow(rowName, labelText, hasKeybind)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowName .. "ToggleRow"
            toggleRow.Visible = true
            toggleRow.BackgroundTransparency = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Size = UDim2.new(1, -80, 1, 0)
            rowLabel.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.AutoButtonColor = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.Text = ""
            checkbox.Parent = toggleRow

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55, 58, 61)
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)

            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)
            sheenOverlay.Parent = checkbox

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.CornerRadius = UDim.new(0, 6)
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)
            shadeOverlay.Parent = checkbox

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.CornerRadius = UDim.new(0, 6)
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new(Color3.fromRGB(0, 0, 0))
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.BackgroundTransparency = 1
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ZIndex = 3
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            if hasKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
                keybindButton.Text = "None"
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.TextSize = 14
                keybindButton.AutoButtonColor = false
                keybindButton.Parent = toggleRow

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)
            end

            return toggleRow
        end

        local function createSettingsDivider()
            local dividerFrame = Instance.new("Frame")
            dividerFrame.Name = "Frame"
            dividerFrame.BackgroundTransparency = 1
            dividerFrame.BorderSizePixel = 1
            dividerFrame.Size = UDim2.new(1, 0, 0, 22)

            local dividerLabel = Instance.new("TextLabel")
            dividerLabel.Name = "TextLabel"
            dividerLabel.BackgroundTransparency = 1
            dividerLabel.Text = "Settings"
            dividerLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
            dividerLabel.Font = Enum.Font.GothamBold
            dividerLabel.TextSize = 14
            dividerLabel.AnchorPoint = Vector2.new(0.5, 0.5)
            dividerLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
            dividerLabel.Size = UDim2.new(0, 0, 0, 14)
            dividerLabel.Parent = dividerFrame

            local leftLine = Instance.new("Frame")
            leftLine.Name = "Frame"
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.BorderSizePixel = 0
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.Size = UDim2.new(0, 84, 0, 1)
            leftLine.Parent = dividerFrame

            local rightLine = Instance.new("Frame")
            rightLine.Name = "Frame"
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.BorderSizePixel = 0
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.Size = UDim2.new(0, 84, 0, 1)
            rightLine.Parent = dividerFrame

            return dividerFrame
        end

        local function createDropdownRow(rowName, labelText, defaultValue)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.AutoButtonColor = false
            dropdownButton.Text = defaultValue
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.TextSize = 14
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.Parent = buttonContainer

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = dropdownButton

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = dropdownButton

            local arrowIcon = Instance.new("ImageLabel")
            arrowIcon.Name = "ImageLabel"
            arrowIcon.BackgroundTransparency = 1
            arrowIcon.Image = "rbxassetid://7072706796"
            arrowIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrowIcon.AnchorPoint = Vector2.new(1, 0.5)
            arrowIcon.Position = UDim2.new(1, -8, 0.5, 0)
            arrowIcon.Size = UDim2.new(0, 14, 0, 14)
            arrowIcon.ZIndex = 102
            arrowIcon.Parent = dropdownButton

            return dropdownRow
        end

        local function createSliderRow(rowName, labelText, defaultValue, minValue, maxValue)
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = rowName .. "SliderRow"
            sliderRow.BackgroundTransparency = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            local labelFrame = Instance.new("Frame")
            labelFrame.Name = "Frame"
            labelFrame.BackgroundTransparency = 1
            labelFrame.BorderSizePixel = 1
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = sliderRow

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Size = UDim2.new(1, -80, 1, 0)
            rowLabel.Parent = labelFrame

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.Text = tostring(defaultValue)
            valueTextBox.PlaceholderText = "0"
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.TextSize = 14
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.Parent = labelFrame

            local textBoxCorner = Instance.new("UICorner")
            textBoxCorner.Name = "UICorner"
            textBoxCorner.CornerRadius = UDim.new(0, 4)
            textBoxCorner.Parent = valueTextBox

            local textBoxStroke = Instance.new("UIStroke")
            textBoxStroke.Name = "UIStroke"
            textBoxStroke.Thickness = 1
            textBoxStroke.Transparency = 0.5
            textBoxStroke.Color = Color3.fromRGB(40, 43, 46)
            textBoxStroke.ZIndex = 1
            textBoxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textBoxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textBoxStroke.Parent = valueTextBox

            local sliderTrackArea = Instance.new("Frame")
            sliderTrackArea.Name = "SliderTrackArea"
            sliderTrackArea.BackgroundTransparency = 1
            sliderTrackArea.BorderSizePixel = 1
            sliderTrackArea.Position = UDim2.new(0, 0, 0, 24)
            sliderTrackArea.Size = UDim2.new(1, 0, 0, 16)
            sliderTrackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.BackgroundTransparency = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.BorderSizePixel = 0
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.Parent = sliderTrackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fillBar = Instance.new("Frame")
            fillBar.Name = "FillBar"
            fillBar.BackgroundTransparency = 0
            fillBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            fillBar.BorderSizePixel = 0
            fillBar.Size = UDim2.new(0.5, 0, 1, 0)
            fillBar.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fillBar

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(148, 32, 32)),
                ColorSequenceKeypoint.new(0.55, Color3.fromRGB(190, 45, 45)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 75, 75)),
            })
            fillGradient.Parent = fillBar

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.BackgroundTransparency = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0.5, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.ZIndex = 3
            handle.Parent = sliderTrackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 1
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.Parent = sliderTrackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local minV = tonumber(minValue) or 0
            local maxV = tonumber(maxValue) or 100
            if maxV == minV then
                maxV = minV + 1
            end

            local currentValue = tonumber(defaultValue) or minV
            local currentRatio = math.clamp((currentValue - minV) / (maxV - minV), 0, 1)
            local targetRatio = currentRatio

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local function clampAndRound(v)
                v = tonumber(v) or currentValue
                v = math.floor(v + 0.5)
                v = math.clamp(v, minV, maxV)
                return v
            end

            local function ratioFromValue(v)
                return math.clamp((v - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                local v = minV + (maxV - minV) * r
                return clampAndRound(v)
            end

            local function applyVisual(r)
                fillBar.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function setValue(v, tween)
                currentValue = clampAndRound(v)
                sliderRow:SetAttribute("SliderValue", currentValue)
                valueTextBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)

                targetRatio = ratioFromValue(currentValue)
                if tween then
                    TweenService:Create(fillBar, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)
                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = trackVisual.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - trackVisual.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        sliderRow:SetAttribute("SliderValue", currentValue)
                        valueTextBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            -- Initialize
            setValue(currentValue, false)

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueTextBox.FocusLost:Connect(function()
                local n = tonumber(valueTextBox.Text)
                if n == nil then
                    valueTextBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return sliderRow
        end

        -- Local Player
        local localPlayerSection, localPlayerElements = createSectionFrame(
            "Local Player",
            "Local Player",
            "rbxassetid://10747373176",
            302
        )

        createToggleRow("Speed", "Speed", true).Parent = localPlayerElements
        createToggleRow("Noclip", "Noclip", true).Parent = localPlayerElements
        createToggleRow("Mountain Climber", "Mountain Climber", true).Parent = localPlayerElements
        createToggleRow("Spider", "Spider", true).Parent = localPlayerElements
        createSettingsDivider().Parent = localPlayerElements
        createSliderRow("Speed Value", "Speed Value", 21, 0, 100).Parent = localPlayerElements
        localPlayerSection.Parent = leftContentFrame

        -- Interactables
        local interactablesSection, interactablesElements = createSectionFrame(
            "Interactables",
            "Interactables",
            "rbxassetid://10723405649",
            260
        )

        createToggleRow("Auto Campfire", "Auto Campfire", true).Parent = interactablesElements
        createToggleRow("Auto Coin Press", "Auto Coin Press", true).Parent = interactablesElements
        createSettingsDivider().Parent = interactablesElements
        local fuelDropdownRow = createDropdownRow("Fuel", "Fuel", "Wood")
        fuelDropdownRow.Parent = interactablesElements
        bindFuelDropdownRow(fuelDropdownRow)
        
        createSliderRow("Threshold", "Threshold", 200, 0, 1000).Parent = interactablesElements
        interactablesSection.Parent = leftContentFrame

        -- Armor
        local armorSection, armorElements = createSectionFrame(
            "Armor",
            "Armor",
            "rbxassetid://10734951847",
            186
        )

        createToggleRow("Auto Equip Armor", "Auto Equip Armor", true).Parent = armorElements
        createSliderRow("Health Threshold", "Health Threshold", 99, 0, 100).Parent = armorElements
        createDropdownRow("Armor", "Armor", "God Armor").Parent = armorElements
        armorSection.Parent = leftContentFrame

        return leftContentFrame
    end

    -- Combat tab: Left Content Panel (Combat / Voodoo)
    local function createCombatLeftContentPanel()
        local leftContentFrame = Instance.new("ScrollingFrame")
        leftContentFrame.Name = "LeftContentFrame1"
        leftContentFrame.LayoutOrder = 0
        leftContentFrame.AnchorPoint = Vector2.new(0, 0)
        leftContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        leftContentFrame.ZIndex = 1
        leftContentFrame.BorderSizePixel = 0
        leftContentFrame.Size = UDim2.new(0.5, -21, 1, -68)
        leftContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        leftContentFrame.BackgroundTransparency = 1
        leftContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        leftContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        leftContentFrame.ScrollBarThickness = 0
        leftContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        leftContentFrame.Visible = true
        leftContentFrame.Rotation = 0
        leftContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        leftContentFrame.Position = UDim2.new(0, 14, 0, 54)
        leftContentFrame.ScrollingEnabled = true
        leftContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        leftContentFrame.CanvasPosition = Vector2.new(0, 0)
        leftContentFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local frameListLayout = Instance.new("UIListLayout")
        frameListLayout.Name = "UIListLayout"
        frameListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        frameListLayout.FillDirection = Enum.FillDirection.Vertical
        frameListLayout.Padding = UDim.new(0, 12)
        frameListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        frameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        frameListLayout.Parent = leftContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = leftContentFrame

        local function createSectionFrame(sectionName, sectionTitle, sectionIcon, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName .. "SectionFrame"
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local sectionCorner = Instance.new("UICorner")
            sectionCorner.Name = "UICorner"
            sectionCorner.CornerRadius = UDim.new(0, 12)
            sectionCorner.Parent = sectionFrame

            local sectionStroke = Instance.new("UIStroke")
            sectionStroke.Name = "UIStroke"
            sectionStroke.Thickness = 1
            sectionStroke.Transparency = 0.2
            sectionStroke.Color = Color3.fromRGB(40, 43, 46)
            sectionStroke.ZIndex = 1
            sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
            sectionStroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)

            local darkSweepCorner = Instance.new("UICorner")
            darkSweepCorner.Name = "UICorner"
            darkSweepCorner.CornerRadius = UDim.new(0, 12)
            darkSweepCorner.Parent = darkSweep

            local darkSweepGradient = Instance.new("UIGradient")
            darkSweepGradient.Name = "UIGradient"
            darkSweepGradient.Offset = Vector2.new(0, 0)
            darkSweepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkSweepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkSweepGradient.Rotation = 125
            darkSweepGradient.Parent = darkSweep
            darkSweep.Parent = sectionFrame

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.BackgroundTransparency = 1
            innerBorder.BorderSizePixel = 1
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.ZIndex = 2
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local overlay = Instance.new("Frame")
            overlay.Name = "GradientOverlay"
            overlay.Visible = true
            overlay.BackgroundTransparency = 0.9
            overlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            overlay.BorderSizePixel = 1
            overlay.Size = UDim2.new(1, 0, 1, 0)
            overlay.ZIndex = 2
            overlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = overlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = overlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.ZIndex = 3
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.BackgroundTransparency = 0.5
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.BorderSizePixel = 0
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.ZIndex = 1
            separator.Parent = header

            local separatorGradient = Instance.new("UIGradient")
            separatorGradient.Name = "UIGradient"
            separatorGradient.Offset = Vector2.new(0, 0)
            separatorGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            separatorGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            separatorGradient.Rotation = 0
            separatorGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.BackgroundTransparency = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.BorderSizePixel = 1
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.ZIndex = 1
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local iconImage = Instance.new("ImageLabel")
            iconImage.Name = "Icon"
            iconImage.LayoutOrder = 0
            iconImage.ImageTransparency = 0
            iconImage.AnchorPoint = Vector2.new(0.5, 0.5)
            iconImage.Image = sectionIcon
            iconImage.ZIndex = 2
            iconImage.BorderSizePixel = 1
            iconImage.Size = UDim2.new(0, 14, 0, 14)
            iconImage.ScaleType = Enum.ScaleType.Stretch
            iconImage.BackgroundTransparency = 1
            iconImage.Rotation = 0
            iconImage.Visible = true
            iconImage.Position = UDim2.new(0.5, 0, 0.5, 0)
            iconImage.SliceScale = 1
            iconImage.ImageColor3 = Color3.fromRGB(190, 45, 45)
            iconImage.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            iconImage.Parent = iconContainer

            local titleLabel = Instance.new("TextLabel")
            titleLabel.Name = "SectionTitle"
            titleLabel.LayoutOrder = 0
            titleLabel.TextWrapped = false
            titleLabel.TextTransparency = 0
            titleLabel.TextStrokeTransparency = 1
            titleLabel.AnchorPoint = Vector2.new(0, 0)
            titleLabel.ZIndex = 4
            titleLabel.TextSize = 14
            titleLabel.Size = UDim2.new(1, -54, 1, -1)
            titleLabel.BorderSizePixel = 1
            titleLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            titleLabel.BackgroundTransparency = 1
            titleLabel.Text = sectionTitle
            titleLabel.TextXAlignment = Enum.TextXAlignment.Left
            titleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            titleLabel.Rotation = 0
            titleLabel.Font = Enum.Font.GothamBold
            titleLabel.Position = UDim2.new(0, 44, 0, 0)
            titleLabel.Visible = true
            titleLabel.TextYAlignment = Enum.TextYAlignment.Center
            titleLabel.TextScaled = false
            titleLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            titleLabel.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.ZIndex = 3
            scrollContainer.Parent = sectionFrame

            local elements = Instance.new("ScrollingFrame")
            elements.Name = "ElementsContainer"
            elements.LayoutOrder = 0
            elements.AnchorPoint = Vector2.new(0, 0)
            elements.ScrollingDirection = Enum.ScrollingDirection.XY
            elements.ZIndex = 1
            elements.BorderSizePixel = 0
            elements.Size = UDim2.new(1, 0, 1, 0)
            elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elements.BackgroundTransparency = 1
            elements.CanvasSize = UDim2.new(0, 0, 0, 0)
            elements.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elements.ScrollBarThickness = 0
            elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elements.Visible = true
            elements.Rotation = 0
            elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elements.Position = UDim2.new(0, 0, 0, 0)
            elements.ScrollingEnabled = true
            elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elements.CanvasPosition = Vector2.new(0, 0)
            elements.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elements.Parent = scrollContainer

            local elementsPadding = Instance.new("UIPadding")
            elementsPadding.Name = "UIPadding"
            elementsPadding.PaddingTop = UDim.new(0, 10)
            elementsPadding.PaddingBottom = UDim.new(0, 12)
            elementsPadding.PaddingLeft = UDim.new(0, 12)
            elementsPadding.PaddingRight = UDim.new(0, 12)
            elementsPadding.Parent = elements

            local elementsLayout = Instance.new("UIListLayout")
            elementsLayout.Name = "UIListLayout"
            elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
            elementsLayout.FillDirection = Enum.FillDirection.Vertical
            elementsLayout.Padding = UDim.new(0, 10)
            elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
            elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            elementsLayout.Parent = elements

            return sectionFrame, elements
        end

        local function createToggleRow(rowName, labelText, hasKeybind)
            local row = Instance.new("Frame")
            row.Name = rowName .. "ToggleRow"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AutoButtonColor = false
            checkbox.Text = ""
            checkbox.ZIndex = 1
            checkbox.Parent = row

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(54, 57, 60)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            local sheen = Instance.new("Frame")
            sheen.Name = "SheenOverlay"
            sheen.BackgroundTransparency = 1
            sheen.BorderSizePixel = 0
            sheen.Size = UDim2.new(1, 0, 1, 0)
            sheen.ZIndex = 2
            sheen.Parent = checkbox

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = UDim.new(0, 6)
            sheenCorner.Parent = sheen

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheen

            local shade = Instance.new("Frame")
            shade.Name = "ShadeOverlay"
            shade.BackgroundTransparency = 1
            shade.BorderSizePixel = 0
            shade.Size = UDim2.new(1, 0, 1, 0)
            shade.ZIndex = 2
            shade.Parent = checkbox

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = UDim.new(0, 6)
            shadeCorner.Parent = shade

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shade

            local checkImage = Instance.new("ImageLabel")
            checkImage.Name = "Check"
            checkImage.BackgroundTransparency = 1
            checkImage.BorderSizePixel = 1
            checkImage.AnchorPoint = Vector2.new(0.5, 0.5)
            checkImage.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkImage.Size = UDim2.new(1, -6, 1, -6)
            checkImage.Image = "rbxassetid://10709790644"
            checkImage.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkImage.ImageTransparency = 1
            checkImage.ScaleType = Enum.ScaleType.Stretch
            checkImage.ZIndex = 3
            checkImage.Parent = checkbox

            local keybindButton
            if hasKeybind then
                keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
                keybindButton.BorderSizePixel = 1
                keybindButton.Text = "None"
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.TextSize = 14
                keybindButton.AutoButtonColor = false
                keybindButton.ZIndex = 1
                keybindButton.Parent = row

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                local keybindSheen = sheen:Clone()
                keybindSheen.Parent = keybindButton
                local keybindShade = shade:Clone()
                keybindShade.Parent = keybindButton

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton
            end

            bindCheckboxToggle(checkbox)
            if keybindButton then
                bindKeybindButton(keybindButton)
            end

            return row
        end

        local function createSliderRow(rowName, labelText, defaultValue, minValue, maxValue)
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = rowName .. "SliderRow"
            sliderRow.Visible = true
            sliderRow.BackgroundTransparency = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            local header = Instance.new("Frame")
            header.Name = "Frame"
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 18)
            header.Parent = sliderRow

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.Parent = header

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.PlaceholderText = "0"
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.TextEditable = true
            valueTextBox.Text = tostring(defaultValue)
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.TextSize = 14
            valueTextBox.Parent = header

            local boxCorner = Instance.new("UICorner")
            boxCorner.Name = "UICorner"
            boxCorner.CornerRadius = UDim.new(0, 4)
            boxCorner.Parent = valueTextBox

            local boxStroke = Instance.new("UIStroke")
            boxStroke.Name = "UIStroke"
            boxStroke.Thickness = 1
            boxStroke.Transparency = 0.5
            boxStroke.Color = Color3.fromRGB(40, 43, 46)
            boxStroke.ZIndex = 1
            boxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            boxStroke.LineJoinMode = Enum.LineJoinMode.Round
            boxStroke.Parent = valueTextBox

            local trackArea = Instance.new("Frame")
            trackArea.Name = "SliderTrackArea"
            trackArea.BackgroundTransparency = 1
            trackArea.BorderSizePixel = 1
            trackArea.Position = UDim2.new(0, 0, 0, 24)
            trackArea.Size = UDim2.new(1, 0, 0, 16)
            trackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.BackgroundTransparency = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.BorderSizePixel = 0
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.ZIndex = 1
            trackVisual.Parent = trackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fill = Instance.new("Frame")
            fill.Name = "FillBar"
            fill.BackgroundTransparency = 0
            fill.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            fill.BorderSizePixel = 0
            fill.Position = UDim2.new(0, 0, 0, 0)
            fill.Size = UDim2.new(0, 0, 1, 0)
            fill.ZIndex = 2
            fill.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fill

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(148, 32, 32)),
                ColorSequenceKeypoint.new(0.55, Color3.fromRGB(190, 45, 45)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 75, 75)),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fill

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.BackgroundTransparency = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.ZIndex = 3
            handle.Parent = trackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 1
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.TextSize = 8
            clickArea.Font = Enum.Font.Legacy
            clickArea.ZIndex = 4
            clickArea.Parent = trackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            local minV = tonumber(minValue) or 0
            local maxV = tonumber(maxValue) or 100
            local v = tonumber(defaultValue) or minV
            if maxV == minV then
                maxV = minV + 1
            end
            local alpha = math.clamp((v - minV) / (maxV - minV), 0, 1)
            fill.Size = UDim2.new(alpha, 0, 1, 0)
            handle.Position = UDim2.new(alpha, 0, 0.5, 0)

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local currentValue = math.clamp(math.floor(v + 0.5), minV, maxV)
            local currentRatio = alpha
            local targetRatio = alpha
            sliderRow:SetAttribute("SliderValue", currentValue)
            valueTextBox.Text = tostring(currentValue)

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local function clampAndRound(num)
                num = tonumber(num) or currentValue
                num = math.floor(num + 0.5)
                return math.clamp(num, minV, maxV)
            end

            local function ratioFromValue(num)
                return math.clamp((num - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                return clampAndRound(minV + (maxV - minV) * r)
            end

            local function applyVisual(r)
                fill.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function setValue(num, tween)
                currentValue = clampAndRound(num)
                sliderRow:SetAttribute("SliderValue", currentValue)
                valueTextBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)

                targetRatio = ratioFromValue(currentValue)
                if tween then
                    TweenService:Create(fill, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    TweenService:Create(bubble, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0, 28),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)

                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = trackVisual.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - trackVisual.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        sliderRow:SetAttribute("SliderValue", currentValue)
                        valueTextBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueTextBox.FocusLost:Connect(function()
                local n = tonumber(valueTextBox.Text)
                if n == nil then
                    valueTextBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return sliderRow
        end

        -- Combat
        local combatSection, combatElements = createSectionFrame(
            "Combat",
            "Combat",
            "rbxassetid://10734975486",
            216
        )
        createToggleRow("Kill Aura", "Kill Aura", true).Parent = combatElements
        createToggleRow("Legit", "Legit", true).Parent = combatElements
        createToggleRow("Type Check", "Type Check", true).Parent = combatElements
        createToggleRow("Target Strafe", "Target Strafe", true).Parent = combatElements
        combatSection.Parent = leftContentFrame

        -- Voodoo
        local voodooSection, voodooElements = createSectionFrame(
            "Voodoo",
            "Voodoo",
            "http://www.roblox.com/asset/?id=123081207761543",
            270
        )
        createToggleRow("Fire Voodo Bolt", "Fire Voodo Bolt", true).Parent = voodooElements
        createToggleRow("Voodo Aimbot Hook", "Voodo Aimbot Hook", true).Parent = voodooElements
        createToggleRow("Voodo Macro 3X", "Voodo Macro 3X", true).Parent = voodooElements
        createToggleRow("Use Voodo Shield", "Use Voodo Shield", true).Parent = voodooElements
        createSliderRow("Health Threshold", "Health Threshold", 70, 0, 100).Parent = voodooElements
        voodooSection.Parent = leftContentFrame

        return leftContentFrame
    end

    -- Combat tab: Right Content Panel (Auto Heal / Hitbox Related)
    local function createCombatRightContentPanel()
        local rightContentFrame = Instance.new("ScrollingFrame")
        rightContentFrame.Name = "RightContentFrame1"
        rightContentFrame.LayoutOrder = 0
        rightContentFrame.AnchorPoint = Vector2.new(0, 0)
        rightContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        rightContentFrame.ZIndex = 1
        rightContentFrame.BorderSizePixel = 0
        rightContentFrame.Size = UDim2.new(0.5, -21, 1, -68)
        rightContentFrame.Position = UDim2.new(0.5, 7, 0, 54)
        rightContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        rightContentFrame.BackgroundTransparency = 1
        rightContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        rightContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        rightContentFrame.ScrollBarThickness = 0
        rightContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        rightContentFrame.Visible = true
        rightContentFrame.Rotation = 0
        rightContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        rightContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        rightContentFrame.ScrollingEnabled = true
        rightContentFrame.CanvasPosition = Vector2.new(0, 0)
        rightContentFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local frameListLayout = Instance.new("UIListLayout")
        frameListLayout.Name = "UIListLayout"
        frameListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        frameListLayout.FillDirection = Enum.FillDirection.Vertical
        frameListLayout.Padding = UDim.new(0, 12)
        frameListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        frameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        frameListLayout.Parent = rightContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = rightContentFrame

        local function createSectionFrame(sectionName, sectionTitle, sectionIcon, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName .. "SectionFrame"
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local sectionCorner = Instance.new("UICorner")
            sectionCorner.Name = "UICorner"
            sectionCorner.CornerRadius = UDim.new(0, 12)
            sectionCorner.Parent = sectionFrame

            local sectionStroke = Instance.new("UIStroke")
            sectionStroke.Name = "UIStroke"
            sectionStroke.Thickness = 1
            sectionStroke.Transparency = 0.2
            sectionStroke.Color = Color3.fromRGB(40, 43, 46)
            sectionStroke.ZIndex = 1
            sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
            sectionStroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)

            local darkSweepCorner = Instance.new("UICorner")
            darkSweepCorner.Name = "UICorner"
            darkSweepCorner.CornerRadius = UDim.new(0, 12)
            darkSweepCorner.Parent = darkSweep

            local darkSweepGradient = Instance.new("UIGradient")
            darkSweepGradient.Name = "UIGradient"
            darkSweepGradient.Offset = Vector2.new(0, 0)
            darkSweepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkSweepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkSweepGradient.Rotation = 125
            darkSweepGradient.Parent = darkSweep
            darkSweep.Parent = sectionFrame

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.BackgroundTransparency = 1
            innerBorder.BorderSizePixel = 1
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.ZIndex = 2
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local overlay = Instance.new("Frame")
            overlay.Name = "GradientOverlay"
            overlay.Visible = true
            overlay.BackgroundTransparency = 0.9
            overlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            overlay.BorderSizePixel = 1
            overlay.Size = UDim2.new(1, 0, 1, 0)
            overlay.ZIndex = 2
            overlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = overlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = overlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.ZIndex = 3
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.BackgroundTransparency = 0.5
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.BorderSizePixel = 0
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.ZIndex = 1
            separator.Parent = header

            local separatorGradient = Instance.new("UIGradient")
            separatorGradient.Name = "UIGradient"
            separatorGradient.Offset = Vector2.new(0, 0)
            separatorGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            separatorGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            separatorGradient.Rotation = 0
            separatorGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.BackgroundTransparency = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.BorderSizePixel = 1
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.ZIndex = 1
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local iconImage = Instance.new("ImageLabel")
            iconImage.Name = "Icon"
            iconImage.LayoutOrder = 0
            iconImage.ImageTransparency = 0
            iconImage.AnchorPoint = Vector2.new(0.5, 0.5)
            iconImage.Image = sectionIcon
            iconImage.ZIndex = 2
            iconImage.BorderSizePixel = 1
            iconImage.Size = UDim2.new(0, 14, 0, 14)
            iconImage.ScaleType = Enum.ScaleType.Stretch
            iconImage.BackgroundTransparency = 1
            iconImage.Rotation = 0
            iconImage.Visible = true
            iconImage.Position = UDim2.new(0.5, 0, 0.5, 0)
            iconImage.SliceScale = 1
            iconImage.ImageColor3 = Color3.fromRGB(190, 45, 45)
            iconImage.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            iconImage.Parent = iconContainer

            local titleLabel = Instance.new("TextLabel")
            titleLabel.Name = "SectionTitle"
            titleLabel.LayoutOrder = 0
            titleLabel.TextWrapped = false
            titleLabel.TextTransparency = 0
            titleLabel.TextStrokeTransparency = 1
            titleLabel.AnchorPoint = Vector2.new(0, 0)
            titleLabel.ZIndex = 4
            titleLabel.TextSize = 14
            titleLabel.Size = UDim2.new(1, -54, 1, -1)
            titleLabel.BorderSizePixel = 1
            titleLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            titleLabel.BackgroundTransparency = 1
            titleLabel.Text = sectionTitle
            titleLabel.TextXAlignment = Enum.TextXAlignment.Left
            titleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            titleLabel.Rotation = 0
            titleLabel.Font = Enum.Font.GothamBold
            titleLabel.Position = UDim2.new(0, 44, 0, 0)
            titleLabel.Visible = true
            titleLabel.TextYAlignment = Enum.TextYAlignment.Center
            titleLabel.TextScaled = false
            titleLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            titleLabel.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.ZIndex = 3
            scrollContainer.Parent = sectionFrame

            local elements = Instance.new("ScrollingFrame")
            elements.Name = "ElementsContainer"
            elements.LayoutOrder = 0
            elements.AnchorPoint = Vector2.new(0, 0)
            elements.ScrollingDirection = Enum.ScrollingDirection.XY
            elements.ZIndex = 1
            elements.BorderSizePixel = 0
            elements.Size = UDim2.new(1, 0, 1, 0)
            elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elements.BackgroundTransparency = 1
            elements.CanvasSize = UDim2.new(0, 0, 0, 0)
            elements.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elements.ScrollBarThickness = 0
            elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elements.Visible = true
            elements.Rotation = 0
            elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elements.ScrollingEnabled = true
            elements.CanvasPosition = Vector2.new(0, 0)
            elements.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elements.Parent = scrollContainer

            local elementsPadding = Instance.new("UIPadding")
            elementsPadding.Name = "UIPadding"
            elementsPadding.PaddingTop = UDim.new(0, 10)
            elementsPadding.PaddingBottom = UDim.new(0, 12)
            elementsPadding.PaddingLeft = UDim.new(0, 12)
            elementsPadding.PaddingRight = UDim.new(0, 12)
            elementsPadding.Parent = elements

            local elementsLayout = Instance.new("UIListLayout")
            elementsLayout.Name = "UIListLayout"
            elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
            elementsLayout.FillDirection = Enum.FillDirection.Vertical
            elementsLayout.Padding = UDim.new(0, 10)
            elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
            elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            elementsLayout.Parent = elements

            return sectionFrame, elements
        end

        local function createToggleRow(rowName, labelText, hasKeybind)
            local row = Instance.new("Frame")
            row.Name = rowName .. "ToggleRow"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AutoButtonColor = false
            checkbox.Text = ""
            checkbox.ZIndex = 1
            checkbox.Parent = row

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(54, 57, 60)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            local sheen = Instance.new("Frame")
            sheen.Name = "SheenOverlay"
            sheen.BackgroundTransparency = 1
            sheen.BorderSizePixel = 0
            sheen.Size = UDim2.new(1, 0, 1, 0)
            sheen.ZIndex = 2
            sheen.Parent = checkbox

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = UDim.new(0, 6)
            sheenCorner.Parent = sheen

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheen

            local shade = Instance.new("Frame")
            shade.Name = "ShadeOverlay"
            shade.BackgroundTransparency = 1
            shade.BorderSizePixel = 0
            shade.Size = UDim2.new(1, 0, 1, 0)
            shade.ZIndex = 2
            shade.Parent = checkbox

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = UDim.new(0, 6)
            shadeCorner.Parent = shade

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shade

            local checkImage = Instance.new("ImageLabel")
            checkImage.Name = "Check"
            checkImage.BackgroundTransparency = 1
            checkImage.BorderSizePixel = 1
            checkImage.AnchorPoint = Vector2.new(0.5, 0.5)
            checkImage.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkImage.Size = UDim2.new(1, -6, 1, -6)
            checkImage.Image = "rbxassetid://10709790644"
            checkImage.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkImage.ImageTransparency = 1
            checkImage.ScaleType = Enum.ScaleType.Stretch
            checkImage.ZIndex = 3
            checkImage.Parent = checkbox

            local keybindButton
            if hasKeybind then
                keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
                keybindButton.BorderSizePixel = 1
                keybindButton.Text = "None"
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.TextSize = 14
                keybindButton.AutoButtonColor = false
                keybindButton.ZIndex = 1
                keybindButton.Parent = row

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                local keybindSheen = sheen:Clone()
                keybindSheen.Parent = keybindButton
                local keybindShade = shade:Clone()
                keybindShade.Parent = keybindButton

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton
            end

            bindCheckboxToggle(checkbox)
            if keybindButton then
                bindKeybindButton(keybindButton)
            end

            return row
        end

        local function createDropdownRow(labelText, defaultValue)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.BackgroundTransparency = 1
            rowLabel.BorderSizePixel = 1
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Text = labelText
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.AutoButtonColor = false
            dropdownButton.Text = defaultValue
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.TextSize = 14
            dropdownButton.ZIndex = 101
            dropdownButton.Parent = buttonContainer

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = dropdownButton

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = dropdownButton

            local arrowIcon = Instance.new("ImageLabel")
            arrowIcon.Name = "ImageLabel"
            arrowIcon.AnchorPoint = Vector2.new(1, 0.5)
            arrowIcon.Position = UDim2.new(1, -8, 0.5, 0)
            arrowIcon.Size = UDim2.new(0, 14, 0, 14)
            arrowIcon.BackgroundTransparency = 1
            arrowIcon.Image = "rbxassetid://7072706796"
            arrowIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrowIcon.ImageTransparency = 0
            arrowIcon.ZIndex = 102
            arrowIcon.Parent = dropdownButton

            return dropdownRow
        end

        local function createSliderRow(rowName, labelText, defaultValue, minValue, maxValue)
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = rowName .. "SliderRow"
            sliderRow.Visible = true
            sliderRow.BackgroundTransparency = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            local header = Instance.new("Frame")
            header.Name = "Frame"
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 18)
            header.Parent = sliderRow

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.Parent = header

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.PlaceholderText = "0"
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.TextEditable = true
            valueTextBox.Text = tostring(defaultValue)
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.TextSize = 14
            valueTextBox.Parent = header

            local boxCorner = Instance.new("UICorner")
            boxCorner.Name = "UICorner"
            boxCorner.CornerRadius = UDim.new(0, 4)
            boxCorner.Parent = valueTextBox

            local boxStroke = Instance.new("UIStroke")
            boxStroke.Name = "UIStroke"
            boxStroke.Thickness = 1
            boxStroke.Transparency = 0.5
            boxStroke.Color = Color3.fromRGB(40, 43, 46)
            boxStroke.ZIndex = 1
            boxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            boxStroke.LineJoinMode = Enum.LineJoinMode.Round
            boxStroke.Parent = valueTextBox

            local trackArea = Instance.new("Frame")
            trackArea.Name = "SliderTrackArea"
            trackArea.BackgroundTransparency = 1
            trackArea.BorderSizePixel = 1
            trackArea.Position = UDim2.new(0, 0, 0, 24)
            trackArea.Size = UDim2.new(1, 0, 0, 16)
            trackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.BackgroundTransparency = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.BorderSizePixel = 0
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.ZIndex = 1
            trackVisual.Parent = trackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fill = Instance.new("Frame")
            fill.Name = "FillBar"
            fill.BackgroundTransparency = 0
            fill.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            fill.BorderSizePixel = 0
            fill.Position = UDim2.new(0, 0, 0, 0)
            fill.Size = UDim2.new(0, 0, 1, 0)
            fill.ZIndex = 2
            fill.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fill

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(148, 32, 32)),
                ColorSequenceKeypoint.new(0.55, Color3.fromRGB(190, 45, 45)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 75, 75)),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fill

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.BackgroundTransparency = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.ZIndex = 3
            handle.Parent = trackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 1
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.TextSize = 8
            clickArea.Font = Enum.Font.Legacy
            clickArea.ZIndex = 4
            clickArea.Parent = trackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            local minV = tonumber(minValue) or 0
            local maxV = tonumber(maxValue) or 100
            local v = tonumber(defaultValue) or minV
            if maxV == minV then
                maxV = minV + 1
            end
            local alpha = math.clamp((v - minV) / (maxV - minV), 0, 1)
            fill.Size = UDim2.new(alpha, 0, 1, 0)
            handle.Position = UDim2.new(alpha, 0, 0.5, 0)

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local currentValue = math.clamp(math.floor(v + 0.5), minV, maxV)
            local currentRatio = alpha
            local targetRatio = alpha
            sliderRow:SetAttribute("SliderValue", currentValue)
            valueTextBox.Text = tostring(currentValue)

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local function clampAndRound(num)
                num = tonumber(num) or currentValue
                num = math.floor(num + 0.5)
                return math.clamp(num, minV, maxV)
            end

            local function ratioFromValue(num)
                return math.clamp((num - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                return clampAndRound(minV + (maxV - minV) * r)
            end

            local function applyVisual(r)
                fill.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function setValue(num, tween)
                currentValue = clampAndRound(num)
                sliderRow:SetAttribute("SliderValue", currentValue)
                valueTextBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)

                targetRatio = ratioFromValue(currentValue)
                if tween then
                    TweenService:Create(fill, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    TweenService:Create(bubble, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0, 28),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)

                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = trackVisual.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - trackVisual.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        sliderRow:SetAttribute("SliderValue", currentValue)
                        valueTextBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueTextBox.FocusLost:Connect(function()
                local n = tonumber(valueTextBox.Text)
                if n == nil then
                    valueTextBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return sliderRow
        end

        -- Auto Heal
        local autoHealSection, autoHealElements = createSectionFrame(
            "Auto Heal",
            "Auto Heal",
            "rbxassetid://86343125750347",
            420
        )
        createToggleRow("Auto Heal", "Auto Heal", true).Parent = autoHealElements
        createToggleRow("Auto Eat", "Auto Eat", true).Parent = autoHealElements
        createToggleRow("Typing Check", "Typing Check", true).Parent = autoHealElements
        createSliderRow("Heal Threshold", "Heal Threshold", 99, 0, 100).Parent = autoHealElements
        createSliderRow("Hunger Threshold", "Hunger Threshold", 70, 0, 100).Parent = autoHealElements
        createSliderRow("Void Heal Count", "Void Heal Count", 3, 0, 10).Parent = autoHealElements
        createDropdownRow("Heal Method", "Overworld").Parent = autoHealElements
        createDropdownRow("Fruit Type", "Bloodfruit").Parent = autoHealElements
        autoHealSection.Parent = rightContentFrame

        -- Hitbox Related
        local hitboxSection, hitboxElements = createSectionFrame(
            "Hitbox Related",
            "Hitbox Related",
            "rbxassetid://10709782497",
            228
        )
        createToggleRow("Bird", "Bird", true).Parent = hitboxElements
        createToggleRow("Player", "Player", true).Parent = hitboxElements
        createToggleRow("Balloon", "Balloon", true).Parent = hitboxElements
        createSliderRow("Value", "Value", 3, 0, 36).Parent = hitboxElements
        hitboxSection.Parent = rightContentFrame

        return rightContentFrame
    end

    local function createMainRightContentPanel()
        local rightContentFrame = Instance.new("ScrollingFrame")
        rightContentFrame.Name = "RightContentFrame1"
        rightContentFrame.LayoutOrder = 0
        rightContentFrame.AnchorPoint = Vector2.new(0, 0)
        rightContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        rightContentFrame.ZIndex = 1
        rightContentFrame.BorderSizePixel = 0
        rightContentFrame.Size = UDim2.new(0.5, -21, 1, -68)
        rightContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        rightContentFrame.BackgroundTransparency = 1
        rightContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        rightContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        rightContentFrame.ScrollBarThickness = 0
        rightContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        rightContentFrame.Visible = true
        rightContentFrame.Rotation = 0
        rightContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        rightContentFrame.Position = UDim2.new(0.5, 7, 0, 54)
        rightContentFrame.ScrollingEnabled = true
        rightContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        rightContentFrame.CanvasPosition = Vector2.new(0, 0)
        rightContentFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local frameListLayout = Instance.new("UIListLayout")
        frameListLayout.Name = "UIListLayout"
        frameListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        frameListLayout.FillDirection = Enum.FillDirection.Vertical
        frameListLayout.Padding = UDim.new(0, 12)
        frameListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        frameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        frameListLayout.Parent = rightContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = rightContentFrame

        local function createSectionFrame(sectionName, sectionTitle, sectionIcon, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionName .. "SectionFrame"
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local sectionCorner = Instance.new("UICorner")
            sectionCorner.Name = "UICorner"
            sectionCorner.CornerRadius = UDim.new(0, 12)
            sectionCorner.Parent = sectionFrame

            local sectionStroke = Instance.new("UIStroke")
            sectionStroke.Name = "UIStroke"
            sectionStroke.Thickness = 1
            sectionStroke.Transparency = 0.2
            sectionStroke.Color = Color3.fromRGB(40, 43, 46)
            sectionStroke.ZIndex = 1
            sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
            sectionStroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)

            local darkSweepCorner = Instance.new("UICorner")
            darkSweepCorner.Name = "UICorner"
            darkSweepCorner.CornerRadius = UDim.new(0, 12)
            darkSweepCorner.Parent = darkSweep

            local darkSweepGradient = Instance.new("UIGradient")
            darkSweepGradient.Name = "UIGradient"
            darkSweepGradient.Offset = Vector2.new(0, 0)
            darkSweepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkSweepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkSweepGradient.Rotation = 125
            darkSweepGradient.Parent = darkSweep
            darkSweep.Parent = sectionFrame

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.BackgroundTransparency = 1
            innerBorder.BorderSizePixel = 1
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.ZIndex = 2
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 2
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "SectionGradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)

            local gradientOverlayCorner = Instance.new("UICorner")
            gradientOverlayCorner.Name = "UICorner"
            gradientOverlayCorner.CornerRadius = UDim.new(0, 12)
            gradientOverlayCorner.Parent = gradientOverlay

            local gradientOverlayGradient = Instance.new("UIGradient")
            gradientOverlayGradient.Name = "UIGradient"
            gradientOverlayGradient.Offset = Vector2.new(0, 0)
            gradientOverlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.02),
                NumberSequenceKeypoint.new(0.5, 0.08),
                NumberSequenceKeypoint.new(1, 0.02),
            })
            gradientOverlayGradient.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
            gradientOverlayGradient.Rotation = 90
            gradientOverlayGradient.Parent = gradientOverlay
            gradientOverlay.Parent = sectionFrame

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)

            local headerSeparator = Instance.new("Frame")
            headerSeparator.Name = "Separator"
            headerSeparator.Visible = true
            headerSeparator.ClipsDescendants = false
            headerSeparator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            headerSeparator.LayoutOrder = 0
            headerSeparator.BackgroundTransparency = 0.5
            headerSeparator.Rotation = 0
            headerSeparator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            headerSeparator.Position = UDim2.new(0, 10, 1, -1)
            headerSeparator.AnchorPoint = Vector2.new(0, 0)
            headerSeparator.ZIndex = 1
            headerSeparator.BorderSizePixel = 0
            headerSeparator.Size = UDim2.new(1, -20, 0, 1)

            local separatorGradient = Instance.new("UIGradient")
            separatorGradient.Name = "UIGradient"
            separatorGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            separatorGradient.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
            separatorGradient.Rotation = 0
            separatorGradient.Parent = headerSeparator
            headerSeparator.Parent = header

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)

            local iconContainerCorner = Instance.new("UICorner")
            iconContainerCorner.Name = "UICorner"
            iconContainerCorner.CornerRadius = UDim.new(0, 6)
            iconContainerCorner.Parent = iconContainer

            local iconContainerStroke = Instance.new("UIStroke")
            iconContainerStroke.Name = "UIStroke"
            iconContainerStroke.Thickness = 1
            iconContainerStroke.Transparency = 0.75
            iconContainerStroke.Color = Color3.fromRGB(190, 45, 45)
            iconContainerStroke.ZIndex = 1
            iconContainerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconContainerStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconContainerStroke.Parent = iconContainer

            local iconContainerGradient = Instance.new("UIGradient")
            iconContainerGradient.Name = "UIGradient"
            iconContainerGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconContainerGradient.Color = ColorSequence.new(Color3.fromRGB(255, 0, 0))
            iconContainerGradient.Rotation = 125
            iconContainerGradient.Parent = iconContainer

            local iconImage = Instance.new("ImageLabel")
            iconImage.Name = "Icon"
            iconImage.LayoutOrder = 0
            iconImage.ImageTransparency = 0
            iconImage.AnchorPoint = Vector2.new(0.5, 0.5)
            iconImage.Image = sectionIcon
            iconImage.TileSize = UDim2.new(1, 0, 1, 0)
            iconImage.ZIndex = 2
            iconImage.BorderSizePixel = 1
            iconImage.Size = UDim2.new(0, 14, 0, 14)
            iconImage.ScaleType = Enum.ScaleType.Stretch
            iconImage.BackgroundTransparency = 1
            iconImage.Rotation = 0
            iconImage.Visible = true
            iconImage.Position = UDim2.new(0.5, 0, 0.5, 0)
            iconImage.SliceScale = 1
            iconImage.ImageColor3 = Color3.fromRGB(190, 45, 45)
            iconImage.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            iconImage.Parent = iconContainer
            iconContainer.Parent = header

            local titleLabel = Instance.new("TextLabel")
            titleLabel.Name = "SectionTitle"
            titleLabel.LayoutOrder = 0
            titleLabel.TextWrapped = false
            titleLabel.TextTransparency = 0
            titleLabel.TextStrokeTransparency = 1
            titleLabel.AnchorPoint = Vector2.new(0, 0)
            titleLabel.ZIndex = 4
            titleLabel.TextSize = 14
            titleLabel.Size = UDim2.new(1, -54, 1, -1)
            titleLabel.BorderSizePixel = 1
            titleLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            titleLabel.BackgroundTransparency = 1
            titleLabel.Text = sectionTitle
            titleLabel.TextXAlignment = Enum.TextXAlignment.Left
            titleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            titleLabel.Rotation = 0
            titleLabel.Font = Enum.Font.GothamBold
            titleLabel.Position = UDim2.new(0, 44, 0, 0)
            titleLabel.Visible = true
            titleLabel.TextYAlignment = Enum.TextYAlignment.Center
            titleLabel.TextScaled = false
            titleLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            titleLabel.Parent = header
            header.Parent = sectionFrame

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

            local elementsPadding = Instance.new("UIPadding")
            elementsPadding.Name = "UIPadding"
            elementsPadding.PaddingTop = UDim.new(0, 10)
            elementsPadding.PaddingBottom = UDim.new(0, 12)
            elementsPadding.PaddingLeft = UDim.new(0, 12)
            elementsPadding.PaddingRight = UDim.new(0, 12)
            elementsPadding.Parent = elementsContainer

            local elementsLayout = Instance.new("UIListLayout")
            elementsLayout.Name = "UIListLayout"
            elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
            elementsLayout.FillDirection = Enum.FillDirection.Vertical
            elementsLayout.Padding = UDim.new(0, 10)
            elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
            elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
            elementsLayout.Parent = elementsContainer

            elementsContainer.Parent = scrollContainer
            scrollContainer.Parent = sectionFrame

            return sectionFrame, elementsContainer
        end

        local function createToggleRow(rowName, labelText, hasKeybind)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowName .. "ToggleRow"
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(1, -80, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            checkbox.Parent = toggleRow

            if hasKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)

                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createSettingsDivider()
            local dividerFrame = Instance.new("Frame")
            dividerFrame.Name = "Frame"
            dividerFrame.Visible = true
            dividerFrame.ClipsDescendants = false
            dividerFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dividerFrame.LayoutOrder = 0
            dividerFrame.BackgroundTransparency = 1
            dividerFrame.Rotation = 0
            dividerFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerFrame.Position = UDim2.new(0, 0, 0, 0)
            dividerFrame.AnchorPoint = Vector2.new(0, 0)
            dividerFrame.ZIndex = 1
            dividerFrame.BorderSizePixel = 1
            dividerFrame.Size = UDim2.new(1, 0, 0, 22)

            local dividerLabel = Instance.new("TextLabel")
            dividerLabel.Name = "TextLabel"
            dividerLabel.LayoutOrder = 0
            dividerLabel.TextWrapped = false
            dividerLabel.TextTransparency = 0
            dividerLabel.TextStrokeTransparency = 1
            dividerLabel.AnchorPoint = Vector2.new(0.5, 0.5)
            dividerLabel.ZIndex = 2
            dividerLabel.TextSize = 14
            dividerLabel.Size = UDim2.new(0, 0, 0, 14)
            dividerLabel.BorderSizePixel = 1
            dividerLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
            dividerLabel.BackgroundTransparency = 1
            dividerLabel.Text = "Settings"
            dividerLabel.TextXAlignment = Enum.TextXAlignment.Center
            dividerLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            dividerLabel.Rotation = 0
            dividerLabel.Font = Enum.Font.GothamBold
            dividerLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
            dividerLabel.Visible = true
            dividerLabel.TextYAlignment = Enum.TextYAlignment.Center
            dividerLabel.TextScaled = false
            dividerLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerLabel.Parent = dividerFrame

            local leftLine = Instance.new("Frame")
            leftLine.Name = "Frame"
            leftLine.Visible = true
            leftLine.ClipsDescendants = false
            leftLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            leftLine.LayoutOrder = 0
            leftLine.BackgroundTransparency = 0
            leftLine.Rotation = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.ZIndex = 1
            leftLine.BorderSizePixel = 0
            leftLine.Size = UDim2.new(0, 88, 0, 1)
            leftLine.Parent = dividerFrame

            local rightLine = Instance.new("Frame")
            rightLine.Name = "Frame"
            rightLine.Visible = true
            rightLine.ClipsDescendants = false
            rightLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            rightLine.LayoutOrder = 0
            rightLine.BackgroundTransparency = 0
            rightLine.Rotation = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.ZIndex = 1
            rightLine.BorderSizePixel = 0
            rightLine.Size = UDim2.new(0, 88, 0, 1)
            rightLine.Parent = dividerFrame

            return dividerFrame
        end

        local function createDropdownRow(rowName, labelText, defaultValue)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.ClipsDescendants = false
            dropdownRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dropdownRow.LayoutOrder = 0
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.Rotation = 0
            dropdownRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dropdownRow.Position = UDim2.new(0, 0, 0, 0)
            dropdownRow.AnchorPoint = Vector2.new(0, 0)
            dropdownRow.ZIndex = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.Visible = true
            buttonContainer.ClipsDescendants = false
            buttonContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            buttonContainer.LayoutOrder = 0
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.Rotation = 0
            buttonContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.AnchorPoint = Vector2.new(0, 0)
            buttonContainer.ZIndex = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.LayoutOrder = 0
            dropdownButton.TextWrapped = false
            dropdownButton.TextTransparency = 0
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.ZIndex = 101
            dropdownButton.TextSize = 14
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.Text = defaultValue
            dropdownButton.Modal = false
            dropdownButton.AutoButtonColor = false
            dropdownButton.Rotation = 0
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Visible = true
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.TextScaled = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.Parent = buttonContainer

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = dropdownButton

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = dropdownButton

            local arrowIcon = Instance.new("ImageLabel")
            arrowIcon.Name = "ImageLabel"
            arrowIcon.LayoutOrder = 0
            arrowIcon.ImageTransparency = 0
            arrowIcon.AnchorPoint = Vector2.new(1, 0.5)
            arrowIcon.Image = "rbxassetid://7072706796"
            arrowIcon.TileSize = UDim2.new(1, 0, 1, 0)
            arrowIcon.ZIndex = 102
            arrowIcon.BorderSizePixel = 1
            arrowIcon.Size = UDim2.new(0, 14, 0, 14)
            arrowIcon.ScaleType = Enum.ScaleType.Stretch
            arrowIcon.BackgroundTransparency = 1
            arrowIcon.Rotation = 0
            arrowIcon.Visible = true
            arrowIcon.Position = UDim2.new(1, -8, 0.5, 0)
            arrowIcon.SliceScale = 1
            arrowIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrowIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrowIcon.Parent = dropdownButton

            return dropdownRow
        end

        local function createAddItemRow()
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = "Add Item"
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local textboxContainer = Instance.new("Frame")
            textboxContainer.Name = "Frame"
            textboxContainer.Visible = true
            textboxContainer.ClipsDescendants = false
            textboxContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            textboxContainer.LayoutOrder = 0
            textboxContainer.BackgroundTransparency = 1
            textboxContainer.Rotation = 0
            textboxContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            textboxContainer.Position = UDim2.new(0.4, 0, 0, 0)
            textboxContainer.AnchorPoint = Vector2.new(0, 0)
            textboxContainer.ZIndex = 1
            textboxContainer.BorderSizePixel = 1
            textboxContainer.Size = UDim2.new(0.6, 0, 1, 0)
            textboxContainer.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = "TextBox"
            textbox.LayoutOrder = 0
            textbox.TextWrapped = false
            textbox.TextTransparency = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BorderSizePixel = 0
            textbox.BackgroundTransparency = 0
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = textboxContainer

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingRight = UDim.new(0, 18)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ImageButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.BackgroundTransparency = 1
            clearButton.Rotation = 0
            clearButton.Visible = true
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            clearButton.MouseButton1Click:Connect(function()
                textbox.Text = ""
            end)

            return row
        end

        local function createFilterLogicRow()
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 88)

            local label = Instance.new("TextLabel")
            label.Name = "TextLabel"
            label.LayoutOrder = 0
            label.TextWrapped = true
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -8, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.BackgroundTransparency = 1
            label.RichText = true
            label.Text = "<font color='#55FF55'>FILTER LOGIC:</font> If the dropdown selection is <font color='#FFAA77'>empty</font>, the filter is ignored and <font color='#FFFF77'>all items</font> will be picked up. If you select <font color='#AAFFAA'>one or more items</font>, it will <font color='#AAFFAA'>only pick up</font> what you've chosen in the list."
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Top
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = row

            return row
        end

        local balloonSection, balloonElements = createSectionFrame(
            "Balloon Event",
            "Balloon Event",
            "rbxassetid://10734918735",
            90
        )
        createToggleRow("Auto Shoot Balloon", "Auto Shoot Balloon", true).Parent = balloonElements
        balloonSection.Parent = rightContentFrame

        local autoHitsSection, autoHitsElements = createSectionFrame(
            "Auto Hits",
            "Auto Hits",
            "rbxassetid://10709769508",
            132
        )
        createToggleRow("Auto Hit", "Auto Hit", true).Parent = autoHitsElements
        createDropdownRow("Sources", "Sources", "[Select]").Parent = autoHitsElements
        autoHitsSection.Parent = rightContentFrame

        local itemStuffSection, itemStuffElements = createSectionFrame(
            "Item Stuff",
            "Item Stuff",
            "rbxassetid://10709769841",
            430
        )
        createToggleRow("Item Esp", "Item Esp", true).Parent = itemStuffElements
        createToggleRow("Auto Pickup Items", "Auto Pickup Items", true).Parent = itemStuffElements
        createToggleRow("Hide Items", "Hide Items", true).Parent = itemStuffElements
        createToggleRow("Delete Items", "Delete Items", true).Parent = itemStuffElements
        createSettingsDivider().Parent = itemStuffElements
        createDropdownRow("Items", "Items", "[Select]").Parent = itemStuffElements
        createAddItemRow().Parent = itemStuffElements
        createFilterLogicRow().Parent = itemStuffElements
        itemStuffSection.Parent = rightContentFrame

        local buildingSection, buildingElements = createSectionFrame(
            "Building",
            "Building",
            "rbxassetid://10747361919",
            458
        )
        createToggleRow("Pinch Player", "Pinch Player", true).Parent = buildingElements
        createToggleRow("Wall Player", "Wall Player", true).Parent = buildingElements
        createToggleRow("Chest Player", "Chest Player", true).Parent = buildingElements
        createToggleRow("Bridge Player", "Bridge Player", true).Parent = buildingElements
        createToggleRow("Auto Hut", "Auto Hut", true).Parent = buildingElements
        createSettingsDivider().Parent = buildingElements
        createDropdownRow("Wall", "Wall", "Stone Wall").Parent = buildingElements
        createDropdownRow("Bridge", "Bridge", "Dock").Parent = buildingElements
        createDropdownRow("Chest", "Chest", "Chest").Parent = buildingElements
        createDropdownRow("Pinch", "Pinch", "Distance").Parent = buildingElements
        buildingSection.Parent = rightContentFrame

        return rightContentFrame
    end

    -- Left panel (integrated from Inspiration.lua)
    local function createLeftContentPanel()
        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sheenOverlay.Position = UDim2.new(0, 0, 0, 0)
            sheenOverlay.AnchorPoint = Vector2.new(0, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = parent

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shadeOverlay.Position = UDim2.new(0, 0, 0, 0)
            shadeOverlay.AnchorPoint = Vector2.new(0, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = parent
        end

        local function createInspirationToggleRow(rowFrameName, labelText, includeKeybind, checkboxStrokeColor)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowFrameName
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = labelText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = checkboxStrokeColor or Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)

            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            bindCheckboxToggle(checkbox)

            checkbox.Parent = toggleRow

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)

                bindKeybindButton(keybindButton)

                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createInspirationSettingsDivider()
            local dividerFrame = Instance.new("Frame")
            dividerFrame.Name = "Frame"
            dividerFrame.Visible = true
            dividerFrame.ClipsDescendants = false
            dividerFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dividerFrame.LayoutOrder = 0
            dividerFrame.BackgroundTransparency = 1
            dividerFrame.Rotation = 0
            dividerFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerFrame.Position = UDim2.new(0, 0, 0, 0)
            dividerFrame.AnchorPoint = Vector2.new(0, 0)
            dividerFrame.ZIndex = 1
            dividerFrame.BorderSizePixel = 1
            dividerFrame.Size = UDim2.new(1, 0, 0, 22)

            local dividerLabel = Instance.new("TextLabel")
            dividerLabel.Name = "TextLabel"
            dividerLabel.LayoutOrder = 0
            dividerLabel.TextWrapped = false
            dividerLabel.TextTransparency = 0
            dividerLabel.TextStrokeTransparency = 1
            dividerLabel.AnchorPoint = Vector2.new(0.5, 0.5)
            dividerLabel.ZIndex = 2
            dividerLabel.TextSize = 14
            dividerLabel.Size = UDim2.new(0, 0, 0, 14)
            dividerLabel.BorderSizePixel = 1
            dividerLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
            dividerLabel.BackgroundTransparency = 1
            dividerLabel.Text = "Settings"
            dividerLabel.TextXAlignment = Enum.TextXAlignment.Center
            dividerLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            dividerLabel.Rotation = 0
            dividerLabel.Font = Enum.Font.GothamBold
            dividerLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
            dividerLabel.Visible = true
            dividerLabel.TextYAlignment = Enum.TextYAlignment.Center
            dividerLabel.TextScaled = false
            dividerLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dividerLabel.Parent = dividerFrame

            local leftLine = Instance.new("Frame")
            leftLine.Name = "Frame"
            leftLine.Visible = true
            leftLine.ClipsDescendants = false
            leftLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            leftLine.LayoutOrder = 0
            leftLine.BackgroundTransparency = 0
            leftLine.Rotation = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.ZIndex = 1
            leftLine.BorderSizePixel = 0
            leftLine.Size = UDim2.new(0, 84, 0, 1)
            leftLine.Parent = dividerFrame

            local rightLine = Instance.new("Frame")
            rightLine.Name = "Frame"
            rightLine.Visible = true
            rightLine.ClipsDescendants = false
            rightLine.BorderColor3 = Color3.fromRGB(27, 42, 53)
            rightLine.LayoutOrder = 0
            rightLine.BackgroundTransparency = 0
            rightLine.Rotation = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.ZIndex = 1
            rightLine.BorderSizePixel = 0
            rightLine.Size = UDim2.new(0, 84, 0, 1)
            rightLine.Parent = dividerFrame

            return dividerFrame
        end

        local function createInspirationDropdownRow(labelText, buttonText)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.ClipsDescendants = false
            dropdownRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dropdownRow.LayoutOrder = 0
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.Rotation = 0
            dropdownRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dropdownRow.Position = UDim2.new(0, 0, 0, 0)
            dropdownRow.AnchorPoint = Vector2.new(0, 0)
            dropdownRow.ZIndex = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.Visible = true
            buttonContainer.ClipsDescendants = false
            buttonContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            buttonContainer.LayoutOrder = 0
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.Rotation = 0
            buttonContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.AnchorPoint = Vector2.new(0, 0)
            buttonContainer.ZIndex = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.LayoutOrder = 0
            dropdownButton.TextWrapped = false
            dropdownButton.TextTransparency = 0
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.ZIndex = 101
            dropdownButton.TextSize = 14
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.Text = buttonText
            dropdownButton.Modal = false
            dropdownButton.AutoButtonColor = false
            dropdownButton.Rotation = 0
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Visible = true
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.TextScaled = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.Parent = buttonContainer

            local dropdownCorner = Instance.new("UICorner")
            dropdownCorner.Name = "UICorner"
            dropdownCorner.CornerRadius = UDim.new(0, 8)
            dropdownCorner.Parent = dropdownButton

            local dropdownStroke = Instance.new("UIStroke")
            dropdownStroke.Name = "UIStroke"
            dropdownStroke.Thickness = 1
            dropdownStroke.Transparency = 0.4
            dropdownStroke.Color = Color3.fromRGB(55, 58, 61)
            dropdownStroke.ZIndex = 1
            dropdownStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            dropdownStroke.LineJoinMode = Enum.LineJoinMode.Round
            dropdownStroke.Parent = dropdownButton

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.LayoutOrder = 0
            arrow.ImageTransparency = 0
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Image = "rbxassetid://7072706796"
            arrow.TileSize = UDim2.new(1, 0, 1, 0)
            arrow.ZIndex = 102
            arrow.BorderSizePixel = 1
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.BackgroundTransparency = 1
            arrow.Rotation = 0
            arrow.Visible = true
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.SliceScale = 1
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrow.Parent = dropdownButton

            return dropdownRow
        end

        local function createInspirationTextboxRow(labelText, textboxName, placeholderText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local textboxContainer = Instance.new("Frame")
            textboxContainer.Name = "Frame"
            textboxContainer.Visible = true
            textboxContainer.ClipsDescendants = false
            textboxContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            textboxContainer.LayoutOrder = 0
            textboxContainer.BackgroundTransparency = 1
            textboxContainer.Rotation = 0
            textboxContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            textboxContainer.Position = UDim2.new(0.4, 0, 0, 0)
            textboxContainer.AnchorPoint = Vector2.new(0, 0)
            textboxContainer.ZIndex = 1
            textboxContainer.BorderSizePixel = 1
            textboxContainer.Size = UDim2.new(0.6, 0, 1, 0)
            textboxContainer.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.LayoutOrder = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.BorderSizePixel = 0
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.PlaceholderText = placeholderText
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.MultiLine = false
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.ClearTextOnFocus = false
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = textboxContainer

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingTop = UDim.new(0, 0)
            textboxPadding.PaddingBottom = UDim.new(0, 0)
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.Modal = false
            clearButton.BackgroundTransparency = 1
            clearButton.AutoButtonColor = true
            clearButton.Rotation = 0
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.Visible = true
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            return row
        end

        local function createInspirationActionButton(buttonName, buttonText)
            local button = Instance.new("TextButton")
            button.Name = buttonName
            button.LayoutOrder = 0
            button.TextWrapped = false
            button.TextTransparency = 0
            button.AnchorPoint = Vector2.new(0, 0)
            button.ZIndex = 1
            button.TextSize = 14
            button.Size = UDim2.new(1, 0, 0, 28)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.TextXAlignment = Enum.TextXAlignment.Center
            button.Text = buttonText
            button.Modal = false
            button.AutoButtonColor = false
            button.Rotation = 0
            button.Font = Enum.Font.GothamBold
            button.Position = UDim2.new(0, 0, 0, 0)
            button.Visible = true
            button.TextYAlignment = Enum.TextYAlignment.Center
            button.TextScaled = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = button

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = button

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.09),
                NumberSequenceKeypoint.new(0.5, 0.16),
                NumberSequenceKeypoint.new(1, 0.09),
            })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = button

            local topLight = Instance.new("Frame")
            topLight.Name = "BtnTopLight"
            topLight.Visible = true
            topLight.ClipsDescendants = false
            topLight.BorderColor3 = Color3.fromRGB(27, 42, 53)
            topLight.LayoutOrder = 0
            topLight.BackgroundTransparency = 1
            topLight.Rotation = 0
            topLight.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            topLight.Position = UDim2.new(0, 0, 0, 0)
            topLight.AnchorPoint = Vector2.new(0, 0)
            topLight.ZIndex = 2
            topLight.BorderSizePixel = 0
            topLight.Size = UDim2.new(1, 0, 1, 0)

            local topCorner = Instance.new("UICorner")
            topCorner.Name = "UICorner"
            topCorner.CornerRadius = UDim.new(0, 8)
            topCorner.Parent = topLight

            local topGradient = Instance.new("UIGradient")
            topGradient.Name = "UIGradient"
            topGradient.Offset = Vector2.new(0, 0)
            topGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.8),
                NumberSequenceKeypoint.new(0.35, 0.9),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            topGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            topGradient.Rotation = 90
            topGradient.Parent = topLight
            topLight.Parent = button

            local bottomShade = Instance.new("Frame")
            bottomShade.Name = "BtnBottomShade"
            bottomShade.Visible = true
            bottomShade.ClipsDescendants = false
            bottomShade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            bottomShade.LayoutOrder = 0
            bottomShade.BackgroundTransparency = 1
            bottomShade.Rotation = 0
            bottomShade.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            bottomShade.Position = UDim2.new(0, 0, 0, 0)
            bottomShade.AnchorPoint = Vector2.new(0, 0)
            bottomShade.ZIndex = 2
            bottomShade.BorderSizePixel = 0
            bottomShade.Size = UDim2.new(1, 0, 1, 0)

            local bottomCorner = Instance.new("UICorner")
            bottomCorner.Name = "UICorner"
            bottomCorner.CornerRadius = UDim.new(0, 8)
            bottomCorner.Parent = bottomShade

            local bottomGradient = Instance.new("UIGradient")
            bottomGradient.Name = "UIGradient"
            bottomGradient.Offset = Vector2.new(0, 0)
            bottomGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.4, 0.92),
                NumberSequenceKeypoint.new(1, 0.58),
            })
            bottomGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            bottomGradient.Rotation = 90
            bottomGradient.Parent = bottomShade
            bottomShade.Parent = button

            return button
        end

        local function createFadeFrame(name, position)
            local fade = Instance.new("Frame")
            fade.Name = name
            fade.Visible = false
            fade.ClipsDescendants = false
            fade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fade.LayoutOrder = 0
            fade.BackgroundTransparency = 1
            fade.Rotation = 0
            fade.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            fade.Position = position
            fade.AnchorPoint = Vector2.new(0, 0)
            fade.ZIndex = 10
            fade.BorderSizePixel = 0
            fade.Size = UDim2.new(1, 0, 0, 22)

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = (name == "TopFadeFrame")
                and NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(0.7, 0.1),
                    NumberSequenceKeypoint.new(1, 1),
                })
                or NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(0.3, 0.1),
                    NumberSequenceKeypoint.new(1, 0),
                })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = fade

            return fade
        end

        local function createInspirationSectionFrame(sectionFrameName, sectionTitleText, sectionIconId, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionFrameName
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = sectionFrame

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Parent = sectionFrame

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27, 42, 53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.AnchorPoint = Vector2.new(0, 0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.ClipsDescendants = false
            separator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            separator.LayoutOrder = 0
            separator.BackgroundTransparency = 0.5
            separator.Rotation = 0
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.AnchorPoint = Vector2.new(0, 0)
            separator.ZIndex = 1
            separator.BorderSizePixel = 0
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.LayoutOrder = 0
            icon.ImageTransparency = 0
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Image = sectionIconId
            icon.TileSize = UDim2.new(1, 0, 1, 0)
            icon.ZIndex = 2
            icon.BorderSizePixel = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.BackgroundTransparency = 1
            icon.Rotation = 0
            icon.Visible = true
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.SliceScale = 1
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            icon.Parent = iconContainer

            local sectionTitle = Instance.new("TextLabel")
            sectionTitle.Name = "SectionTitle"
            sectionTitle.LayoutOrder = 0
            sectionTitle.TextWrapped = false
            sectionTitle.TextTransparency = 0
            sectionTitle.TextStrokeTransparency = 1
            sectionTitle.AnchorPoint = Vector2.new(0, 0)
            sectionTitle.ZIndex = 4
            sectionTitle.TextSize = 14
            sectionTitle.Size = UDim2.new(1, -54, 1, -1)
            sectionTitle.BorderSizePixel = 1
            sectionTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
            sectionTitle.BackgroundTransparency = 1
            sectionTitle.Text = sectionTitleText
            sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            sectionTitle.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            sectionTitle.Rotation = 0
            sectionTitle.Font = Enum.Font.GothamBold
            sectionTitle.Position = UDim2.new(0, 44, 0, 0)
            sectionTitle.Visible = true
            sectionTitle.TextYAlignment = Enum.TextYAlignment.Center
            sectionTitle.TextScaled = false
            sectionTitle.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sectionTitle.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = elementsContainer

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.VerticalAlignment = Enum.VerticalAlignment.Top
            list.FillDirection = Enum.FillDirection.Vertical
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Parent = elementsContainer

            local topFade = createFadeFrame("TopFadeFrame", UDim2.new(0, 0, 0, 0))
            topFade.Parent = scrollContainer

            local bottomFade = createFadeFrame("BottomFadeFrame", UDim2.new(0, 0, 1, -22))
            bottomFade.Parent = scrollContainer

            return sectionFrame, elementsContainer
        end

        local leftContentFrame = Instance.new("ScrollingFrame")
        leftContentFrame.Name = "LeftContentFrame1"
        leftContentFrame.LayoutOrder = 0
        leftContentFrame.AnchorPoint = Vector2.new(0, 0)
        leftContentFrame.ScrollingDirection = Enum.ScrollingDirection.XY
        leftContentFrame.ZIndex = 1
        leftContentFrame.BorderSizePixel = 0
        leftContentFrame.Size = UDim2.new(0.5, -21, 1, -68)
        leftContentFrame.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        leftContentFrame.BackgroundTransparency = 1
        leftContentFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        leftContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
        leftContentFrame.ScrollBarThickness = 0
        leftContentFrame.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        leftContentFrame.Visible = true
        leftContentFrame.Rotation = 0
        leftContentFrame.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        leftContentFrame.Position = UDim2.new(0, 14, 0, 54)
        leftContentFrame.ScrollingEnabled = true
        leftContentFrame.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        leftContentFrame.CanvasPosition = Vector2.new(0, 0)
        leftContentFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = leftContentFrame

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = leftContentFrame

        -- Plant Related
        local plantRelatedSection, plantRelatedElements = createInspirationSectionFrame(
            "Plant RelatedSectionFrame",
            "Plant Related",
            "rbxassetid://10734965572",
            290
        )

        createInspirationToggleRow("Auto PlantToggleRow", "Auto Plant", true, Color3.fromRGB(54, 57, 60)).Parent = plantRelatedElements
        createInspirationToggleRow("Auto HarvestToggleRow", "Auto Harvest", true).Parent = plantRelatedElements
        createInspirationToggleRow("Auto MoveToggleRow", "Auto Move", true).Parent = plantRelatedElements
        createInspirationSettingsDivider().Parent = plantRelatedElements
        createInspirationDropdownRow("Fruit", "[Select]").Parent = plantRelatedElements
        createInspirationDropdownRow("Priority", "Bush,Box").Parent = plantRelatedElements
        plantRelatedSection.Parent = leftContentFrame

        -- Plant Box
        local plantBoxSection, plantBoxElements = createInspirationSectionFrame(
            "Plant BoxSectionFrame",
            "Plant Box",
            "rbxassetid://10734953241",
            208
        )

        createInspirationTextboxRow("Rows", "RowsTextbox", "8").Parent = plantBoxElements
        createInspirationTextboxRow("Columns", "ColumnsTextbox", "8").Parent = plantBoxElements
        createInspirationActionButton("Visualize GridButton", "Visualize Grid").Parent = plantBoxElements
        createInspirationActionButton("Place GridButton", "Place Grid").Parent = plantBoxElements
        plantBoxSection.Parent = leftContentFrame

        -- God Farm
        local godFarmSection, godFarmElements = createInspirationSectionFrame(
            "God FarmSectionFrame",
            "God Farm",
            "rbxassetid://10709818626",
            128
        )

        createInspirationToggleRow("AutoFarm GodToggleRow", "AutoFarm God", true).Parent = godFarmElements
        createInspirationActionButton("Set Fallback PosButton", "Set Fallback Pos").Parent = godFarmElements
        godFarmSection.Parent = leftContentFrame

        -- Sand Farm
        local sandFarmSection, sandFarmElements = createInspirationSectionFrame(
            "Sand FarmSectionFrame",
            "Sand Farm",
            "rbxassetid://10709782497",
            90
        )

        createInspirationToggleRow("Auto Farm SandToggleRow", "Auto Farm Sand", true).Parent = sandFarmElements
        sandFarmSection.Parent = leftContentFrame

        -- Ghost Farm
        local ghostFarmSection, ghostFarmElements = createInspirationSectionFrame(
            "Ghost FarmSectionFrame",
            "Ghost Farm",
            "rbxassetid://10723396107",
            212
        )

        createInspirationToggleRow("Auto Tp (Alt)ToggleRow", "Auto Tp (Alt)", true).Parent = ghostFarmElements
        createInspirationToggleRow("Ghost AuraToggleRow", "Ghost Aura", true).Parent = ghostFarmElements
        createInspirationDropdownRow("Main Account", "[Empty]").Parent = ghostFarmElements
        createInspirationActionButton("Refresh DropdownButton", "Refresh Dropdown").Parent = ghostFarmElements
        ghostFarmSection.Parent = leftContentFrame

        return leftContentFrame
    end

    -- Tab pages (content switching)
    local pagesContainer = Instance.new("Frame")
    pagesContainer.Name = "Pages"
    pagesContainer.Visible = true
    pagesContainer.BackgroundTransparency = 1
    pagesContainer.BorderSizePixel = 0
    pagesContainer.Size = UDim2.new(1, 0, 1, 0)
    pagesContainer.Position = UDim2.new(0, 0, 0, 0)
    pagesContainer.Parent = contentFrame

    local function createPage(name)
        local page = Instance.new("Frame")
        page.Name = name
        page.Visible = false
        page.BackgroundTransparency = 1
        page.BorderSizePixel = 0
        page.Size = UDim2.new(1, 0, 1, 0)
        page.Position = UDim2.new(0, 0, 0, 0)
        page.Parent = pagesContainer
        return page
    end

    local farmPage, combatPage, settingsPage, webhookPage, mainPage, miscPage, inventoryPage, tweenPage
    if buildDefaultContent then
        farmPage = createPage("FarmPage")
        combatPage = createPage("CombatPage")
        settingsPage = createPage("SettingsPage")
        webhookPage = createPage("WebhookPage")
        mainPage = createPage("MainPage")
        miscPage = createPage("MiscPage")
        inventoryPage = createPage("InventoryPage")
        tweenPage = createPage("TweenPage")

        local leftContentPanel = createLeftContentPanel()

        -- Farm: existing left + right panels
        leftContentPanel.Parent = farmPage

        local rightContentPanel = createRightContentPanel()
        rightContentPanel.Parent = farmPage

        -- Combat: left panel (Combat / Voodoo)
        local combatLeftContentPanel = createCombatLeftContentPanel()
        combatLeftContentPanel.Parent = combatPage

        local combatRightContentPanel = createCombatRightContentPanel()
        combatRightContentPanel.Parent = combatPage

        -- Main: left + right content panels
        local mainLeftContentPanel = createMainLeftContentPanel()
        mainLeftContentPanel.Parent = mainPage

        local mainRightContentPanel = createMainRightContentPanel()
        mainRightContentPanel.Parent = mainPage
    else
        -- API mode: build a single empty page that can be populated by the caller.
        mainPage = createPage(opts.rootPageName or "MainPage")
        mainPage.Visible = true
    end

    -- Settings: provided Configs UI (readable rewrite)
    local function createSettingsConfigsPanel()
        local settingsLeft = Instance.new("ScrollingFrame")
        settingsLeft.Name = "SettingsLeftContentFrame1"
        settingsLeft.LayoutOrder = 0
        settingsLeft.AnchorPoint = Vector2.new(0, 0)
        settingsLeft.ScrollingDirection = Enum.ScrollingDirection.XY
        settingsLeft.ZIndex = 1
        settingsLeft.BorderSizePixel = 0
        settingsLeft.Size = UDim2.new(0.5, -21, 1, -68)
        settingsLeft.Position = UDim2.new(0, 14, 0, 54)
        settingsLeft.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        settingsLeft.ScrollBarThickness = 0
        settingsLeft.BackgroundTransparency = 1
        settingsLeft.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        settingsLeft.CanvasSize = UDim2.new(0, 0, 0, 0)
        settingsLeft.AutomaticCanvasSize = Enum.AutomaticSize.Y
        settingsLeft.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        settingsLeft.ScrollingEnabled = true
        settingsLeft.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        settingsLeft.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = settingsLeft

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = settingsLeft

        local configsSection = Instance.new("Frame")
        configsSection.Name = "ConfigsSectionFrame"
        configsSection.Visible = true
        configsSection.ClipsDescendants = true
        configsSection.LayoutOrder = 0
        configsSection.BackgroundTransparency = 0
        configsSection.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        configsSection.BorderSizePixel = 0
        configsSection.Size = UDim2.new(1, 0, 0, 284)
        configsSection.Parent = settingsLeft

        local sectionCorner = Instance.new("UICorner")
        sectionCorner.CornerRadius = UDim.new(0, 12)
        sectionCorner.Parent = configsSection

        local sectionStroke = Instance.new("UIStroke")
        sectionStroke.Name = "UIStroke"
        sectionStroke.Thickness = 1
        sectionStroke.Transparency = 0.2
        sectionStroke.Color = Color3.fromRGB(40, 43, 46)
        sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
        sectionStroke.Parent = configsSection

        local darkSweep = Instance.new("Frame")
        darkSweep.Name = "SectionDarkSweep"
        darkSweep.Visible = true
        darkSweep.BackgroundTransparency = 0
        darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        darkSweep.BorderSizePixel = 0
        darkSweep.Size = UDim2.new(1, 0, 1, 0)
        darkSweep.Parent = configsSection

        local darkSweepCorner = Instance.new("UICorner")
        darkSweepCorner.CornerRadius = UDim.new(0, 12)
        darkSweepCorner.Parent = darkSweep

        local darkSweepGradient = Instance.new("UIGradient")
        darkSweepGradient.Name = "UIGradient"
        darkSweepGradient.Offset = Vector2.new(0, 0)
        darkSweepGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.18, 0.92),
            NumberSequenceKeypoint.new(0.4, 0.78),
            NumberSequenceKeypoint.new(0.62, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        darkSweepGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        darkSweepGradient.Rotation = 125
        darkSweepGradient.Parent = darkSweep

        local innerBorder = Instance.new("Frame")
        innerBorder.Name = "InnerBorder"
        innerBorder.Visible = true
        innerBorder.BackgroundTransparency = 1
        innerBorder.BorderSizePixel = 1
        innerBorder.Position = UDim2.new(0, 1, 0, 1)
        innerBorder.Size = UDim2.new(1, -2, 1, -2)
        innerBorder.ZIndex = 2
        innerBorder.Parent = configsSection

        local innerCorner = Instance.new("UICorner")
        innerCorner.CornerRadius = UDim.new(0, 12)
        innerCorner.Parent = innerBorder

        local innerStroke = Instance.new("UIStroke")
        innerStroke.Name = "UIStroke"
        innerStroke.Thickness = 1
        innerStroke.Transparency = 0.75
        innerStroke.Color = Color3.fromRGB(40, 43, 46)
        innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        innerStroke.LineJoinMode = Enum.LineJoinMode.Round
        innerStroke.Parent = innerBorder

        local gradientOverlay = Instance.new("Frame")
        gradientOverlay.Name = "GradientOverlay"
        gradientOverlay.Visible = true
        gradientOverlay.BackgroundTransparency = 0.9
        gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        gradientOverlay.BorderSizePixel = 1
        gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
        gradientOverlay.ZIndex = 2
        gradientOverlay.Parent = configsSection

        local overlayCorner = Instance.new("UICorner")
        overlayCorner.CornerRadius = UDim.new(0, 12)
        overlayCorner.Parent = gradientOverlay

        local overlayGradient = Instance.new("UIGradient")
        overlayGradient.Name = "UIGradient"
        overlayGradient.Offset = Vector2.new(0, 0)
        overlayGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.06),
            NumberSequenceKeypoint.new(0.5, 0.12),
            NumberSequenceKeypoint.new(1, 0.06),
        })
        overlayGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        overlayGradient.Rotation = 90
        overlayGradient.Parent = gradientOverlay

        local header = Instance.new("Frame")
        header.Name = "Header"
        header.Visible = true
        header.BackgroundTransparency = 1
        header.BorderSizePixel = 1
        header.Size = UDim2.new(1, 0, 0, 36)
        header.ZIndex = 3
        header.Parent = configsSection

        local separator = Instance.new("Frame")
        separator.Name = "Separator"
        separator.Visible = true
        separator.BackgroundTransparency = 0.5
        separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
        separator.BorderSizePixel = 0
        separator.Position = UDim2.new(0, 10, 1, -1)
        separator.Size = UDim2.new(1, -20, 0, 1)
        separator.Parent = header

        local separatorGradient = Instance.new("UIGradient")
        separatorGradient.Name = "UIGradient"
        separatorGradient.Offset = Vector2.new(0, 0)
        separatorGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.1, 0.5),
            NumberSequenceKeypoint.new(0.9, 0.5),
            NumberSequenceKeypoint.new(1, 1),
        })
        separatorGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        separatorGradient.Rotation = 0
        separatorGradient.Parent = separator

        local iconContainer = Instance.new("Frame")
        iconContainer.Name = "IconContainer"
        iconContainer.Visible = true
        iconContainer.BackgroundTransparency = 0
        iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
        iconContainer.BorderSizePixel = 1
        iconContainer.AnchorPoint = Vector2.new(0, 0.5)
        iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
        iconContainer.Size = UDim2.new(0, 24, 0, 24)
        iconContainer.Parent = header

        local iconCorner = Instance.new("UICorner")
        iconCorner.CornerRadius = UDim.new(0, 6)
        iconCorner.Parent = iconContainer

        local iconStroke = Instance.new("UIStroke")
        iconStroke.Name = "UIStroke"
        iconStroke.Thickness = 1
        iconStroke.Transparency = 0.75
        iconStroke.Color = Color3.fromRGB(190, 45, 45)
        iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        iconStroke.LineJoinMode = Enum.LineJoinMode.Round
        iconStroke.Parent = iconContainer

        local iconGradient = Instance.new("UIGradient")
        iconGradient.Name = "UIGradient"
        iconGradient.Offset = Vector2.new(0, 0)
        iconGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.25, 0.9),
            NumberSequenceKeypoint.new(0.5, 0.8),
            NumberSequenceKeypoint.new(0.75, 0.9),
            NumberSequenceKeypoint.new(1, 1),
        })
        iconGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
        })
        iconGradient.Rotation = 125
        iconGradient.Parent = iconContainer

        local icon = Instance.new("ImageLabel")
        icon.Name = "Icon"
        icon.AnchorPoint = Vector2.new(0.5, 0.5)
        icon.Position = UDim2.new(0.5, 0, 0.5, 0)
        icon.Size = UDim2.new(0, 14, 0, 14)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://10734950020"
        icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
        icon.Parent = iconContainer

        local title = Instance.new("TextLabel")
        title.Name = "SectionTitle"
        title.AnchorPoint = Vector2.new(0, 0)
        title.Position = UDim2.new(0, 44, 0, 0)
        title.Size = UDim2.new(1, -54, 1, -1)
        title.BackgroundTransparency = 1
        title.Text = "Configs"
        title.TextColor3 = Color3.fromRGB(230, 230, 230)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 14
        title.TextXAlignment = Enum.TextXAlignment.Left
        title.TextYAlignment = Enum.TextYAlignment.Center
        title.ZIndex = 4
        title.Parent = header

        local scrollContainer = Instance.new("Frame")
        scrollContainer.Name = "ScrollContainer"
        scrollContainer.Visible = true
        scrollContainer.BackgroundTransparency = 1
        scrollContainer.BorderSizePixel = 1
        scrollContainer.Position = UDim2.new(0, 0, 0, 36)
        scrollContainer.Size = UDim2.new(1, 0, 1, -36)
        scrollContainer.ZIndex = 3
        scrollContainer.Parent = configsSection

        local elements = Instance.new("ScrollingFrame")
        elements.Name = "ElementsContainer"
        elements.LayoutOrder = 0
        elements.AnchorPoint = Vector2.new(0, 0)
        elements.ScrollingDirection = Enum.ScrollingDirection.XY
        elements.ZIndex = 1
        elements.BorderSizePixel = 0
        elements.Size = UDim2.new(1, 0, 1, 0)
        elements.Position = UDim2.new(0, 0, 0, 0)
        elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        elements.ScrollBarThickness = 0
        elements.BackgroundTransparency = 1
        elements.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        elements.CanvasSize = UDim2.new(0, 0, 0, 0)
        elements.AutomaticCanvasSize = Enum.AutomaticSize.Y
        elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        elements.ScrollingEnabled = true
        elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        elements.Parent = scrollContainer

        local elementsPadding = Instance.new("UIPadding")
        elementsPadding.Name = "UIPadding"
        elementsPadding.PaddingTop = UDim.new(0, 10)
        elementsPadding.PaddingBottom = UDim.new(0, 12)
        elementsPadding.PaddingLeft = UDim.new(0, 12)
        elementsPadding.PaddingRight = UDim.new(0, 12)
        elementsPadding.Parent = elements

        local elementsLayout = Instance.new("UIListLayout")
        elementsLayout.Name = "UIListLayout"
        elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        elementsLayout.FillDirection = Enum.FillDirection.Vertical
        elementsLayout.Padding = UDim.new(0, 10)
        elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
        elementsLayout.Parent = elements

        local function createLabeledRow(rowLabelText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.BackgroundTransparency = 1
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.Text = rowLabelText
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.BackgroundTransparency = 1
            right.BorderSizePixel = 1
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            return row, right
        end

        -- Select Config dropdown
        do
            local _, right = createLabeledRow("Select Config")

            local dropdown = Instance.new("TextButton")
            dropdown.Name = "SelectConfigDropdown"
            dropdown.ZIndex = 101
            dropdown.Size = UDim2.new(1, 0, 0, 24)
            dropdown.Position = UDim2.new(0, 0, 0.5, -11)
            dropdown.BackgroundTransparency = 0
            dropdown.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdown.BorderSizePixel = 0
            dropdown.AutoButtonColor = false
            dropdown.Text = "[Empty]"
            dropdown.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdown.Font = Enum.Font.GothamBold
            dropdown.TextSize = 14
            dropdown.Parent = right

            local dropdownCorner = Instance.new("UICorner")
            dropdownCorner.CornerRadius = UDim.new(0, 8)
            dropdownCorner.Parent = dropdown

            local dropdownStroke = Instance.new("UIStroke")
            dropdownStroke.Name = "UIStroke"
            dropdownStroke.Thickness = 1
            dropdownStroke.Transparency = 0.4
            dropdownStroke.Color = Color3.fromRGB(55, 58, 61)
            dropdownStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            dropdownStroke.LineJoinMode = Enum.LineJoinMode.Round
            dropdownStroke.Parent = dropdown

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.BackgroundTransparency = 1
            arrow.Image = "rbxassetid://7072706796"
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.ZIndex = 102
            arrow.Parent = dropdown
        end

        -- Config Name textbox + clear button
        do
            local _, right = createLabeledRow("Config Name")

            local textbox = Instance.new("TextBox")
            textbox.Name = "Config NameTextbox"
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.BorderSizePixel = 0
            textbox.ClearTextOnFocus = false
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.Font = Enum.Font.GothamBold
            textbox.TextSize = 13
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.PlaceholderText = ""
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.Parent = right

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.BackgroundTransparency = 1
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.ImageTransparency = 1
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.Parent = textbox
        end

        local function createActionButton(name, text)
            local button = Instance.new("TextButton")
            button.Name = name
            button.LayoutOrder = 0
            button.Size = UDim2.new(1, 0, 0, 28)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            button.AutoButtonColor = false
            button.Text = text
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.Font = Enum.Font.GothamBold
            button.TextSize = 14
            button.Parent = elements

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = button

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = button

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.09),
                NumberSequenceKeypoint.new(0.5, 0.16),
                NumberSequenceKeypoint.new(1, 0.09),
            })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = button

            local topLight = Instance.new("Frame")
            topLight.Name = "BtnTopLight"
            topLight.Visible = true
            topLight.BackgroundTransparency = 1
            topLight.BorderSizePixel = 0
            topLight.Size = UDim2.new(1, 0, 1, 0)
            topLight.ZIndex = 2
            topLight.Parent = button

            local topCorner = Instance.new("UICorner")
            topCorner.CornerRadius = UDim.new(0, 8)
            topCorner.Parent = topLight

            local topGradient = Instance.new("UIGradient")
            topGradient.Name = "UIGradient"
            topGradient.Offset = Vector2.new(0, 0)
            topGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.8),
                NumberSequenceKeypoint.new(0.35, 0.9),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            topGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            topGradient.Rotation = 90
            topGradient.Parent = topLight

            local bottomShade = Instance.new("Frame")
            bottomShade.Name = "BtnBottomShade"
            bottomShade.Visible = true
            bottomShade.BackgroundTransparency = 1
            bottomShade.BorderSizePixel = 0
            bottomShade.Size = UDim2.new(1, 0, 1, 0)
            bottomShade.ZIndex = 2
            bottomShade.Parent = button

            local bottomCorner = Instance.new("UICorner")
            bottomCorner.CornerRadius = UDim.new(0, 8)
            bottomCorner.Parent = bottomShade

            local bottomGradient = Instance.new("UIGradient")
            bottomGradient.Name = "UIGradient"
            bottomGradient.Offset = Vector2.new(0, 0)
            bottomGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.4, 0.92),
                NumberSequenceKeypoint.new(1, 0.58),
            })
            bottomGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            bottomGradient.Rotation = 90
            bottomGradient.Parent = bottomShade

            return button
        end

        createActionButton("Save ConfigButton", "Save Config")
        createActionButton("Load ConfigButton", "Load Config")
        createActionButton("Delete ConfigButton", "Delete Config")
        createActionButton("Refresh ListButton", "Refresh List")

        return settingsLeft
    end

    local settingsConfigsPanel = createSettingsConfigsPanel()
    settingsConfigsPanel.Parent = settingsPage

    -- Settings: provided Settings panel (right side)
    local function createSettingsRightPanel()
        local settingsRight = Instance.new("ScrollingFrame")
        settingsRight.Name = "SettingsRightContentFrame1"
        settingsRight.LayoutOrder = 0
        settingsRight.AnchorPoint = Vector2.new(0, 0)
        settingsRight.ScrollingDirection = Enum.ScrollingDirection.XY
        settingsRight.ZIndex = 1
        settingsRight.BorderSizePixel = 0
        settingsRight.Size = UDim2.new(0.5, -21, 1, -68)
        settingsRight.Position = UDim2.new(0.5, 7, 0, 54)
        settingsRight.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        settingsRight.ScrollBarThickness = 0
        settingsRight.BackgroundTransparency = 1
        settingsRight.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        settingsRight.CanvasSize = UDim2.new(0, 0, 0, 0)
        settingsRight.AutomaticCanvasSize = Enum.AutomaticSize.Y
        settingsRight.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        settingsRight.ScrollingEnabled = true
        settingsRight.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        settingsRight.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = settingsRight

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = settingsRight

        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.Parent = parent

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.Parent = parent

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
        end

        local section = Instance.new("Frame")
        section.Name = "SettingsSectionFrame"
        section.Visible = true
        section.ClipsDescendants = true
        section.LayoutOrder = 0
        section.BackgroundTransparency = 0
        section.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        section.BorderSizePixel = 0
        section.Size = UDim2.new(1, 0, 0, 212)
        section.Parent = settingsRight

        local sectionCorner = Instance.new("UICorner")
        sectionCorner.Name = "UICorner"
        sectionCorner.CornerRadius = UDim.new(0, 12)
        sectionCorner.Parent = section

        local sectionStroke = Instance.new("UIStroke")
        sectionStroke.Name = "UIStroke"
        sectionStroke.Thickness = 1
        sectionStroke.Transparency = 0.2
        sectionStroke.Color = Color3.fromRGB(40, 43, 46)
        sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
        sectionStroke.Parent = section

        local darkSweep = Instance.new("Frame")
        darkSweep.Name = "SectionDarkSweep"
        darkSweep.Visible = true
        darkSweep.BackgroundTransparency = 0
        darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        darkSweep.BorderSizePixel = 0
        darkSweep.Size = UDim2.new(1, 0, 1, 0)
        darkSweep.Parent = section

        local darkCorner = Instance.new("UICorner")
        darkCorner.Name = "UICorner"
        darkCorner.CornerRadius = UDim.new(0, 12)
        darkCorner.Parent = darkSweep

        local darkGradient = Instance.new("UIGradient")
        darkGradient.Name = "UIGradient"
        darkGradient.Offset = Vector2.new(0, 0)
        darkGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.18, 0.92),
            NumberSequenceKeypoint.new(0.4, 0.78),
            NumberSequenceKeypoint.new(0.62, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        darkGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        darkGradient.Rotation = 125
        darkGradient.Parent = darkSweep

        local innerBorder = Instance.new("Frame")
        innerBorder.Name = "InnerBorder"
        innerBorder.Visible = true
        innerBorder.BackgroundTransparency = 1
        innerBorder.BorderSizePixel = 1
        innerBorder.Position = UDim2.new(0, 1, 0, 1)
        innerBorder.Size = UDim2.new(1, -2, 1, -2)
        innerBorder.ZIndex = 2
        innerBorder.Parent = section

        local innerCorner = Instance.new("UICorner")
        innerCorner.Name = "UICorner"
        innerCorner.CornerRadius = UDim.new(0, 12)
        innerCorner.Parent = innerBorder

        local innerStroke = Instance.new("UIStroke")
        innerStroke.Name = "UIStroke"
        innerStroke.Thickness = 1
        innerStroke.Transparency = 0.75
        innerStroke.Color = Color3.fromRGB(40, 43, 46)
        innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        innerStroke.LineJoinMode = Enum.LineJoinMode.Round
        innerStroke.Parent = innerBorder

        local gradientOverlay = Instance.new("Frame")
        gradientOverlay.Name = "GradientOverlay"
        gradientOverlay.Visible = true
        gradientOverlay.BackgroundTransparency = 0.9
        gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        gradientOverlay.BorderSizePixel = 1
        gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
        gradientOverlay.ZIndex = 2
        gradientOverlay.Parent = section

        local overlayCorner = Instance.new("UICorner")
        overlayCorner.Name = "UICorner"
        overlayCorner.CornerRadius = UDim.new(0, 12)
        overlayCorner.Parent = gradientOverlay

        local overlayGradient = Instance.new("UIGradient")
        overlayGradient.Name = "UIGradient"
        overlayGradient.Offset = Vector2.new(0, 0)
        overlayGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.06),
            NumberSequenceKeypoint.new(0.5, 0.12),
            NumberSequenceKeypoint.new(1, 0.06),
        })
        overlayGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        overlayGradient.Rotation = 90
        overlayGradient.Parent = gradientOverlay

        local header = Instance.new("Frame")
        header.Name = "Header"
        header.Visible = true
        header.BackgroundTransparency = 1
        header.BorderSizePixel = 1
        header.Size = UDim2.new(1, 0, 0, 36)
        header.ZIndex = 3
        header.Parent = section

        local separator = Instance.new("Frame")
        separator.Name = "Separator"
        separator.Visible = true
        separator.BackgroundTransparency = 0.5
        separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
        separator.BorderSizePixel = 0
        separator.Position = UDim2.new(0, 10, 1, -1)
        separator.Size = UDim2.new(1, -20, 0, 1)
        separator.Parent = header

        local separatorGradient = Instance.new("UIGradient")
        separatorGradient.Name = "UIGradient"
        separatorGradient.Offset = Vector2.new(0, 0)
        separatorGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.1, 0.5),
            NumberSequenceKeypoint.new(0.9, 0.5),
            NumberSequenceKeypoint.new(1, 1),
        })
        separatorGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        separatorGradient.Rotation = 0
        separatorGradient.Parent = separator

        local iconContainer = Instance.new("Frame")
        iconContainer.Name = "IconContainer"
        iconContainer.Visible = true
        iconContainer.BackgroundTransparency = 0
        iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
        iconContainer.BorderSizePixel = 1
        iconContainer.AnchorPoint = Vector2.new(0, 0.5)
        iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
        iconContainer.Size = UDim2.new(0, 24, 0, 24)
        iconContainer.Parent = header

        local iconCorner = Instance.new("UICorner")
        iconCorner.Name = "UICorner"
        iconCorner.CornerRadius = UDim.new(0, 6)
        iconCorner.Parent = iconContainer

        local iconStroke = Instance.new("UIStroke")
        iconStroke.Name = "UIStroke"
        iconStroke.Thickness = 1
        iconStroke.Transparency = 0.75
        iconStroke.Color = Color3.fromRGB(190, 45, 45)
        iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        iconStroke.LineJoinMode = Enum.LineJoinMode.Round
        iconStroke.Parent = iconContainer

        local iconGradient = Instance.new("UIGradient")
        iconGradient.Name = "UIGradient"
        iconGradient.Offset = Vector2.new(0, 0)
        iconGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.25, 0.9),
            NumberSequenceKeypoint.new(0.5, 0.8),
            NumberSequenceKeypoint.new(0.75, 0.9),
            NumberSequenceKeypoint.new(1, 1),
        })
        iconGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
        })
        iconGradient.Rotation = 125
        iconGradient.Parent = iconContainer

        local icon = Instance.new("ImageLabel")
        icon.Name = "Icon"
        icon.AnchorPoint = Vector2.new(0.5, 0.5)
        icon.Position = UDim2.new(0.5, 0, 0.5, 0)
        icon.Size = UDim2.new(0, 14, 0, 14)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://10734950020"
        icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
        icon.ZIndex = 2
        icon.Parent = iconContainer

        local title = Instance.new("TextLabel")
        title.Name = "SectionTitle"
        title.AnchorPoint = Vector2.new(0, 0)
        title.Position = UDim2.new(0, 44, 0, 0)
        title.Size = UDim2.new(1, -54, 1, -1)
        title.BackgroundTransparency = 1
        title.Text = "Settings"
        title.TextColor3 = Color3.fromRGB(230, 230, 230)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 14
        title.TextXAlignment = Enum.TextXAlignment.Left
        title.TextYAlignment = Enum.TextYAlignment.Center
        title.ZIndex = 4
        title.Parent = header

        local scrollContainer = Instance.new("Frame")
        scrollContainer.Name = "ScrollContainer"
        scrollContainer.Visible = true
        scrollContainer.BackgroundTransparency = 1
        scrollContainer.BorderSizePixel = 1
        scrollContainer.Position = UDim2.new(0, 0, 0, 36)
        scrollContainer.Size = UDim2.new(1, 0, 1, -36)
        scrollContainer.ZIndex = 3
        scrollContainer.ClipsDescendants = true
        scrollContainer.Parent = section

        local elements = Instance.new("ScrollingFrame")
        elements.Name = "ElementsContainer"
        elements.LayoutOrder = 0
        elements.AnchorPoint = Vector2.new(0, 0)
        elements.ScrollingDirection = Enum.ScrollingDirection.XY
        elements.ZIndex = 1
        elements.BorderSizePixel = 0
        elements.Size = UDim2.new(1, 0, 1, 0)
        elements.Position = UDim2.new(0, 0, 0, 0)
        elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        elements.ScrollBarThickness = 0
        elements.BackgroundTransparency = 1
        elements.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        elements.CanvasSize = UDim2.new(0, 0, 0, 0)
        elements.AutomaticCanvasSize = Enum.AutomaticSize.Y
        elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        elements.ScrollingEnabled = true
        elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        elements.Parent = scrollContainer

        local elementsPadding = Instance.new("UIPadding")
        elementsPadding.Name = "UIPadding"
        elementsPadding.PaddingTop = UDim.new(0, 10)
        elementsPadding.PaddingBottom = UDim.new(0, 12)
        elementsPadding.PaddingLeft = UDim.new(0, 12)
        elementsPadding.PaddingRight = UDim.new(0, 12)
        elementsPadding.Parent = elements

        local elementsLayout = Instance.new("UIListLayout")
        elementsLayout.Name = "UIListLayout"
        elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        elementsLayout.FillDirection = Enum.FillDirection.Vertical
        elementsLayout.Padding = UDim.new(0, 10)
        elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
        elementsLayout.Parent = elements

        local function createToggleRow(rowName, labelText, includeKeybind)
            local row = Instance.new("Frame")
            row.Name = rowName
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.BackgroundTransparency = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BackgroundTransparency = 0
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AutoButtonColor = false
            checkbox.Text = ""
            checkbox.Parent = row

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55, 58, 61)
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)
            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.BackgroundTransparency = 1
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
                keybindButton.AutoButtonColor = false
                keybindButton.Text = "None"
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.TextSize = 14
                keybindButton.Parent = row

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                keybindButton:SetAttribute("AsteriaKeybindLabelText", labelText)

                bindKeybindButton(keybindButton)

                return row, checkbox, keybindButton
            end

            return row, checkbox, nil
        end

        local _, showCheckbox = createToggleRow("Show KeybindsToggleRow", "Show Keybinds", true)
        showKeybindsCheckbox = showCheckbox
        if showKeybindsCheckbox then
            setCheckboxChecked(showKeybindsCheckbox, false)
        end

        local _, multiCheckbox = createToggleRow("Multi KeybindToggleRow", "Multi Keybind", false)
        if multiCheckbox then
            setCheckboxChecked(multiCheckbox, false)
            multiKeybindEnabled = false
            multiCheckbox:GetAttributeChangedSignal("AsteriaChecked"):Connect(function()
                local enabled = (multiCheckbox:GetAttribute("AsteriaChecked") == true)
                multiKeybindEnabled = enabled
                if not enabled then
                    enforceUniqueKeybinds()
                end
            end)
        end

        createToggleRow("Auto Load ConfigToggleRow", "Auto Load Config", true)

        -- Toggle Menu row
        do
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.BackgroundTransparency = 1
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.Text = "Toggle Menu"
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.BackgroundTransparency = 1
            right.BorderSizePixel = 1
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            local toggleKeyButton = Instance.new("TextButton")
            toggleKeyButton.Name = "Toggle MenuKeyButton"
            toggleKeyButton.AnchorPoint = Vector2.new(0, 0.5)
            toggleKeyButton.Position = UDim2.new(0, 0, 0.5, 0)
            toggleKeyButton.Size = UDim2.new(1, 0, 0, 24)
            toggleKeyButton.BorderSizePixel = 0
            toggleKeyButton.BackgroundTransparency = 0
            toggleKeyButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            toggleKeyButton.AutoButtonColor = false
            toggleKeyButton.Text = "RightControl"
            toggleKeyButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            toggleKeyButton.Font = Enum.Font.GothamBold
            toggleKeyButton.TextSize = 14
            toggleKeyButton.Parent = right

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = toggleKeyButton

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 2
            stroke.Transparency = 0.35
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = toggleKeyButton

            createSheenAndShadeOverlays(toggleKeyButton, UDim.new(0, 8))

            menuToggleKeyButton = toggleKeyButton
            -- Do not show Toggle Menu in the keybinds display.
            toggleKeyButton:SetAttribute("AsteriaKeybindsDisplayIgnore", true)
            keybindChangedCallbackByButton[toggleKeyButton] = function(keyCode)
                menuToggleKeyCode = keyCode
            end

            bindKeybindButton(toggleKeyButton)
            setKeybindForButton(toggleKeyButton, menuToggleKeyCode)
        end

        -- Unload UI button
        do
            local unload = Instance.new("TextButton")
            unload.Name = "Unload UIButton"
            unload.LayoutOrder = 0
            unload.Size = UDim2.new(1, 0, 0, 28)
            unload.BorderSizePixel = 0
            unload.BackgroundTransparency = 0
            unload.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            unload.AutoButtonColor = false
            unload.Text = "Unload UI"
            unload.TextColor3 = Color3.fromRGB(230, 230, 230)
            unload.Font = Enum.Font.GothamBold
            unload.TextSize = 14
            unload.Parent = elements

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = unload

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(54, 57, 60)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = unload

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.09),
                NumberSequenceKeypoint.new(0.5, 0.16),
                NumberSequenceKeypoint.new(1, 0.09),
            })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = unload

            local topLight = Instance.new("Frame")
            topLight.Name = "BtnTopLight"
            topLight.Visible = true
            topLight.BackgroundTransparency = 1
            topLight.BorderSizePixel = 0
            topLight.Size = UDim2.new(1, 0, 1, 0)
            topLight.ZIndex = 2
            topLight.Parent = unload

            local topCorner = Instance.new("UICorner")
            topCorner.Name = "UICorner"
            topCorner.CornerRadius = UDim.new(0, 8)
            topCorner.Parent = topLight

            local topGradient = Instance.new("UIGradient")
            topGradient.Name = "UIGradient"
            topGradient.Offset = Vector2.new(0, 0)
            topGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.8),
                NumberSequenceKeypoint.new(0.35, 0.9),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            topGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            topGradient.Rotation = 90
            topGradient.Parent = topLight

            local bottomShade = Instance.new("Frame")
            bottomShade.Name = "BtnBottomShade"
            bottomShade.Visible = true
            bottomShade.BackgroundTransparency = 1
            bottomShade.BorderSizePixel = 0
            bottomShade.Size = UDim2.new(1, 0, 1, 0)
            bottomShade.ZIndex = 2
            bottomShade.Parent = unload

            local bottomCorner = Instance.new("UICorner")
            bottomCorner.Name = "UICorner"
            bottomCorner.CornerRadius = UDim.new(0, 8)
            bottomCorner.Parent = bottomShade

            local bottomGradient = Instance.new("UIGradient")
            bottomGradient.Name = "UIGradient"
            bottomGradient.Offset = Vector2.new(0, 0)
            bottomGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.4, 0.92),
                NumberSequenceKeypoint.new(1, 0.58),
            })
            bottomGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            bottomGradient.Rotation = 90
            bottomGradient.Parent = bottomShade

            unload.MouseButton1Click:Connect(function()
                screenGui:Destroy()
            end)
        end

        return settingsRight
    end

    local settingsRightPanel = createSettingsRightPanel()
    settingsRightPanel.Parent = settingsPage

    -- Webhook: provided left panel (clean rewrite)
    local function createWebhookLeftPanel()
        local left = Instance.new("ScrollingFrame")
        left.Name = "LeftContentFrame1"
        left.LayoutOrder = 0
        left.AnchorPoint = Vector2.new(0, 0)
        left.ScrollingDirection = Enum.ScrollingDirection.XY
        left.ZIndex = 1
        left.BorderSizePixel = 0
        left.Size = UDim2.new(0.5, -21, 1, -68)
        left.Position = UDim2.new(0, 14, 0, 54)
        left.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        left.BackgroundTransparency = 1
        left.CanvasSize = UDim2.new(0, 0, 0, 0)
        left.AutomaticCanvasSize = Enum.AutomaticSize.Y
        left.ScrollBarThickness = 0
        left.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        left.Visible = true
        left.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        left.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        left.ScrollingEnabled = true

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = left

        local padding = Instance.new("UIPadding")
        padding.Name = "FramePadding"
        padding.PaddingTop = UDim.new(0, 12)
        padding.PaddingBottom = UDim.new(0, 12)
        padding.PaddingLeft = UDim.new(0, 0)
        padding.PaddingRight = UDim.new(0, 0)
        padding.Parent = left

        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.Parent = parent

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.Parent = parent

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
        end

        local section = Instance.new("Frame")
        section.Name = "WebhookSectionFrame"
        section.Visible = true
        section.ClipsDescendants = true
        section.LayoutOrder = 0
        section.BackgroundTransparency = 0
        section.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        section.BorderSizePixel = 0
        section.Size = UDim2.new(1, 0, 0, 258)
        section.Parent = left

        local sectionCorner = Instance.new("UICorner")
        sectionCorner.Name = "UICorner"
        sectionCorner.CornerRadius = UDim.new(0, 12)
        sectionCorner.Parent = section

        local sectionStroke = Instance.new("UIStroke")
        sectionStroke.Name = "UIStroke"
        sectionStroke.Thickness = 1
        sectionStroke.Transparency = 0.2
        sectionStroke.Color = Color3.fromRGB(40, 43, 46)
        sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
        sectionStroke.Parent = section

        local darkSweep = Instance.new("Frame")
        darkSweep.Name = "SectionDarkSweep"
        darkSweep.Visible = true
        darkSweep.BackgroundTransparency = 0
        darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        darkSweep.BorderSizePixel = 0
        darkSweep.Size = UDim2.new(1, 0, 1, 0)
        darkSweep.Parent = section

        local darkCorner = Instance.new("UICorner")
        darkCorner.Name = "UICorner"
        darkCorner.CornerRadius = UDim.new(0, 12)
        darkCorner.Parent = darkSweep

        local darkGradient = Instance.new("UIGradient")
        darkGradient.Name = "UIGradient"
        darkGradient.Offset = Vector2.new(0, 0)
        darkGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.18, 0.92),
            NumberSequenceKeypoint.new(0.4, 0.78),
            NumberSequenceKeypoint.new(0.62, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        darkGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        darkGradient.Rotation = 125
        darkGradient.Parent = darkSweep

        local innerBorder = Instance.new("Frame")
        innerBorder.Name = "InnerBorder"
        innerBorder.Visible = true
        innerBorder.BackgroundTransparency = 1
        innerBorder.BorderSizePixel = 1
        innerBorder.Position = UDim2.new(0, 1, 0, 1)
        innerBorder.Size = UDim2.new(1, -2, 1, -2)
        innerBorder.ZIndex = 2
        innerBorder.Parent = section

        local innerCorner = Instance.new("UICorner")
        innerCorner.Name = "UICorner"
        innerCorner.CornerRadius = UDim.new(0, 12)
        innerCorner.Parent = innerBorder

        local innerStroke = Instance.new("UIStroke")
        innerStroke.Name = "UIStroke"
        innerStroke.Thickness = 1
        innerStroke.Transparency = 0.75
        innerStroke.Color = Color3.fromRGB(40, 43, 46)
        innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        innerStroke.LineJoinMode = Enum.LineJoinMode.Round
        innerStroke.Parent = innerBorder

        local overlay = Instance.new("Frame")
        overlay.Name = "GradientOverlay"
        overlay.Visible = true
        overlay.BackgroundTransparency = 0.9
        overlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        overlay.BorderSizePixel = 1
        overlay.Size = UDim2.new(1, 0, 1, 0)
        overlay.ZIndex = 2
        overlay.Parent = section

        local overlayCorner = Instance.new("UICorner")
        overlayCorner.Name = "UICorner"
        overlayCorner.CornerRadius = UDim.new(0, 12)
        overlayCorner.Parent = overlay

        local overlayGradient = Instance.new("UIGradient")
        overlayGradient.Name = "UIGradient"
        overlayGradient.Offset = Vector2.new(0, 0)
        overlayGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.06),
            NumberSequenceKeypoint.new(0.5, 0.12),
            NumberSequenceKeypoint.new(1, 0.06),
        })
        overlayGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        overlayGradient.Rotation = 90
        overlayGradient.Parent = overlay

        local header = Instance.new("Frame")
        header.Name = "Header"
        header.Visible = true
        header.BackgroundTransparency = 1
        header.BorderSizePixel = 1
        header.Size = UDim2.new(1, 0, 0, 36)
        header.ZIndex = 3
        header.Parent = section

        local separator = Instance.new("Frame")
        separator.Name = "Separator"
        separator.Visible = true
        separator.BackgroundTransparency = 0.5
        separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
        separator.BorderSizePixel = 0
        separator.Position = UDim2.new(0, 10, 1, -1)
        separator.Size = UDim2.new(1, -20, 0, 1)
        separator.Parent = header

        local separatorGradient = Instance.new("UIGradient")
        separatorGradient.Name = "UIGradient"
        separatorGradient.Offset = Vector2.new(0, 0)
        separatorGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.1, 0.5),
            NumberSequenceKeypoint.new(0.9, 0.5),
            NumberSequenceKeypoint.new(1, 1),
        })
        separatorGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        separatorGradient.Rotation = 0
        separatorGradient.Parent = separator

        local iconContainer = Instance.new("Frame")
        iconContainer.Name = "IconContainer"
        iconContainer.Visible = true
        iconContainer.BackgroundTransparency = 0
        iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
        iconContainer.BorderSizePixel = 1
        iconContainer.AnchorPoint = Vector2.new(0, 0.5)
        iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
        iconContainer.Size = UDim2.new(0, 24, 0, 24)
        iconContainer.Parent = header

        local iconCorner = Instance.new("UICorner")
        iconCorner.Name = "UICorner"
        iconCorner.CornerRadius = UDim.new(0, 6)
        iconCorner.Parent = iconContainer

        local iconStroke = Instance.new("UIStroke")
        iconStroke.Name = "UIStroke"
        iconStroke.Thickness = 1
        iconStroke.Transparency = 0.75
        iconStroke.Color = Color3.fromRGB(190, 45, 45)
        iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        iconStroke.LineJoinMode = Enum.LineJoinMode.Round
        iconStroke.Parent = iconContainer

        local iconGradient = Instance.new("UIGradient")
        iconGradient.Name = "UIGradient"
        iconGradient.Offset = Vector2.new(0, 0)
        iconGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.25, 0.9),
            NumberSequenceKeypoint.new(0.5, 0.8),
            NumberSequenceKeypoint.new(0.75, 0.9),
            NumberSequenceKeypoint.new(1, 1),
        })
        iconGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
        })
        iconGradient.Rotation = 125
        iconGradient.Parent = iconContainer

        local icon = Instance.new("ImageLabel")
        icon.Name = "Icon"
        icon.AnchorPoint = Vector2.new(0.5, 0.5)
        icon.Position = UDim2.new(0.5, 0, 0.5, 0)
        icon.Size = UDim2.new(0, 14, 0, 14)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://10734940825"
        icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
        icon.ZIndex = 2
        icon.Parent = iconContainer

        local title = Instance.new("TextLabel")
        title.Name = "SectionTitle"
        title.AnchorPoint = Vector2.new(0, 0)
        title.Position = UDim2.new(0, 44, 0, 0)
        title.Size = UDim2.new(1, -54, 1, -1)
        title.BackgroundTransparency = 1
        title.Text = "Webhook"
        title.TextColor3 = Color3.fromRGB(230, 230, 230)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 14
        title.TextXAlignment = Enum.TextXAlignment.Left
        title.TextYAlignment = Enum.TextYAlignment.Center
        title.ZIndex = 4
        title.Parent = header

        local scrollContainer = Instance.new("Frame")
        scrollContainer.Name = "ScrollContainer"
        scrollContainer.Visible = true
        scrollContainer.BackgroundTransparency = 1
        scrollContainer.BorderSizePixel = 1
        scrollContainer.Position = UDim2.new(0, 0, 0, 36)
        scrollContainer.Size = UDim2.new(1, 0, 1, -36)
        scrollContainer.ZIndex = 3
        scrollContainer.ClipsDescendants = true
        scrollContainer.Parent = section

        local elements = Instance.new("ScrollingFrame")
        elements.Name = "ElementsContainer"
        elements.LayoutOrder = 0
        elements.AnchorPoint = Vector2.new(0, 0)
        elements.ScrollingDirection = Enum.ScrollingDirection.XY
        elements.ZIndex = 1
        elements.BorderSizePixel = 0
        elements.Size = UDim2.new(1, 0, 1, 0)
        elements.Position = UDim2.new(0, 0, 0, 0)
        elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        elements.BackgroundTransparency = 1
        elements.CanvasSize = UDim2.new(0, 0, 0, 0)
        elements.AutomaticCanvasSize = Enum.AutomaticSize.Y
        elements.ScrollBarThickness = 0
        elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        elements.ScrollingEnabled = true
        elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        elements.Parent = scrollContainer

        local elementsPadding = Instance.new("UIPadding")
        elementsPadding.Name = "UIPadding"
        elementsPadding.PaddingTop = UDim.new(0, 10)
        elementsPadding.PaddingBottom = UDim.new(0, 12)
        elementsPadding.PaddingLeft = UDim.new(0, 12)
        elementsPadding.PaddingRight = UDim.new(0, 12)
        elementsPadding.Parent = elements

        local elementsLayout = Instance.new("UIListLayout")
        elementsLayout.Name = "UIListLayout"
        elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        elementsLayout.FillDirection = Enum.FillDirection.Vertical
        elementsLayout.Padding = UDim.new(0, 10)
        elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
        elementsLayout.Parent = elements

        local function createWebhookToggleRow(rowName, labelText)
            local row = Instance.new("Frame")
            row.Name = rowName
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.BackgroundTransparency = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Text = labelText
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BackgroundTransparency = 0
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AutoButtonColor = false
            checkbox.Text = ""
            checkbox.Parent = row

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55, 58, 61)
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)
            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.BackgroundTransparency = 1
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)

            local keybindButton = Instance.new("TextButton")
            keybindButton.Name = "KeybindButton"
            keybindButton.AnchorPoint = Vector2.new(1, 0.5)
            keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
            keybindButton.Size = UDim2.new(0, 44, 0, 20)
            keybindButton.BorderSizePixel = 1
            keybindButton.BackgroundTransparency = 0.2
            keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            keybindButton.AutoButtonColor = false
            keybindButton.Text = "None"
            keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
            keybindButton.Font = Enum.Font.GothamBold
            keybindButton.TextSize = 14
            keybindButton.Parent = row

            local keybindCorner = Instance.new("UICorner")
            keybindCorner.Name = "UICorner"
            keybindCorner.CornerRadius = UDim.new(0, 6)
            keybindCorner.Parent = keybindButton

            local keybindStroke = Instance.new("UIStroke")
            keybindStroke.Name = "UIStroke"
            keybindStroke.Thickness = 1
            keybindStroke.Transparency = 0.4
            keybindStroke.Color = Color3.fromRGB(55, 58, 61)
            keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
            keybindStroke.Parent = keybindButton

            createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

            local keybindTarget = Instance.new("ObjectValue")
            keybindTarget.Name = "KeybindTarget"
            keybindTarget.Value = checkbox
            keybindTarget.Parent = keybindButton

            bindKeybindButton(keybindButton)
        end

        createWebhookToggleRow("Send StatsToggleRow", "Send Stats")
        createWebhookToggleRow("Send Coin StatsToggleRow", "Send Coin Stats")
        createWebhookToggleRow("Send Custom Item StatsToggleRow", "Send Custom Item Stats")

        -- Fruit dropdown
        do
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.BackgroundTransparency = 1
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.Text = "Fruit"
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.BackgroundTransparency = 1
            right.BorderSizePixel = 1
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            local dropdown = Instance.new("TextButton")
            dropdown.Name = "TextButton"
            dropdown.ZIndex = 101
            dropdown.Size = UDim2.new(1, 0, 0, 24)
            dropdown.Position = UDim2.new(0, 0, 0.5, -11)
            dropdown.BackgroundTransparency = 0
            dropdown.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdown.BorderSizePixel = 0
            dropdown.AutoButtonColor = false
            dropdown.Text = "Bloodfruit"
            dropdown.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdown.Font = Enum.Font.GothamBold
            dropdown.TextSize = 14
            dropdown.Parent = right

            local dropdownCorner = Instance.new("UICorner")
            dropdownCorner.Name = "UICorner"
            dropdownCorner.CornerRadius = UDim.new(0, 8)
            dropdownCorner.Parent = dropdown

            local dropdownStroke = Instance.new("UIStroke")
            dropdownStroke.Name = "UIStroke"
            dropdownStroke.Thickness = 1
            dropdownStroke.Transparency = 0.4
            dropdownStroke.Color = Color3.fromRGB(55, 58, 61)
            dropdownStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            dropdownStroke.LineJoinMode = Enum.LineJoinMode.Round
            dropdownStroke.Parent = dropdown

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.BackgroundTransparency = 1
            arrow.Image = "rbxassetid://7072706796"
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.ZIndex = 102
            arrow.Parent = dropdown
        end

        -- Custom Item textbox
        do
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.BackgroundTransparency = 1
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.Text = "Custom Item"
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.BackgroundTransparency = 1
            right.BorderSizePixel = 1
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = "Custom ItemTextbox"
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.BorderSizePixel = 0
            textbox.ClearTextOnFocus = false
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.Font = Enum.Font.GothamBold
            textbox.TextSize = 14
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.PlaceholderText = "Enter item name"
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.Parent = right

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.BackgroundTransparency = 1
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.ImageTransparency = 1
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.Parent = textbox
        end

        return left
    end

    local webhookLeftPanel = createWebhookLeftPanel()
    webhookLeftPanel.Parent = webhookPage

    local function createWebhookRightPanel()
        local right = Instance.new("ScrollingFrame")
        right.Name = "RightContentFrame1"
        right.LayoutOrder = 0
        right.AnchorPoint = Vector2.new(0, 0)
        right.ScrollingDirection = Enum.ScrollingDirection.XY
        right.ZIndex = 1
        right.BorderSizePixel = 0
        right.Size = UDim2.new(0.5, -21, 1, -68)
        right.Position = UDim2.new(0.5, 7, 0, 54)
        right.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        right.BackgroundTransparency = 1
        right.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        right.CanvasSize = UDim2.new(0, 0, 0, 0)
        right.AutomaticCanvasSize = Enum.AutomaticSize.Y
        right.ScrollBarThickness = 0
        right.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        right.Visible = true
        right.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        right.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        right.ScrollingEnabled = true
        right.CanvasPosition = Vector2.new(0, 0)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = right

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = right

        local section = Instance.new("Frame")
        section.Name = "SettingsSectionFrame"
        section.Visible = true
        section.ClipsDescendants = true
        section.LayoutOrder = 0
        section.BackgroundTransparency = 0
        section.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        section.BorderSizePixel = 0
        section.Size = UDim2.new(1, 0, 0, 144)
        section.Parent = right

        local sectionCorner = Instance.new("UICorner")
        sectionCorner.Name = "UICorner"
        sectionCorner.CornerRadius = UDim.new(0, 12)
        sectionCorner.Parent = section

        local sectionStroke = Instance.new("UIStroke")
        sectionStroke.Name = "UIStroke"
        sectionStroke.Thickness = 1
        sectionStroke.Transparency = 0.2
        sectionStroke.Color = Color3.fromRGB(40, 43, 46)
        sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
        sectionStroke.Parent = section

        local darkSweep = Instance.new("Frame")
        darkSweep.Name = "SectionDarkSweep"
        darkSweep.Visible = true
        darkSweep.BackgroundTransparency = 0
        darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        darkSweep.BorderSizePixel = 0
        darkSweep.Size = UDim2.new(1, 0, 1, 0)
        darkSweep.Parent = section

        local darkCorner = Instance.new("UICorner")
        darkCorner.Name = "UICorner"
        darkCorner.CornerRadius = UDim.new(0, 12)
        darkCorner.Parent = darkSweep

        local darkGradient = Instance.new("UIGradient")
        darkGradient.Name = "UIGradient"
        darkGradient.Offset = Vector2.new(0, 0)
        darkGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.18, 0.92),
            NumberSequenceKeypoint.new(0.4, 0.78),
            NumberSequenceKeypoint.new(0.62, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        darkGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
        })
        darkGradient.Rotation = 125
        darkGradient.Parent = darkSweep

        local innerBorder = Instance.new("Frame")
        innerBorder.Name = "InnerBorder"
        innerBorder.Visible = true
        innerBorder.BackgroundTransparency = 1
        innerBorder.BorderSizePixel = 1
        innerBorder.Position = UDim2.new(0, 1, 0, 1)
        innerBorder.Size = UDim2.new(1, -2, 1, -2)
        innerBorder.ZIndex = 2
        innerBorder.Parent = section

        local innerCorner = Instance.new("UICorner")
        innerCorner.Name = "UICorner"
        innerCorner.CornerRadius = UDim.new(0, 12)
        innerCorner.Parent = innerBorder

        local innerStroke = Instance.new("UIStroke")
        innerStroke.Name = "UIStroke"
        innerStroke.Thickness = 1
        innerStroke.Transparency = 0.75
        innerStroke.Color = Color3.fromRGB(40, 43, 46)
        innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        innerStroke.LineJoinMode = Enum.LineJoinMode.Round
        innerStroke.Parent = innerBorder

        local overlay = Instance.new("Frame")
        overlay.Name = "GradientOverlay"
        overlay.Visible = true
        overlay.BackgroundTransparency = 0.9
        overlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        overlay.BorderSizePixel = 1
        overlay.Size = UDim2.new(1, 0, 1, 0)
        overlay.ZIndex = 2
        overlay.Parent = section

        local overlayCorner = Instance.new("UICorner")
        overlayCorner.Name = "UICorner"
        overlayCorner.CornerRadius = UDim.new(0, 12)
        overlayCorner.Parent = overlay

        local overlayGradient = Instance.new("UIGradient")
        overlayGradient.Name = "UIGradient"
        overlayGradient.Offset = Vector2.new(0, 0)
        overlayGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.06),
            NumberSequenceKeypoint.new(0.5, 0.12),
            NumberSequenceKeypoint.new(1, 0.06),
        })
        overlayGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        overlayGradient.Rotation = 90
        overlayGradient.Parent = overlay

        local header = Instance.new("Frame")
        header.Name = "Header"
        header.Visible = true
        header.BackgroundTransparency = 1
        header.BorderSizePixel = 1
        header.Size = UDim2.new(1, 0, 0, 36)
        header.ZIndex = 3
        header.Parent = section

        local separator = Instance.new("Frame")
        separator.Name = "Separator"
        separator.Visible = true
        separator.BackgroundTransparency = 0.5
        separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
        separator.BorderSizePixel = 0
        separator.Position = UDim2.new(0, 10, 1, -1)
        separator.Size = UDim2.new(1, -20, 0, 1)
        separator.Parent = header

        local separatorGradient = Instance.new("UIGradient")
        separatorGradient.Name = "UIGradient"
        separatorGradient.Offset = Vector2.new(0, 0)
        separatorGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.1, 0.5),
            NumberSequenceKeypoint.new(0.9, 0.5),
            NumberSequenceKeypoint.new(1, 1),
        })
        separatorGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
        })
        separatorGradient.Rotation = 0
        separatorGradient.Parent = separator

        local iconContainer = Instance.new("Frame")
        iconContainer.Name = "IconContainer"
        iconContainer.Visible = true
        iconContainer.BackgroundTransparency = 0
        iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
        iconContainer.BorderSizePixel = 1
        iconContainer.AnchorPoint = Vector2.new(0, 0.5)
        iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
        iconContainer.Size = UDim2.new(0, 24, 0, 24)
        iconContainer.Parent = header

        local iconCorner = Instance.new("UICorner")
        iconCorner.Name = "UICorner"
        iconCorner.CornerRadius = UDim.new(0, 6)
        iconCorner.Parent = iconContainer

        local iconStroke = Instance.new("UIStroke")
        iconStroke.Name = "UIStroke"
        iconStroke.Thickness = 1
        iconStroke.Transparency = 0.75
        iconStroke.Color = Color3.fromRGB(190, 45, 45)
        iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        iconStroke.LineJoinMode = Enum.LineJoinMode.Round
        iconStroke.Parent = iconContainer

        local iconGradient = Instance.new("UIGradient")
        iconGradient.Name = "UIGradient"
        iconGradient.Offset = Vector2.new(0, 0)
        iconGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.25, 0.9),
            NumberSequenceKeypoint.new(0.5, 0.8),
            NumberSequenceKeypoint.new(0.75, 0.9),
            NumberSequenceKeypoint.new(1, 1),
        })
        iconGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
        })
        iconGradient.Rotation = 125
        iconGradient.Parent = iconContainer

        local icon = Instance.new("ImageLabel")
        icon.Name = "Icon"
        icon.AnchorPoint = Vector2.new(0.5, 0.5)
        icon.Position = UDim2.new(0.5, 0, 0.5, 0)
        icon.Size = UDim2.new(0, 14, 0, 14)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://10734950020"
        icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
        icon.ZIndex = 2
        icon.Parent = iconContainer

        local title = Instance.new("TextLabel")
        title.Name = "SectionTitle"
        title.AnchorPoint = Vector2.new(0, 0)
        title.Position = UDim2.new(0, 44, 0, 0)
        title.Size = UDim2.new(1, -54, 1, -1)
        title.BackgroundTransparency = 1
        title.Text = "Settings"
        title.TextColor3 = Color3.fromRGB(230, 230, 230)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 14
        title.TextXAlignment = Enum.TextXAlignment.Left
        title.TextYAlignment = Enum.TextYAlignment.Center
        title.ZIndex = 4
        title.Parent = header

        local scrollContainer = Instance.new("Frame")
        scrollContainer.Name = "ScrollContainer"
        scrollContainer.Visible = true
        scrollContainer.BackgroundTransparency = 1
        scrollContainer.BorderSizePixel = 1
        scrollContainer.Position = UDim2.new(0, 0, 0, 36)
        scrollContainer.Size = UDim2.new(1, 0, 1, -36)
        scrollContainer.ZIndex = 3
        scrollContainer.ClipsDescendants = true
        scrollContainer.Parent = section

        local elements = Instance.new("ScrollingFrame")
        elements.Name = "ElementsContainer"
        elements.LayoutOrder = 0
        elements.AnchorPoint = Vector2.new(0, 0)
        elements.ScrollingDirection = Enum.ScrollingDirection.XY
        elements.ZIndex = 1
        elements.BorderSizePixel = 0
        elements.Size = UDim2.new(1, 0, 1, 0)
        elements.Position = UDim2.new(0, 0, 0, 0)
        elements.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        elements.BackgroundTransparency = 1
        elements.CanvasSize = UDim2.new(0, 0, 0, 0)
        elements.ScrollBarThickness = 0
        elements.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        elements.ScrollingEnabled = true
        elements.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        elements.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        elements.CanvasPosition = Vector2.new(0, 0)
        elements.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        elements.Parent = scrollContainer

        local elementsPadding = Instance.new("UIPadding")
        elementsPadding.Name = "UIPadding"
        elementsPadding.PaddingTop = UDim.new(0, 10)
        elementsPadding.PaddingBottom = UDim.new(0, 12)
        elementsPadding.PaddingLeft = UDim.new(0, 12)
        elementsPadding.PaddingRight = UDim.new(0, 12)
        elementsPadding.Parent = elements

        local elementsLayout = Instance.new("UIListLayout")
        elementsLayout.Name = "UIListLayout"
        elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        elementsLayout.FillDirection = Enum.FillDirection.Vertical
        elementsLayout.Padding = UDim.new(0, 10)
        elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
        elementsLayout.Parent = elements

        -- Webhook textbox row
        do
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)
            row.Parent = elements

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.BackgroundTransparency = 1
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.Text = "Webhook"
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.TextSize = 14
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.Parent = row

            local rightSide = Instance.new("Frame")
            rightSide.Name = "Frame"
            rightSide.Visible = true
            rightSide.BackgroundTransparency = 1
            rightSide.BorderSizePixel = 1
            rightSide.Position = UDim2.new(0.4, 0, 0, 0)
            rightSide.Size = UDim2.new(0.6, 0, 1, 0)
            rightSide.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = "WebhookTextbox"
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.BorderSizePixel = 0
            textbox.ClearTextOnFocus = false
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.Font = Enum.Font.GothamBold
            textbox.TextSize = 14
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.PlaceholderText = "write here"
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.Parent = rightSide

            local tbCorner = Instance.new("UICorner")
            tbCorner.Name = "UICorner"
            tbCorner.CornerRadius = UDim.new(0, 8)
            tbCorner.Parent = textbox

            local tbStroke = Instance.new("UIStroke")
            tbStroke.Name = "UIStroke"
            tbStroke.Thickness = 1
            tbStroke.Transparency = 0.4
            tbStroke.Color = Color3.fromRGB(54, 57, 60)
            tbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            tbStroke.LineJoinMode = Enum.LineJoinMode.Round
            tbStroke.Parent = textbox

            local tbGradient = Instance.new("UIGradient")
            tbGradient.Name = "UIGradient"
            tbGradient.Offset = Vector2.new(0, 0)
            tbGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            tbGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            tbGradient.Rotation = 90
            tbGradient.Parent = textbox

            local tbPadding = Instance.new("UIPadding")
            tbPadding.Name = "UIPadding"
            tbPadding.PaddingLeft = UDim.new(0, 10)
            tbPadding.PaddingRight = UDim.new(0, 26)
            tbPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.BackgroundTransparency = 1
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.ImageTransparency = 1
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.Parent = textbox
        end

        -- Send Every X Minutes slider row
        do
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = "Send Every X MinutesSliderRow"
            sliderRow.Visible = true
            sliderRow.BackgroundTransparency = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)
            sliderRow.Parent = elements

            local labelFrame = Instance.new("Frame")
            labelFrame.Name = "Frame"
            labelFrame.Visible = true
            labelFrame.BackgroundTransparency = 1
            labelFrame.BorderSizePixel = 1
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = sliderRow

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.BackgroundTransparency = 1
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Text = "Send Every X Minutes"
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.Parent = labelFrame

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.PlaceholderText = "0"
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.Text = "1"
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.TextSize = 14
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.Parent = labelFrame

            local vbCorner = Instance.new("UICorner")
            vbCorner.Name = "UICorner"
            vbCorner.CornerRadius = UDim.new(0, 4)
            vbCorner.Parent = valueTextBox

            local vbStroke = Instance.new("UIStroke")
            vbStroke.Name = "UIStroke"
            vbStroke.Thickness = 1
            vbStroke.Transparency = 0.5
            vbStroke.Color = Color3.fromRGB(40, 43, 46)
            vbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            vbStroke.LineJoinMode = Enum.LineJoinMode.Round
            vbStroke.Parent = valueTextBox

            local trackArea = Instance.new("Frame")
            trackArea.Name = "SliderTrackArea"
            trackArea.Visible = true
            trackArea.BackgroundTransparency = 1
            trackArea.BorderSizePixel = 1
            trackArea.Position = UDim2.new(0, 0, 0, 24)
            trackArea.Size = UDim2.new(1, 0, 0, 16)
            trackArea.Parent = sliderRow

            local track = Instance.new("Frame")
            track.Name = "TrackVisual"
            track.Visible = true
            track.BackgroundTransparency = 0
            track.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            track.BorderSizePixel = 0
            track.Position = UDim2.new(0, 0, 0.5, -2)
            track.Size = UDim2.new(1, 0, 0, 4)
            track.Parent = trackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = track

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = track

            local fillBar = Instance.new("Frame")
            fillBar.Name = "FillBar"
            fillBar.Visible = true
            fillBar.BackgroundTransparency = 0
            fillBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            fillBar.BorderSizePixel = 0
            fillBar.Position = UDim2.new(0, 0, 0, 0)
            fillBar.Size = UDim2.new(0, 0, 1, 0)
            fillBar.ZIndex = 2
            fillBar.Parent = track

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fillBar

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, ACCENT_BLACK),
                ColorSequenceKeypoint.new(1, ACCENT_PRIMARY)
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fillBar

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.Visible = true
            handle.BackgroundTransparency = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.ZIndex = 3
            handle.Parent = trackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 1
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.TextSize = 8
            clickArea.Font = Enum.Font.Legacy
            clickArea.ZIndex = 4
            clickArea.Parent = trackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = "1"
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble
        end

        return right
    end

    local webhookRightPanel = createWebhookRightPanel()
    webhookRightPanel.Parent = webhookPage

    local function createInventoryLeftPanel()
        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sheenOverlay.Position = UDim2.new(0, 0, 0, 0)
            sheenOverlay.AnchorPoint = Vector2.new(0, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = parent

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shadeOverlay.Position = UDim2.new(0, 0, 0, 0)
            shadeOverlay.AnchorPoint = Vector2.new(0, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = parent
        end

        local function createFadeFrame(name, position)
            local fade = Instance.new("Frame")
            fade.Name = name
            fade.Visible = false
            fade.ClipsDescendants = false
            fade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fade.LayoutOrder = 0
            fade.BackgroundTransparency = 1
            fade.Rotation = 0
            fade.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            fade.Position = position
            fade.AnchorPoint = Vector2.new(0, 0)
            fade.ZIndex = 10
            fade.BorderSizePixel = 0
            fade.Size = UDim2.new(1, 0, 0, 22)

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = (name == "TopFadeFrame")
                and NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(0.7, 0.1),
                    NumberSequenceKeypoint.new(1, 1),
                })
                or NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(0.3, 0.1),
                    NumberSequenceKeypoint.new(1, 0),
                })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = fade

            return fade
        end

        local function createSectionFrame(sectionFrameName, sectionTitleText, sectionIconId, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionFrameName
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = sectionFrame

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Parent = sectionFrame

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27, 42, 53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.AnchorPoint = Vector2.new(0, 0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.ClipsDescendants = false
            separator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            separator.LayoutOrder = 0
            separator.BackgroundTransparency = 0.5
            separator.Rotation = 0
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.AnchorPoint = Vector2.new(0, 0)
            separator.ZIndex = 1
            separator.BorderSizePixel = 0
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.LayoutOrder = 0
            icon.ImageTransparency = 0
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Image = sectionIconId
            icon.TileSize = UDim2.new(1, 0, 1, 0)
            icon.ZIndex = 2
            icon.BorderSizePixel = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.BackgroundTransparency = 1
            icon.Rotation = 0
            icon.Visible = true
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.SliceScale = 1
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            icon.Parent = iconContainer

            local sectionTitle = Instance.new("TextLabel")
            sectionTitle.Name = "SectionTitle"
            sectionTitle.LayoutOrder = 0
            sectionTitle.TextWrapped = false
            sectionTitle.TextTransparency = 0
            sectionTitle.TextStrokeTransparency = 1
            sectionTitle.AnchorPoint = Vector2.new(0, 0)
            sectionTitle.ZIndex = 4
            sectionTitle.TextSize = 14
            sectionTitle.Size = UDim2.new(1, -54, 1, -1)
            sectionTitle.BorderSizePixel = 1
            sectionTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
            sectionTitle.BackgroundTransparency = 1
            sectionTitle.Text = sectionTitleText
            sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            sectionTitle.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            sectionTitle.Rotation = 0
            sectionTitle.Font = Enum.Font.GothamBold
            sectionTitle.Position = UDim2.new(0, 44, 0, 0)
            sectionTitle.Visible = true
            sectionTitle.TextYAlignment = Enum.TextYAlignment.Center
            sectionTitle.TextScaled = false
            sectionTitle.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sectionTitle.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = elementsContainer

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.VerticalAlignment = Enum.VerticalAlignment.Top
            list.FillDirection = Enum.FillDirection.Vertical
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Parent = elementsContainer

            local topFade = createFadeFrame("TopFadeFrame", UDim2.new(0, 0, 0, 0))
            topFade.Parent = scrollContainer

            local bottomFade = createFadeFrame("BottomFadeFrame", UDim2.new(0, 0, 1, -22))
            bottomFade.Parent = scrollContainer

            return sectionFrame, elementsContainer
        end

        local function createToggleRow(rowFrameName, labelText, includeKeybind)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowFrameName
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = labelText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)
            checkbox.Parent = toggleRow

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)
                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createDropdownRow(labelText, buttonText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.ClipsDescendants = false
            right.BorderColor3 = Color3.fromRGB(27, 42, 53)
            right.LayoutOrder = 0
            right.BackgroundTransparency = 1
            right.Rotation = 0
            right.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.AnchorPoint = Vector2.new(0, 0)
            right.ZIndex = 1
            right.BorderSizePixel = 1
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            local button = Instance.new("TextButton")
            button.Name = "TextButton"
            button.LayoutOrder = 0
            button.TextWrapped = false
            button.TextTransparency = 0
            button.AnchorPoint = Vector2.new(0, 0)
            button.ZIndex = 101
            button.TextSize = 14
            button.Size = UDim2.new(1, 0, 0, 24)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.TextXAlignment = Enum.TextXAlignment.Center
            button.Text = buttonText
            button.Modal = false
            button.AutoButtonColor = false
            button.Rotation = 0
            button.Font = Enum.Font.GothamBold
            button.Position = UDim2.new(0, 0, 0.5, -11)
            button.Visible = true
            button.TextYAlignment = Enum.TextYAlignment.Center
            button.TextScaled = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            button.Parent = right

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = button

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = button

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.LayoutOrder = 0
            arrow.ImageTransparency = 0
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Image = "rbxassetid://7072706796"
            arrow.TileSize = UDim2.new(1, 0, 1, 0)
            arrow.ZIndex = 102
            arrow.BorderSizePixel = 1
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.BackgroundTransparency = 1
            arrow.Rotation = 0
            arrow.Visible = true
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.SliceScale = 1
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrow.Parent = button

            return row
        end

        local function createAddItemTextboxRow()
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = "Add Item"
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local right = Instance.new("Frame")
            right.Name = "Frame"
            right.Visible = true
            right.ClipsDescendants = false
            right.BorderColor3 = Color3.fromRGB(27, 42, 53)
            right.LayoutOrder = 0
            right.BackgroundTransparency = 1
            right.Rotation = 0
            right.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            right.Position = UDim2.new(0.4, 0, 0, 0)
            right.AnchorPoint = Vector2.new(0, 0)
            right.ZIndex = 1
            right.BorderSizePixel = 1
            right.Size = UDim2.new(0.6, 0, 1, 0)
            right.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = "Add ItemTextbox"
            textbox.LayoutOrder = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.BorderSizePixel = 0
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.PlaceholderText = "write here"
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.MultiLine = false
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.ClearTextOnFocus = false
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = right

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingTop = UDim.new(0, 0)
            textboxPadding.PaddingBottom = UDim.new(0, 0)
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.Modal = false
            clearButton.BackgroundTransparency = 1
            clearButton.AutoButtonColor = true
            clearButton.Rotation = 0
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.Visible = true
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            return row
        end

        local function createFilterLogicRow()
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 88)

            local label = Instance.new("TextLabel")
            label.Name = "ParagraphText"
            label.LayoutOrder = 0
            label.TextWrapped = true
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -8, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.BackgroundTransparency = 1
            label.RichText = true
            label.Text = "<font color='#55FF55'>FILTER LOGIC:</font> If the dropdown selection is <font color='#FFAA77'>empty</font>, the filter is ignored and <font color='#FFFF77'>all items</font> will be picked up. If you select <font color='#AAFFAA'>one or more items</font>, it will <font color='#AAFFAA'>only pick up</font> what you've chosen in the list."
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Top
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = row

            return row
        end

        local function createMaxFruitSliderRow()
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = "Max FruitSliderRow"
            sliderRow.Visible = true
            sliderRow.ClipsDescendants = false
            sliderRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderRow.LayoutOrder = 0
            sliderRow.BackgroundTransparency = 1
            sliderRow.Rotation = 0
            sliderRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderRow.Position = UDim2.new(0, 0, 0, 0)
            sliderRow.AnchorPoint = Vector2.new(0, 0)
            sliderRow.ZIndex = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            local topRow = Instance.new("Frame")
            topRow.Name = "Frame"
            topRow.Visible = true
            topRow.ClipsDescendants = false
            topRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            topRow.LayoutOrder = 0
            topRow.BackgroundTransparency = 1
            topRow.Rotation = 0
            topRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            topRow.Position = UDim2.new(0, 0, 0, 0)
            topRow.AnchorPoint = Vector2.new(0, 0)
            topRow.ZIndex = 1
            topRow.BorderSizePixel = 1
            topRow.Size = UDim2.new(1, 0, 0, 18)
            topRow.Parent = sliderRow

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = "Max Fruit"
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = topRow

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.LayoutOrder = 0
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.ZIndex = 1
            valueTextBox.TextSize = 14
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.PlaceholderText = "0"
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.Text = "100"
            valueTextBox.TextEditable = true
            valueTextBox.MultiLine = false
            valueTextBox.Rotation = 0
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Visible = true
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.TextScaled = false
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.Parent = topRow

            local textBoxCorner = Instance.new("UICorner")
            textBoxCorner.Name = "UICorner"
            textBoxCorner.CornerRadius = UDim.new(0, 4)
            textBoxCorner.Parent = valueTextBox

            local textBoxStroke = Instance.new("UIStroke")
            textBoxStroke.Name = "UIStroke"
            textBoxStroke.Thickness = 1
            textBoxStroke.Transparency = 0.5
            textBoxStroke.Color = Color3.fromRGB(40, 43, 46)
            textBoxStroke.ZIndex = 1
            textBoxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textBoxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textBoxStroke.Parent = valueTextBox

            local sliderTrackArea = Instance.new("Frame")
            sliderTrackArea.Name = "SliderTrackArea"
            sliderTrackArea.Visible = true
            sliderTrackArea.ClipsDescendants = false
            sliderTrackArea.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderTrackArea.LayoutOrder = 0
            sliderTrackArea.BackgroundTransparency = 1
            sliderTrackArea.Rotation = 0
            sliderTrackArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderTrackArea.Position = UDim2.new(0, 0, 0, 24)
            sliderTrackArea.AnchorPoint = Vector2.new(0, 0)
            sliderTrackArea.ZIndex = 1
            sliderTrackArea.BorderSizePixel = 1
            sliderTrackArea.Size = UDim2.new(1, 0, 0, 16)
            sliderTrackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.Visible = true
            trackVisual.ClipsDescendants = false
            trackVisual.BorderColor3 = Color3.fromRGB(27, 42, 53)
            trackVisual.LayoutOrder = 0
            trackVisual.BackgroundTransparency = 0
            trackVisual.Rotation = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.AnchorPoint = Vector2.new(0, 0)
            trackVisual.ZIndex = 1
            trackVisual.BorderSizePixel = 0
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.Parent = sliderTrackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fillBar = Instance.new("Frame")
            fillBar.Name = "FillBar"
            fillBar.Visible = true
            fillBar.ClipsDescendants = false
            fillBar.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fillBar.LayoutOrder = 0
            fillBar.BackgroundTransparency = 0
            fillBar.Rotation = 0
            fillBar.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            fillBar.Position = UDim2.new(0, 0, 0, 0)
            fillBar.AnchorPoint = Vector2.new(0, 0)
            fillBar.ZIndex = 2
            fillBar.BorderSizePixel = 0
            fillBar.Size = UDim2.new(0.1, 0, 1, 0)
            fillBar.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fillBar

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(148, 32, 32)),
                ColorSequenceKeypoint.new(0.55, Color3.fromRGB(190, 45, 45)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 75, 75)),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fillBar

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.Visible = true
            handle.ClipsDescendants = false
            handle.BorderColor3 = Color3.fromRGB(27, 42, 53)
            handle.LayoutOrder = 0
            handle.BackgroundTransparency = 0
            handle.Rotation = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.Position = UDim2.new(0.1, 0, 0.5, 0)
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.ZIndex = 3
            handle.BorderSizePixel = 0
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.Parent = sliderTrackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.LayoutOrder = 0
            clickArea.TextWrapped = false
            clickArea.TextTransparency = 0
            clickArea.AnchorPoint = Vector2.new(0, 0)
            clickArea.ZIndex = 4
            clickArea.TextSize = 8
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.BorderSizePixel = 1
            clickArea.BackgroundTransparency = 1
            clickArea.TextColor3 = Color3.fromRGB(27, 42, 53)
            clickArea.TextXAlignment = Enum.TextXAlignment.Center
            clickArea.Text = ""
            clickArea.Modal = false
            clickArea.AutoButtonColor = true
            clickArea.Rotation = 0
            clickArea.Font = Enum.Font.Legacy
            clickArea.Position = UDim2.new(0, 0, 0, 0)
            clickArea.Visible = true
            clickArea.TextYAlignment = Enum.TextYAlignment.Center
            clickArea.TextScaled = false
            clickArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clickArea.Parent = sliderTrackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.LayoutOrder = 0
            bubble.TextWrapped = false
            bubble.TextTransparency = 0
            bubble.TextStrokeTransparency = 1
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.ZIndex = 5
            bubble.TextSize = 14
            bubble.Size = UDim2.new(0, 28, 0, 18)
            bubble.BorderSizePixel = 0
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.BackgroundTransparency = 0
            bubble.Text = "100"
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            bubble.Rotation = 0
            bubble.Font = Enum.Font.Code
            bubble.Position = UDim2.new(0, 24, 0, 28)
            bubble.Visible = false
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.TextScaled = false
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ZIndex = 1
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            return sliderRow
        end

        local left = Instance.new("ScrollingFrame")
        left.Name = "LeftContentFrame1"
        left.LayoutOrder = 0
        left.AnchorPoint = Vector2.new(0, 0)
        left.ScrollingDirection = Enum.ScrollingDirection.XY
        left.ZIndex = 1
        left.BorderSizePixel = 0
        left.Size = UDim2.new(0.5, -21, 1, -68)
        left.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        left.BackgroundTransparency = 1
        left.CanvasSize = UDim2.new(0, 0, 0, 0)
        left.AutomaticCanvasSize = Enum.AutomaticSize.Y
        left.ScrollBarThickness = 0
        left.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        left.Visible = true
        left.Rotation = 0
        left.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        left.Position = UDim2.new(0, 14, 0, 54)
        left.Active = true
        left.ScrollingEnabled = true
        left.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        left.CanvasPosition = Vector2.new(0, 0)
        left.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = left

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = left

        local dropSection, dropElements = createSectionFrame(
            "DropSectionFrame",
            "Drop",
            "rbxassetid://10734883356",
            356
        )
        createToggleRow("Auto DropToggleRow", "Auto Drop", true).Parent = dropElements
        createToggleRow("Tp To ChestToggleRow", "Tp To Chest", true).Parent = dropElements
        createDropdownRow("Items", "[Select]").Parent = dropElements
        createDropdownRow("Chest", "[Select]").Parent = dropElements
        createAddItemTextboxRow().Parent = dropElements
        createFilterLogicRow().Parent = dropElements
        dropSection.Parent = left

        local autoWasteSection, autoWasteElements = createSectionFrame(
            "Auto WasteSectionFrame",
            "Auto Waste",
            "rbxassetid://7743873871",
            186
        )
        createToggleRow("Auto WasteToggleRow", "Auto Waste", true).Parent = autoWasteElements
        createDropdownRow("Fruit", "Bloodfruit").Parent = autoWasteElements
        createMaxFruitSliderRow().Parent = autoWasteElements
        autoWasteSection.Parent = left

        return left
    end

    local function createInventoryRightPanel()
        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sheenOverlay.Position = UDim2.new(0, 0, 0, 0)
            sheenOverlay.AnchorPoint = Vector2.new(0, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.9),
                NumberSequenceKeypoint.new(0.3, 0.96),
                NumberSequenceKeypoint.new(0.5, 1),
                NumberSequenceKeypoint.new(1, 1),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = parent

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shadeOverlay.Position = UDim2.new(0, 0, 0, 0)
            shadeOverlay.AnchorPoint = Vector2.new(0, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = parent
        end

        local function createFadeFrame(name, position)
            local fade = Instance.new("Frame")
            fade.Name = name
            fade.Visible = false
            fade.ClipsDescendants = false
            fade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fade.LayoutOrder = 0
            fade.BackgroundTransparency = 1
            fade.Rotation = 0
            fade.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            fade.Position = position
            fade.AnchorPoint = Vector2.new(0, 0)
            fade.ZIndex = 10
            fade.BorderSizePixel = 0
            fade.Size = UDim2.new(1, 0, 0, 22)

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = (name == "TopFadeFrame")
                and NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(0.7, 0.1),
                    NumberSequenceKeypoint.new(1, 1),
                })
                or NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(0.3, 0.1),
                    NumberSequenceKeypoint.new(1, 0),
                })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = fade

            return fade
        end

        local function createInspirationSectionFrame(sectionFrameName, sectionTitleText, sectionIconId, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionFrameName
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = sectionFrame

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Parent = sectionFrame

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27, 42, 53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.AnchorPoint = Vector2.new(0, 0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.ClipsDescendants = false
            separator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            separator.LayoutOrder = 0
            separator.BackgroundTransparency = 0.5
            separator.Rotation = 0
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.AnchorPoint = Vector2.new(0, 0)
            separator.ZIndex = 1
            separator.BorderSizePixel = 0
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.LayoutOrder = 0
            icon.ImageTransparency = 0
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Image = sectionIconId
            icon.TileSize = UDim2.new(1, 0, 1, 0)
            icon.ZIndex = 2
            icon.BorderSizePixel = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.BackgroundTransparency = 1
            icon.Rotation = 0
            icon.Visible = true
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.SliceScale = 1
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            icon.Parent = iconContainer

            local sectionTitle = Instance.new("TextLabel")
            sectionTitle.Name = "SectionTitle"
            sectionTitle.LayoutOrder = 0
            sectionTitle.TextWrapped = false
            sectionTitle.TextTransparency = 0
            sectionTitle.TextStrokeTransparency = 1
            sectionTitle.AnchorPoint = Vector2.new(0, 0)
            sectionTitle.ZIndex = 4
            sectionTitle.TextSize = 14
            sectionTitle.Size = UDim2.new(1, -54, 1, -1)
            sectionTitle.BorderSizePixel = 1
            sectionTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
            sectionTitle.BackgroundTransparency = 1
            sectionTitle.Text = sectionTitleText
            sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            sectionTitle.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            sectionTitle.Rotation = 0
            sectionTitle.Font = Enum.Font.GothamBold
            sectionTitle.Position = UDim2.new(0, 44, 0, 0)
            sectionTitle.Visible = true
            sectionTitle.TextYAlignment = Enum.TextYAlignment.Center
            sectionTitle.TextScaled = false
            sectionTitle.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sectionTitle.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = elementsContainer

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.VerticalAlignment = Enum.VerticalAlignment.Top
            list.FillDirection = Enum.FillDirection.Vertical
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Parent = elementsContainer

            local topFade = createFadeFrame("TopFadeFrame", UDim2.new(0, 0, 0, 0))
            topFade.Parent = scrollContainer

            local bottomFade = createFadeFrame("BottomFadeFrame", UDim2.new(0, 0, 1, -22))
            bottomFade.Parent = scrollContainer

            return sectionFrame, elementsContainer
        end

        local function createInspirationToggleRow(rowFrameName, labelText, includeKeybind, checkboxStrokeColor)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowFrameName
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = labelText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = checkboxStrokeColor or Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)
            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)
            checkbox.Parent = toggleRow

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)
                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createInspirationDropdownRow(labelText, buttonText)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.ClipsDescendants = false
            dropdownRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dropdownRow.LayoutOrder = 0
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.Rotation = 0
            dropdownRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dropdownRow.Position = UDim2.new(0, 0, 0, 0)
            dropdownRow.AnchorPoint = Vector2.new(0, 0)
            dropdownRow.ZIndex = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.Visible = true
            buttonContainer.ClipsDescendants = false
            buttonContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            buttonContainer.LayoutOrder = 0
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.Rotation = 0
            buttonContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.AnchorPoint = Vector2.new(0, 0)
            buttonContainer.ZIndex = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.LayoutOrder = 0
            dropdownButton.TextWrapped = false
            dropdownButton.TextTransparency = 0
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.ZIndex = 101
            dropdownButton.TextSize = 14
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.Text = buttonText
            dropdownButton.Modal = false
            dropdownButton.AutoButtonColor = false
            dropdownButton.Rotation = 0
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Visible = true
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.TextScaled = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.Parent = buttonContainer

            local dropdownCorner = Instance.new("UICorner")
            dropdownCorner.Name = "UICorner"
            dropdownCorner.CornerRadius = UDim.new(0, 8)
            dropdownCorner.Parent = dropdownButton

            local dropdownStroke = Instance.new("UIStroke")
            dropdownStroke.Name = "UIStroke"
            dropdownStroke.Thickness = 1
            dropdownStroke.Transparency = 0.4
            dropdownStroke.Color = Color3.fromRGB(55, 58, 61)
            dropdownStroke.ZIndex = 1
            dropdownStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            dropdownStroke.LineJoinMode = Enum.LineJoinMode.Round
            dropdownStroke.Parent = dropdownButton

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.LayoutOrder = 0
            arrow.ImageTransparency = 0
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Image = "rbxassetid://7072706796"
            arrow.TileSize = UDim2.new(1, 0, 1, 0)
            arrow.ZIndex = 102
            arrow.BorderSizePixel = 1
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.BackgroundTransparency = 1
            arrow.Rotation = 0
            arrow.Visible = true
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.SliceScale = 1
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrow.Parent = dropdownButton

            return dropdownRow
        end

        local function createInspirationTextboxRow(labelText, textboxName, placeholderText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local textboxContainer = Instance.new("Frame")
            textboxContainer.Name = "Frame"
            textboxContainer.Visible = true
            textboxContainer.ClipsDescendants = false
            textboxContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            textboxContainer.LayoutOrder = 0
            textboxContainer.BackgroundTransparency = 1
            textboxContainer.Rotation = 0
            textboxContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            textboxContainer.Position = UDim2.new(0.4, 0, 0, 0)
            textboxContainer.AnchorPoint = Vector2.new(0, 0)
            textboxContainer.ZIndex = 1
            textboxContainer.BorderSizePixel = 1
            textboxContainer.Size = UDim2.new(0.6, 0, 1, 0)
            textboxContainer.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.LayoutOrder = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.BorderSizePixel = 0
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.PlaceholderText = placeholderText
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.MultiLine = false
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.ClearTextOnFocus = false
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = textboxContainer

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingTop = UDim.new(0, 0)
            textboxPadding.PaddingBottom = UDim.new(0, 0)
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.Modal = false
            clearButton.BackgroundTransparency = 1
            clearButton.AutoButtonColor = true
            clearButton.Rotation = 0
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.Visible = true
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            return row
        end

        local right = Instance.new("ScrollingFrame")
        right.Name = "RightContentFrame1"
        right.LayoutOrder = 0
        right.AnchorPoint = Vector2.new(0, 0)
        right.ScrollingDirection = Enum.ScrollingDirection.XY
        right.ZIndex = 1
        right.BorderSizePixel = 0
        right.Size = UDim2.new(0.5, -21, 1, -68)
        right.Position = UDim2.new(0.5, 7, 0, 54)
        right.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        right.BackgroundTransparency = 1
        right.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        right.CanvasSize = UDim2.new(0, 0, 0, 0)
        right.AutomaticCanvasSize = Enum.AutomaticSize.Y
        right.ScrollBarThickness = 0
        right.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        right.Visible = true
        right.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        right.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        right.ScrollingEnabled = true
        right.CanvasPosition = Vector2.new(0, 0)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = right

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = right

        local autoCraftSection, autoCraftElements = createInspirationSectionFrame(
            "Auto CraftSectionFrame",
            "Auto Craft",
            "rbxassetid://10723405360",
            174
        )
        createInspirationToggleRow("Craft ItemToggleRow", "Craft Item", true).Parent = autoCraftElements
        createInspirationDropdownRow("Items", "[Select]").Parent = autoCraftElements
        createInspirationTextboxRow("Add Item", "Add ItemTextbox", "write here").Parent = autoCraftElements
        autoCraftSection.Parent = right

        local autoPotionSection, autoPotionElements = createInspirationSectionFrame(
            "Auto PotionSectionFrame",
            "Auto Potion",
            "rbxassetid://10734883986",
            132
        )
        createInspirationToggleRow("Auto PotionToggleRow", "Auto Potion", true).Parent = autoPotionElements
        createInspirationDropdownRow("Recipe", "Weakness").Parent = autoPotionElements
        autoPotionSection.Parent = right

        return right
    end

    local function createMiscLeftPanel()
        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sheenOverlay.Position = UDim2.new(0, 0, 0, 0)
            sheenOverlay.AnchorPoint = Vector2.new(0, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.25),
                NumberSequenceKeypoint.new(0.6, 0.45),
                NumberSequenceKeypoint.new(1, 0.2),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = parent

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shadeOverlay.Position = UDim2.new(0, 0, 0, 0)
            shadeOverlay.AnchorPoint = Vector2.new(0, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = parent
        end

        local function createFadeFrame(name, position)
            local fade = Instance.new("Frame")
            fade.Name = name
            fade.Visible = false
            fade.ClipsDescendants = false
            fade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fade.LayoutOrder = 0
            fade.BackgroundTransparency = 1
            fade.Rotation = 0
            fade.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            fade.Position = position
            fade.AnchorPoint = Vector2.new(0, 0)
            fade.ZIndex = 10
            fade.BorderSizePixel = 0
            fade.Size = UDim2.new(1, 0, 0, 22)

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = (name == "TopFadeFrame")
                and NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(0.7, 0.1),
                    NumberSequenceKeypoint.new(1, 1),
                })
                or NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(0.3, 0.1),
                    NumberSequenceKeypoint.new(1, 0),
                })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = fade

            return fade
        end

        local function createInspirationSectionFrame(sectionFrameName, sectionTitleText, sectionIconId, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionFrameName
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = sectionFrame

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Parent = sectionFrame

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27, 42, 53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.AnchorPoint = Vector2.new(0, 0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.ClipsDescendants = false
            separator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            separator.LayoutOrder = 0
            separator.BackgroundTransparency = 0.5
            separator.Rotation = 0
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.AnchorPoint = Vector2.new(0, 0)
            separator.ZIndex = 1
            separator.BorderSizePixel = 0
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.LayoutOrder = 0
            icon.ImageTransparency = 0
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Image = sectionIconId
            icon.TileSize = UDim2.new(1, 0, 1, 0)
            icon.ZIndex = 2
            icon.BorderSizePixel = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.BackgroundTransparency = 1
            icon.Rotation = 0
            icon.Visible = true
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.SliceScale = 1
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            icon.Parent = iconContainer

            local sectionTitle = Instance.new("TextLabel")
            sectionTitle.Name = "SectionTitle"
            sectionTitle.LayoutOrder = 0
            sectionTitle.TextWrapped = false
            sectionTitle.TextTransparency = 0
            sectionTitle.TextStrokeTransparency = 1
            sectionTitle.AnchorPoint = Vector2.new(0, 0)
            sectionTitle.ZIndex = 4
            sectionTitle.TextSize = 14
            sectionTitle.Size = UDim2.new(1, -54, 1, -1)
            sectionTitle.BorderSizePixel = 1
            sectionTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
            sectionTitle.BackgroundTransparency = 1
            sectionTitle.Text = sectionTitleText
            sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            sectionTitle.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            sectionTitle.Rotation = 0
            sectionTitle.Font = Enum.Font.GothamBold
            sectionTitle.Position = UDim2.new(0, 44, 0, 0)
            sectionTitle.Visible = true
            sectionTitle.TextYAlignment = Enum.TextYAlignment.Center
            sectionTitle.TextScaled = false
            sectionTitle.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sectionTitle.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = elementsContainer

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.VerticalAlignment = Enum.VerticalAlignment.Top
            list.FillDirection = Enum.FillDirection.Vertical
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Parent = elementsContainer

            local topFade = createFadeFrame("TopFadeFrame", UDim2.new(0, 0, 0, 0))
            topFade.Parent = scrollContainer

            local bottomFade = createFadeFrame("BottomFadeFrame", UDim2.new(0, 0, 1, -22))
            bottomFade.Parent = scrollContainer

            return sectionFrame, elementsContainer
        end

        local function createInspirationToggleRow(rowFrameName, labelText, includeKeybind, checkboxStrokeColor)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowFrameName
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = labelText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = checkboxStrokeColor or Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)
            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)
            checkbox.Parent = toggleRow

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)
                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createInspirationTextboxRow(labelText, textboxName, placeholderText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local textboxContainer = Instance.new("Frame")
            textboxContainer.Name = "Frame"
            textboxContainer.Visible = true
            textboxContainer.ClipsDescendants = false
            textboxContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            textboxContainer.LayoutOrder = 0
            textboxContainer.BackgroundTransparency = 1
            textboxContainer.Rotation = 0
            textboxContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            textboxContainer.Position = UDim2.new(0.4, 0, 0, 0)
            textboxContainer.AnchorPoint = Vector2.new(0, 0)
            textboxContainer.ZIndex = 1
            textboxContainer.BorderSizePixel = 1
            textboxContainer.Size = UDim2.new(0.6, 0, 1, 0)
            textboxContainer.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.LayoutOrder = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.BorderSizePixel = 0
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.PlaceholderText = placeholderText
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.MultiLine = false
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.ClearTextOnFocus = false
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = textboxContainer

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingTop = UDim.new(0, 0)
            textboxPadding.PaddingBottom = UDim.new(0, 0)
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.Modal = false
            clearButton.BackgroundTransparency = 1
            clearButton.AutoButtonColor = true
            clearButton.Rotation = 0
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.Visible = true
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            return row
        end

        local function createInspirationActionButton(buttonName, buttonText)
            local button = Instance.new("TextButton")
            button.Name = buttonName
            button.LayoutOrder = 0
            button.TextWrapped = false
            button.TextTransparency = 0
            button.AnchorPoint = Vector2.new(0, 0)
            button.ZIndex = 1
            button.TextSize = 14
            button.Size = UDim2.new(1, 0, 0, 28)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.TextXAlignment = Enum.TextXAlignment.Center
            button.Text = buttonText
            button.Modal = false
            button.AutoButtonColor = false
            button.Rotation = 0
            button.Font = Enum.Font.GothamBold
            button.Position = UDim2.new(0, 0, 0, 0)
            button.Visible = true
            button.TextYAlignment = Enum.TextYAlignment.Center
            button.TextScaled = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = button

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = button

            local sheen = Instance.new("UIGradient")
            sheen.Name = "UIGradient"
            sheen.Offset = Vector2.new(0, 0)
            sheen.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            sheen.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheen.Rotation = 90
            sheen.Parent = button

            return button
        end

        local function createInspirationSliderRow(rowName, labelText, defaultValue, minValue, maxValue)
            local sliderRow = Instance.new("Frame")
            sliderRow.Name = rowName .. "SliderRow"
            sliderRow.Visible = true
            sliderRow.ClipsDescendants = false
            sliderRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderRow.LayoutOrder = 0
            sliderRow.BackgroundTransparency = 1
            sliderRow.Rotation = 0
            sliderRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderRow.Position = UDim2.new(0, 0, 0, 0)
            sliderRow.AnchorPoint = Vector2.new(0, 0)
            sliderRow.ZIndex = 1
            sliderRow.BorderSizePixel = 1
            sliderRow.Size = UDim2.new(1, 0, 0, 44)

            local labelFrame = Instance.new("Frame")
            labelFrame.Name = "Frame"
            labelFrame.Visible = true
            labelFrame.ClipsDescendants = false
            labelFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            labelFrame.LayoutOrder = 0
            labelFrame.BackgroundTransparency = 1
            labelFrame.Rotation = 0
            labelFrame.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            labelFrame.Position = UDim2.new(0, 0, 0, 0)
            labelFrame.AnchorPoint = Vector2.new(0, 0)
            labelFrame.ZIndex = 1
            labelFrame.BorderSizePixel = 1
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = sliderRow

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "Label"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(1, -80, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = labelFrame

            local valueTextBox = Instance.new("TextBox")
            valueTextBox.Name = "ValueTextBox"
            valueTextBox.LayoutOrder = 0
            valueTextBox.AnchorPoint = Vector2.new(0, 0)
            valueTextBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
            valueTextBox.BorderSizePixel = 0
            valueTextBox.ZIndex = 1
            valueTextBox.TextSize = 14
            valueTextBox.Size = UDim2.new(0, 75, 0, 16)
            valueTextBox.BackgroundTransparency = 0.3
            valueTextBox.PlaceholderText = "0"
            valueTextBox.TextYAlignment = Enum.TextYAlignment.Center
            valueTextBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueTextBox.TextXAlignment = Enum.TextXAlignment.Center
            valueTextBox.Text = tostring(defaultValue)
            valueTextBox.TextEditable = true
            valueTextBox.MultiLine = false
            valueTextBox.Rotation = 0
            valueTextBox.Font = Enum.Font.Code
            valueTextBox.Position = UDim2.new(1, -75, 0, 1)
            valueTextBox.Visible = true
            valueTextBox.ClearTextOnFocus = false
            valueTextBox.TextScaled = false
            valueTextBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueTextBox.Parent = labelFrame

            local textBoxCorner = Instance.new("UICorner")
            textBoxCorner.Name = "UICorner"
            textBoxCorner.CornerRadius = UDim.new(0, 4)
            textBoxCorner.Parent = valueTextBox

            local textBoxStroke = Instance.new("UIStroke")
            textBoxStroke.Name = "UIStroke"
            textBoxStroke.Thickness = 1
            textBoxStroke.Transparency = 0.5
            textBoxStroke.Color = Color3.fromRGB(40, 43, 46)
            textBoxStroke.ZIndex = 1
            textBoxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textBoxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textBoxStroke.Parent = valueTextBox

            local sliderTrackArea = Instance.new("Frame")
            sliderTrackArea.Name = "SliderTrackArea"
            sliderTrackArea.Visible = true
            sliderTrackArea.ClipsDescendants = false
            sliderTrackArea.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sliderTrackArea.LayoutOrder = 0
            sliderTrackArea.BackgroundTransparency = 1
            sliderTrackArea.Rotation = 0
            sliderTrackArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sliderTrackArea.Position = UDim2.new(0, 0, 0, 24)
            sliderTrackArea.AnchorPoint = Vector2.new(0, 0)
            sliderTrackArea.ZIndex = 1
            sliderTrackArea.BorderSizePixel = 1
            sliderTrackArea.Size = UDim2.new(1, 0, 0, 16)
            sliderTrackArea.Parent = sliderRow

            local trackVisual = Instance.new("Frame")
            trackVisual.Name = "TrackVisual"
            trackVisual.Visible = true
            trackVisual.ClipsDescendants = false
            trackVisual.BorderColor3 = Color3.fromRGB(27, 42, 53)
            trackVisual.LayoutOrder = 0
            trackVisual.BackgroundTransparency = 0
            trackVisual.Rotation = 0
            trackVisual.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            trackVisual.Position = UDim2.new(0, 0, 0.5, -2)
            trackVisual.AnchorPoint = Vector2.new(0, 0)
            trackVisual.ZIndex = 1
            trackVisual.BorderSizePixel = 0
            trackVisual.Size = UDim2.new(1, 0, 0, 4)
            trackVisual.Parent = sliderTrackArea

            local trackCorner = Instance.new("UICorner")
            trackCorner.Name = "UICorner"
            trackCorner.CornerRadius = UDim.new(0, 100)
            trackCorner.Parent = trackVisual

            local trackStroke = Instance.new("UIStroke")
            trackStroke.Name = "UIStroke"
            trackStroke.Thickness = 1
            trackStroke.Transparency = 0.7
            trackStroke.Color = Color3.fromRGB(40, 43, 46)
            trackStroke.ZIndex = 1
            trackStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            trackStroke.LineJoinMode = Enum.LineJoinMode.Round
            trackStroke.Parent = trackVisual

            local fillBar = Instance.new("Frame")
            fillBar.Name = "FillBar"
            fillBar.Visible = true
            fillBar.ClipsDescendants = false
            fillBar.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fillBar.LayoutOrder = 0
            fillBar.BackgroundTransparency = 0
            fillBar.Rotation = 0
            fillBar.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            fillBar.Position = UDim2.new(0, 0, 0, 0)
            fillBar.AnchorPoint = Vector2.new(0, 0)
            fillBar.ZIndex = 2
            fillBar.BorderSizePixel = 0
            fillBar.Size = UDim2.new(0, 0, 1, 0)
            fillBar.Parent = trackVisual

            local fillCorner = Instance.new("UICorner")
            fillCorner.Name = "UICorner"
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fillBar

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(148, 32, 32)),
                ColorSequenceKeypoint.new(0.55, Color3.fromRGB(190, 45, 45)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 75, 75)),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fillBar

            local handle = Instance.new("Frame")
            handle.Name = "Handle"
            handle.Visible = true
            handle.ClipsDescendants = false
            handle.BorderColor3 = Color3.fromRGB(27, 42, 53)
            handle.LayoutOrder = 0
            handle.BackgroundTransparency = 0
            handle.Rotation = 0
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.Position = UDim2.new(0.5, 0, 0.5, 0)
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.ZIndex = 3
            handle.BorderSizePixel = 0
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.Parent = sliderTrackArea

            local handleCorner = Instance.new("UICorner")
            handleCorner.Name = "UICorner"
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.LayoutOrder = 0
            clickArea.TextWrapped = false
            clickArea.TextTransparency = 0
            clickArea.AnchorPoint = Vector2.new(0, 0)
            clickArea.ZIndex = 4
            clickArea.TextSize = 8
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.BorderSizePixel = 1
            clickArea.BackgroundTransparency = 1
            clickArea.TextColor3 = Color3.fromRGB(27, 42, 53)
            clickArea.TextXAlignment = Enum.TextXAlignment.Center
            clickArea.Text = ""
            clickArea.Modal = false
            clickArea.AutoButtonColor = true
            clickArea.Rotation = 0
            clickArea.Font = Enum.Font.Legacy
            clickArea.Position = UDim2.new(0, 0, 0, 0)
            clickArea.Visible = true
            clickArea.TextYAlignment = Enum.TextYAlignment.Center
            clickArea.TextScaled = false
            clickArea.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clickArea.Parent = sliderTrackArea

            local bubble = Instance.new("TextLabel")
            bubble.Name = "Bubble"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 140, 0, 28)
            bubble.Size = UDim2.new(0, 28, 0, 18)
            bubble.BackgroundTransparency = 0
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = sliderRow

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            local clamped = math.clamp(defaultValue, minValue, maxValue)
            local alpha = (maxValue == minValue) and 0 or ((clamped - minValue) / (maxValue - minValue))
            fillBar.Size = UDim2.new(alpha, 0, 1, 0)
            handle.Position = UDim2.new(alpha, 0, 0.5, 0)

            return sliderRow
        end

        local left = Instance.new("ScrollingFrame")
        left.Name = "LeftContentFrame1"
        left.LayoutOrder = 0
        left.AnchorPoint = Vector2.new(0, 0)
        left.ScrollingDirection = Enum.ScrollingDirection.XY
        left.ZIndex = 1
        left.BorderSizePixel = 0
        left.Size = UDim2.new(0.5, -21, 1, -68)
        left.Position = UDim2.new(0, 14, 0, 54)
        left.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        left.BackgroundTransparency = 1
        left.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        left.CanvasSize = UDim2.new(0, 0, 0, 0)
        left.AutomaticCanvasSize = Enum.AutomaticSize.Y
        left.ScrollBarThickness = 0
        left.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        left.Visible = true
        left.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        left.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        left.ScrollingEnabled = true
        left.CanvasPosition = Vector2.new(0, 0)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = left

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = left

        -- ESP
        local espSection, espElements = createInspirationSectionFrame(
            "ESPSectionFrame",
            "ESP",
            "rbxassetid://10747373176",
            216
        )
        createInspirationToggleRow("PlayerEspToggleRow", "Player Esp", true).Parent = espElements
        createInspirationToggleRow("TeamColorsToggleRow", "Team Colors", true).Parent = espElements
        createInspirationToggleRow("ShowToolToggleRow", "Show Tool", true).Parent = espElements
        createInspirationToggleRow("ShowArmorToggleRow", "Show Armor", true).Parent = espElements
        espSection.Parent = left

        -- World
        local worldSection, worldElements = createInspirationSectionFrame(
            "WorldSectionFrame",
            "World",
            "rbxassetid://11887653877",
            124
        )
        createInspirationActionButton("VoidWorldButton", "Void World").Parent = worldElements
        createInspirationActionButton("OverworldButton", "Overworld").Parent = worldElements
        worldSection.Parent = left

        -- Server
        local serverSection, serverElements = createInspirationSectionFrame(
            "ServerSectionFrame",
            "Server",
            "rbxassetid://10723405749",
            280
        )
        createInspirationTextboxRow("JobId", "JobIdTextbox", "jobid").Parent = serverElements
        createInspirationActionButton("TeleportToServerButton", "Teleport To Server").Parent = serverElements
        createInspirationActionButton("GetJobIdButton", "Get Jobid").Parent = serverElements
        createInspirationActionButton("RejoinButton", "Rejoin").Parent = serverElements
        createInspirationActionButton("TeleportToSmallServerButton", "Teleport To Small Server").Parent = serverElements
        createInspirationActionButton("TeleportToBigServerButton", "Teleport To Big Server").Parent = serverElements
        serverSection.Parent = left

        -- Render
        local renderSection, renderElements = createInspirationSectionFrame(
            "RenderSectionFrame",
            "Render",
            "rbxassetid://10723346959",
            312
        )
        createInspirationToggleRow("GpuSaverToggleRow", "Gpu Saver", true).Parent = renderElements
        createInspirationToggleRow("CpuSaverToggleRow", "Cpu Saver", true).Parent = renderElements
        createInspirationToggleRow("ChangeTimeToggleRow", "Change Time", true).Parent = renderElements
        createInspirationToggleRow("RemoveRainToggleRow", "Remove Rain", true).Parent = renderElements
        createInspirationToggleRow("RemoveFogToggleRow", "Remove Fog", true).Parent = renderElements
        createInspirationSliderRow("Time", "Time", 14, 0, 24).Parent = renderElements
        renderSection.Parent = left

        return left
    end

    local function createTweenLeftPanel()
        local function applySheenGradient(target)
            local sheen = Instance.new("UIGradient")
            sheen.Name = "UIGradient"
            sheen.Offset = Vector2.new(0, 0)
            sheen.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            sheen.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheen.Rotation = 90
            sheen.Parent = target
        end

        local function createCardSection(sectionName, titleText, iconId)
            local section = Instance.new("Frame")
            section.Name = sectionName
            section.Visible = true
            section.BorderSizePixel = 0
            section.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            section.BackgroundTransparency = 0
            section.Size = UDim2.new(1, 0, 0, 0)
            section.AutomaticSize = Enum.AutomaticSize.Y

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = section

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = section

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.BackgroundTransparency = 0
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.ZIndex = 1
            darkSweep.Parent = section

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.BorderSizePixel = 0
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.Parent = section

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 0
            header.Size = UDim2.new(1, 0, 0, 36)
            header.ZIndex = 3
            header.Parent = section

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.BackgroundTransparency = 0.5
            separator.BorderSizePixel = 0
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.BorderSizePixel = 0
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.BackgroundTransparency = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.Image = iconId
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.Parent = iconContainer

            local title = Instance.new("TextLabel")
            title.Name = "Title"
            title.BackgroundTransparency = 1
            title.BorderSizePixel = 0
            title.Position = UDim2.new(0, 44, 0, 0)
            title.Size = UDim2.new(1, -54, 1, -1)
            title.Font = Enum.Font.GothamBold
            title.TextSize = 14
            title.TextColor3 = Color3.fromRGB(230, 230, 230)
            title.TextXAlignment = Enum.TextXAlignment.Left
            title.Text = titleText
            title.Parent = header

            local body = Instance.new("Frame")
            body.Name = "Body"
            body.BackgroundTransparency = 1
            body.BorderSizePixel = 0
            body.Position = UDim2.new(0, 0, 0, 36)
            body.Size = UDim2.new(1, 0, 0, 0)
            body.AutomaticSize = Enum.AutomaticSize.Y
            body.ZIndex = 3
            body.Parent = section

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = body

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.FillDirection = Enum.FillDirection.Vertical
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.Parent = body

            return section, body
        end

        local function createActionButton(name, text)
            local button = Instance.new("TextButton")
            button.Name = name
            button.AutoButtonColor = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            button.BorderSizePixel = 0
            button.Size = UDim2.new(1, 0, 0, 28)
            button.Font = Enum.Font.GothamBold
            button.TextSize = 14
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.Text = text

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = button

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = button

            applySheenGradient(button)
            bindButtonStrokeHover(button, stroke)

            return button
        end

        local function createLabeledRow(labelText, rightElement)
            local row = Instance.new("Frame")
            row.Name = "Row"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(0.4, -5, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = row

            rightElement.AnchorPoint = Vector2.new(0, 0.5)
            rightElement.Position = UDim2.new(0.4, 0, 0.5, 0)
            rightElement.Parent = row

            return row
        end

        local function createDropdownRow(labelText, buttonText)
            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "Dropdown"
            dropdownButton.AutoButtonColor = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.Size = UDim2.new(0.6, 0, 0, 24)
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.TextSize = 14
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.Text = buttonText

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = dropdownButton

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = dropdownButton

            applySheenGradient(dropdownButton)
            bindButtonStrokeHover(dropdownButton, stroke)

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "Arrow"
            arrow.BackgroundTransparency = 1
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.Image = "rbxassetid://7072706796"
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.Parent = dropdownButton

            return createLabeledRow(labelText, dropdownButton)
        end

        local function createToggleRow(labelText)
            local row = Instance.new("Frame")
            row.Name = "ToggleRow"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = row

            local keybind = Instance.new("TextButton")
            keybind.Name = "KeybindButton"
            keybind.AutoButtonColor = false
            keybind.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            keybind.BackgroundTransparency = 0.2
            keybind.BorderSizePixel = 0
            keybind.AnchorPoint = Vector2.new(1, 0.5)
            keybind.Position = UDim2.new(1, -32, 0.5, 0)
            keybind.Size = UDim2.new(0, 44, 0, 20)
            keybind.Font = Enum.Font.GothamBold
            keybind.TextSize = 14
            keybind.TextColor3 = Color3.fromRGB(160, 160, 165)
            keybind.Text = "None"

            local keyCorner = Instance.new("UICorner")
            keyCorner.CornerRadius = UDim.new(0, 6)
            keyCorner.Parent = keybind

            local keyStroke = Instance.new("UIStroke")
            keyStroke.Thickness = 1
            keyStroke.Transparency = 0.4
            keyStroke.Color = Color3.fromRGB(55, 58, 61)
            keyStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            keyStroke.LineJoinMode = Enum.LineJoinMode.Round
            keyStroke.Parent = keybind

            applySheenGradient(keybind)
            bindButtonStrokeHover(keybind, keyStroke)

            keybind.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AutoButtonColor = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.Text = ""

            local cbCorner = Instance.new("UICorner")
            cbCorner.CornerRadius = UDim.new(0, 6)
            cbCorner.Parent = checkbox

            local cbStroke = Instance.new("UIStroke")
            cbStroke.Thickness = 1
            cbStroke.Transparency = 0.4
            cbStroke.Color = Color3.fromRGB(55, 58, 61)
            cbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            cbStroke.LineJoinMode = Enum.LineJoinMode.Round
            cbStroke.Parent = checkbox

            applySheenGradient(checkbox)
            bindButtonStrokeHover(checkbox, cbStroke)

            local check = Instance.new("ImageLabel")
            check.Name = "Check"
            check.BackgroundTransparency = 1
            check.Size = UDim2.new(1, -6, 1, -6)
            check.AnchorPoint = Vector2.new(0.5, 0.5)
            check.Position = UDim2.new(0.5, 0, 0.5, 0)
            check.Image = "rbxassetid://10709790644"
            check.ImageColor3 = Color3.fromRGB(230, 230, 230)
            check.ImageTransparency = 1
            check.ScaleType = Enum.ScaleType.Stretch
            check.Parent = checkbox

            bindCheckboxToggle(checkbox)

            checkbox.Parent = row

            local keybindTarget = Instance.new("ObjectValue")
            keybindTarget.Name = "KeybindTarget"
            keybindTarget.Value = checkbox
            keybindTarget.Parent = keybind

            bindKeybindButton(keybind)

            return row
        end

        local function createTextboxRow(labelText, textboxName, placeholderText)
            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.BorderSizePixel = 0
            textbox.Size = UDim2.new(0.6, 0, 0, 24)
            textbox.Font = Enum.Font.GothamBold
            textbox.TextSize = 14
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.PlaceholderText = placeholderText
            textbox.ClearTextOnFocus = false
            textbox.Text = ""

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = textbox

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = textbox

            applySheenGradient(textbox)

            local padding = Instance.new("UIPadding")
            padding.PaddingLeft = UDim.new(0, 10)
            padding.PaddingRight = UDim.new(0, 10)
            padding.Parent = textbox

            return createLabeledRow(labelText, textbox)
        end

        local function createDivider(text)
            local row = Instance.new("Frame")
            row.Name = "Divider"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 22)

            local label = Instance.new("TextLabel")
            label.Name = "DividerLabel"
            label.BackgroundTransparency = 1
            label.AnchorPoint = Vector2.new(0.5, 0.5)
            label.Position = UDim2.new(0.5, 0, 0.5, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.Text = text
            label.Size = UDim2.new(0, 0, 0, 14)
            label.Parent = row

            local leftLine = Instance.new("Frame")
            leftLine.BorderSizePixel = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.Size = UDim2.new(0, 71, 0, 1)
            leftLine.Parent = row

            local rightLine = Instance.new("Frame")
            rightLine.BorderSizePixel = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.Size = UDim2.new(0, 71, 0, 1)
            rightLine.Parent = row

            return row
        end

        local function createSliderRow(labelText, defaultValue)
            local row = Instance.new("Frame")
            row.Name = labelText:gsub("%s+", "") .. "SliderRow"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 44)

            local labelFrame = Instance.new("Frame")
            labelFrame.BackgroundTransparency = 1
            labelFrame.BorderSizePixel = 0
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = row

            local label = Instance.new("TextLabel")
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = labelFrame

            local valueBox = Instance.new("TextBox")
            valueBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueBox.BackgroundTransparency = 0.3
            valueBox.BorderSizePixel = 0
            valueBox.AnchorPoint = Vector2.new(1, 0)
            valueBox.Position = UDim2.new(1, 0, 0, 1)
            valueBox.Size = UDim2.new(0, 75, 0, 16)
            valueBox.Font = Enum.Font.Code
            valueBox.TextSize = 14
            valueBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueBox.Text = tostring(defaultValue)
            valueBox.ClearTextOnFocus = false
            valueBox.Parent = labelFrame

            local vbCorner = Instance.new("UICorner")
            vbCorner.CornerRadius = UDim.new(0, 4)
            vbCorner.Parent = valueBox

            local vbStroke = Instance.new("UIStroke")
            vbStroke.Thickness = 1
            vbStroke.Transparency = 0.5
            vbStroke.Color = Color3.fromRGB(40, 43, 46)
            vbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            vbStroke.LineJoinMode = Enum.LineJoinMode.Round
            vbStroke.Parent = valueBox

            applySheenGradient(valueBox)

            local barFrame = Instance.new("Frame")
            barFrame.BackgroundTransparency = 1
            barFrame.BorderSizePixel = 0
            barFrame.Position = UDim2.new(0, 0, 0, 24)
            barFrame.Size = UDim2.new(1, 0, 0, 16)
            barFrame.Parent = row

            local bar = Instance.new("Frame")
            bar.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bar.BorderSizePixel = 0
            bar.Position = UDim2.new(0, 0, 0.5, -2)
            bar.Size = UDim2.new(1, 0, 0, 4)
            bar.Parent = barFrame

            local barCorner = Instance.new("UICorner")
            barCorner.CornerRadius = UDim.new(0, 100)
            barCorner.Parent = bar

            local barStroke = Instance.new("UIStroke")
            barStroke.Thickness = 1
            barStroke.Transparency = 0.7
            barStroke.Color = Color3.fromRGB(40, 43, 46)
            barStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            barStroke.LineJoinMode = Enum.LineJoinMode.Round
            barStroke.Parent = bar

            local fill = Instance.new("Frame")
            -- Use white base so gradient shows true colors.
            fill.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            fill.BorderSizePixel = 0
            fill.Size = UDim2.new(0.2, 0, 1, 0)
            fill.Parent = bar

            local fillCorner = Instance.new("UICorner")
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fill

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, ACCENT_BLACK),
                ColorSequenceKeypoint.new(1, ACCENT_PRIMARY),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fill

            local handle = Instance.new("Frame")
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0.2, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.Parent = barFrame

            local handleCorner = Instance.new("UICorner")
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 0
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.ZIndex = 4
            clickArea.Parent = barFrame

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = row

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local minV = 0
            local maxV = 100
            if maxV == minV then
                maxV = minV + 1
            end

            local currentValue = tonumber(defaultValue) or minV
            currentValue = math.clamp(math.floor(currentValue + 0.5), minV, maxV)
            local currentRatio = math.clamp((currentValue - minV) / (maxV - minV), 0, 1)
            local targetRatio = currentRatio

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function clampAndRound(v)
                v = tonumber(v) or currentValue
                v = math.floor(v + 0.5)
                return math.clamp(v, minV, maxV)
            end

            local function ratioFromValue(v)
                return math.clamp((v - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                return clampAndRound(minV + (maxV - minV) * r)
            end

            local function applyVisual(r)
                fill.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local function setValue(v, tween)
                currentValue = clampAndRound(v)
                row:SetAttribute("SliderValue", currentValue)
                valueBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)
                targetRatio = ratioFromValue(currentValue)

                if tween then
                    TweenService:Create(fill, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)

                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = bar.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - bar.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        row:SetAttribute("SliderValue", currentValue)
                        valueBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            setValue(currentValue, false)

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueBox.FocusLost:Connect(function()
                local n = tonumber(valueBox.Text)
                if n == nil then
                    valueBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return row
        end

        local left = Instance.new("ScrollingFrame")
        left.Name = "TweenLeftContentFrame1"
        left.LayoutOrder = 0
        left.ScrollingDirection = Enum.ScrollingDirection.XY
        left.BorderSizePixel = 0
        left.Size = UDim2.new(0.5, -21, 1, -68)
        left.Position = UDim2.new(0, 14, 0, 54)
        left.ScrollBarThickness = 0
        left.BackgroundTransparency = 1
        left.CanvasSize = UDim2.new(0, 0, 0, 0)
        left.AutomaticCanvasSize = Enum.AutomaticSize.Y

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = left

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.Parent = left

        local positionSection, positionBody = createCardSection(
            "TweenPositionSection",
            "Position Shit",
            "rbxassetid://10734895310"
        )
        createDropdownRow("Positions", "[Empty]").Parent = positionBody
        createToggleRow("Hide Positions").Parent = positionBody
        createActionButton("SetNewPositionButton", "Set New Position").Parent = positionBody
        createActionButton("ClearPositionsButton", "Clear Positions").Parent = positionBody
        createActionButton("ReplacePositionButton", "Replace Position").Parent = positionBody
        createActionButton("DeletePositionButton", "Delete Position").Parent = positionBody
        createSliderRow("Wait Time", 1).Parent = positionBody
        createActionButton("AddWaitButton", "Add Wait").Parent = positionBody
        createDivider("Tool Utilities").Parent = positionBody
        createTextboxRow("Tool Name", "ToolNameTextbox", "").Parent = positionBody
        createActionButton("EquipToolOnPosButton", "Equip Tool On Pos").Parent = positionBody
        positionSection.Parent = left

        local recordingSection, recordingBody = createCardSection(
            "TweenRecordingSection",
            "Recording Shit",
            "rbxassetid://10734975214"
        )
        createToggleRow("Record Positions").Parent = recordingBody
        createSliderRow("Update Rate (Distance)", 1).Parent = recordingBody
        createActionButton("ManualUpdButton", "Manual Upd").Parent = recordingBody
        recordingSection.Parent = left

        local settingsSection, settingsBody = createCardSection(
            "TweenSettingsSection",
            "Settings Shit",
            "rbxassetid://10747372167"
        )
        createSliderRow("Speed Value", 21).Parent = settingsBody
        createSliderRow("Height Value", 0).Parent = settingsBody
        settingsSection.Parent = left

        return left
    end

    local function createTweenRightPanel()
        local function applySheenGradient(target)
            local sheen = Instance.new("UIGradient")
            sheen.Name = "UIGradient"
            sheen.Offset = Vector2.new(0, 0)
            sheen.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            sheen.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheen.Rotation = 90
            sheen.Parent = target
        end

        local function createCardSection(sectionName, titleText, iconId)
            local section = Instance.new("Frame")
            section.Name = sectionName
            section.Visible = true
            section.BorderSizePixel = 0
            section.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            section.BackgroundTransparency = 0
            section.Size = UDim2.new(1, 0, 0, 0)
            section.AutomaticSize = Enum.AutomaticSize.Y

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = section

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = section

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.BackgroundTransparency = 0
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.ZIndex = 1
            darkSweep.Parent = section

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.BorderSizePixel = 0
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.Parent = section

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.BackgroundTransparency = 1
            header.BorderSizePixel = 0
            header.Size = UDim2.new(1, 0, 0, 36)
            header.ZIndex = 3
            header.Parent = section

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.BackgroundTransparency = 0.5
            separator.BorderSizePixel = 0
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.BorderSizePixel = 0
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.BackgroundTransparency = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.Image = iconId
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.Parent = iconContainer

            local title = Instance.new("TextLabel")
            title.Name = "Title"
            title.BackgroundTransparency = 1
            title.BorderSizePixel = 0
            title.Position = UDim2.new(0, 44, 0, 0)
            title.Size = UDim2.new(1, -54, 1, -1)
            title.Font = Enum.Font.GothamBold
            title.TextSize = 14
            title.TextColor3 = Color3.fromRGB(230, 230, 230)
            title.TextXAlignment = Enum.TextXAlignment.Left
            title.Text = titleText
            title.Parent = header

            local body = Instance.new("Frame")
            body.Name = "Body"
            body.BackgroundTransparency = 1
            body.BorderSizePixel = 0
            body.Position = UDim2.new(0, 0, 0, 36)
            body.Size = UDim2.new(1, 0, 0, 0)
            body.AutomaticSize = Enum.AutomaticSize.Y
            body.ZIndex = 3
            body.Parent = section

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = body

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.FillDirection = Enum.FillDirection.Vertical
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.Parent = body

            return section, body
        end

        local function createActionButton(name, text)
            local button = Instance.new("TextButton")
            button.Name = name
            button.AutoButtonColor = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            button.BorderSizePixel = 0
            button.Size = UDim2.new(1, 0, 0, 28)
            button.Font = Enum.Font.GothamBold
            button.TextSize = 14
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.Text = text

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = button

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = button

            applySheenGradient(button)
            bindButtonStrokeHover(button, stroke)

            return button
        end

        local function createLabeledRow(labelText, rightElement)
            local row = Instance.new("Frame")
            row.Name = "Row"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(0.4, -5, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = row

            rightElement.AnchorPoint = Vector2.new(0, 0)
            rightElement.Position = UDim2.new(0.4, 0, 0, 0)
            rightElement.Parent = row

            return row
        end

        local function createDropdownRow(labelText, buttonText)
            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "Dropdown"
            dropdownButton.AutoButtonColor = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.Size = UDim2.new(0.6, 0, 1, 0)
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.TextSize = 14
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.Text = buttonText

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = dropdownButton

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = dropdownButton

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "Arrow"
            arrow.BackgroundTransparency = 1
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.Image = "rbxassetid://7072706796"
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.Parent = dropdownButton

            applySheenGradient(dropdownButton)
            bindButtonStrokeHover(dropdownButton, stroke)

            return createLabeledRow(labelText, dropdownButton)
        end

        local function createToggleRow(labelText)
            local row = Instance.new("Frame")
            row.Name = "ToggleRow"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = row

            local keybind = Instance.new("TextButton")
            keybind.Name = "KeybindButton"
            keybind.AutoButtonColor = false
            keybind.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            keybind.BackgroundTransparency = 0.2
            keybind.BorderSizePixel = 0
            keybind.AnchorPoint = Vector2.new(1, 0.5)
            keybind.Position = UDim2.new(1, -32, 0.5, 0)
            keybind.Size = UDim2.new(0, 44, 0, 20)
            keybind.Font = Enum.Font.GothamBold
            keybind.TextSize = 14
            keybind.TextColor3 = Color3.fromRGB(160, 160, 165)
            keybind.Text = "None"

            local keyCorner = Instance.new("UICorner")
            keyCorner.CornerRadius = UDim.new(0, 6)
            keyCorner.Parent = keybind

            local keyStroke = Instance.new("UIStroke")
            keyStroke.Thickness = 1
            keyStroke.Transparency = 0.4
            keyStroke.Color = Color3.fromRGB(55, 58, 61)
            keyStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            keyStroke.LineJoinMode = Enum.LineJoinMode.Round
            keyStroke.Parent = keybind

            applySheenGradient(keybind)
            bindButtonStrokeHover(keybind, keyStroke)
            keybind.Parent = row

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.AutoButtonColor = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            checkbox.BorderSizePixel = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.Text = ""

            local cbCorner = Instance.new("UICorner")
            cbCorner.CornerRadius = UDim.new(0, 6)
            cbCorner.Parent = checkbox

            local cbStroke = Instance.new("UIStroke")
            cbStroke.Thickness = 1
            cbStroke.Transparency = 0.4
            cbStroke.Color = Color3.fromRGB(55, 58, 61)
            cbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            cbStroke.LineJoinMode = Enum.LineJoinMode.Round
            cbStroke.Parent = checkbox

            applySheenGradient(checkbox)
            bindButtonStrokeHover(checkbox, cbStroke)

            local check = Instance.new("ImageLabel")
            check.Name = "Check"
            check.BackgroundTransparency = 1
            check.Size = UDim2.new(1, -6, 1, -6)
            check.AnchorPoint = Vector2.new(0.5, 0.5)
            check.Position = UDim2.new(0.5, 0, 0.5, 0)
            check.Image = "rbxassetid://10709790644"
            check.ImageColor3 = Color3.fromRGB(230, 230, 230)
            check.ImageTransparency = 1
            check.ScaleType = Enum.ScaleType.Stretch
            check.Parent = checkbox

            bindCheckboxToggle(checkbox)
            checkbox.Parent = row

            local keybindTarget = Instance.new("ObjectValue")
            keybindTarget.Name = "KeybindTarget"
            keybindTarget.Value = checkbox
            keybindTarget.Parent = keybind

            bindKeybindButton(keybind)

            return row
        end

        local function createTextboxRow(labelText, textboxName, placeholderText)
            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.BorderSizePixel = 0
            textbox.Size = UDim2.new(0.6, 0, 1, 0)
            textbox.Font = Enum.Font.GothamBold
            textbox.TextSize = 14
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.PlaceholderText = placeholderText
            textbox.ClearTextOnFocus = false
            textbox.Text = ""

            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(0, 8)
            corner.Parent = textbox

            local stroke = Instance.new("UIStroke")
            stroke.Thickness = 1
            stroke.Transparency = 0.4
            stroke.Color = Color3.fromRGB(55, 58, 61)
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = textbox

            applySheenGradient(textbox)

            local padding = Instance.new("UIPadding")
            padding.PaddingLeft = UDim.new(0, 10)
            padding.PaddingRight = UDim.new(0, 10)
            padding.Parent = textbox

            return createLabeledRow(labelText, textbox)
        end

        local function createDivider(text)
            local row = Instance.new("Frame")
            row.Name = "Divider"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 22)

            local label = Instance.new("TextLabel")
            label.Name = "DividerLabel"
            label.BackgroundTransparency = 1
            label.AnchorPoint = Vector2.new(0.5, 0.5)
            label.Position = UDim2.new(0.5, 0, 0.5, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.Text = text
            label.Size = UDim2.new(0, 0, 0, 14)
            label.Parent = row

            local leftLine = Instance.new("Frame")
            leftLine.BorderSizePixel = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.Size = UDim2.new(0, 68, 0, 1)
            leftLine.Parent = row

            local rightLine = Instance.new("Frame")
            rightLine.BorderSizePixel = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.Size = UDim2.new(0, 68, 0, 1)
            rightLine.Parent = row

            return row
        end

        local function createSliderRow(labelText, defaultValue)
            local row = Instance.new("Frame")
            row.Name = labelText:gsub("%s+", "") .. "SliderRow"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 44)

            local labelFrame = Instance.new("Frame")
            labelFrame.BackgroundTransparency = 1
            labelFrame.BorderSizePixel = 0
            labelFrame.Size = UDim2.new(1, 0, 0, 18)
            labelFrame.Parent = row

            local label = Instance.new("TextLabel")
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(1, -80, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.Text = labelText
            label.Parent = labelFrame

            local valueBox = Instance.new("TextBox")
            valueBox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            valueBox.BackgroundTransparency = 0.3
            valueBox.BorderSizePixel = 0
            valueBox.AnchorPoint = Vector2.new(1, 0)
            valueBox.Position = UDim2.new(1, 0, 0, 1)
            valueBox.Size = UDim2.new(0, 75, 0, 16)
            valueBox.Font = Enum.Font.Code
            valueBox.TextSize = 14
            valueBox.TextColor3 = Color3.fromRGB(160, 160, 165)
            valueBox.Text = tostring(defaultValue)
            valueBox.ClearTextOnFocus = false
            valueBox.Parent = labelFrame

            local vbCorner = Instance.new("UICorner")
            vbCorner.CornerRadius = UDim.new(0, 4)
            vbCorner.Parent = valueBox

            local vbStroke = Instance.new("UIStroke")
            vbStroke.Thickness = 1
            vbStroke.Transparency = 0.5
            vbStroke.Color = Color3.fromRGB(40, 43, 46)
            vbStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            vbStroke.LineJoinMode = Enum.LineJoinMode.Round
            vbStroke.Parent = valueBox

            applySheenGradient(valueBox)

            local barFrame = Instance.new("Frame")
            barFrame.BackgroundTransparency = 1
            barFrame.BorderSizePixel = 0
            barFrame.Position = UDim2.new(0, 0, 0, 24)
            barFrame.Size = UDim2.new(1, 0, 0, 16)
            barFrame.Parent = row

            local bar = Instance.new("Frame")
            bar.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bar.BorderSizePixel = 0
            bar.Position = UDim2.new(0, 0, 0.5, -2)
            bar.Size = UDim2.new(1, 0, 0, 4)
            bar.Parent = barFrame

            local barCorner = Instance.new("UICorner")
            barCorner.CornerRadius = UDim.new(0, 100)
            barCorner.Parent = bar

            local barStroke = Instance.new("UIStroke")
            barStroke.Thickness = 1
            barStroke.Transparency = 0.7
            barStroke.Color = Color3.fromRGB(40, 43, 46)
            barStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            barStroke.LineJoinMode = Enum.LineJoinMode.Round
            barStroke.Parent = bar

            local fill = Instance.new("Frame")
            -- Use white base so gradient shows true colors.
            fill.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            fill.BorderSizePixel = 0
            fill.Size = UDim2.new(0.2, 0, 1, 0)
            fill.Parent = bar

            local fillCorner = Instance.new("UICorner")
            fillCorner.CornerRadius = UDim.new(0, 100)
            fillCorner.Parent = fill

            local fillGradient = Instance.new("UIGradient")
            fillGradient.Name = "UIGradient"
            fillGradient.Offset = Vector2.new(0, 0)
            fillGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0),
                NumberSequenceKeypoint.new(1, 0),
            })
            fillGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, ACCENT_BLACK),
                ColorSequenceKeypoint.new(1, ACCENT_PRIMARY),
            })
            fillGradient.Rotation = 0
            fillGradient.Parent = fill

            local handle = Instance.new("Frame")
            handle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
            handle.BorderSizePixel = 0
            handle.AnchorPoint = Vector2.new(0.5, 0.5)
            handle.Position = UDim2.new(0.2, 0, 0.5, 0)
            handle.Size = UDim2.new(0, 12, 0, 12)
            handle.Parent = barFrame

            local handleCorner = Instance.new("UICorner")
            handleCorner.CornerRadius = UDim.new(0, 100)
            handleCorner.Parent = handle

            local handleScale = Instance.new("UIScale")
            handleScale.Name = "UIScale"
            handleScale.Scale = 1
            handleScale.Parent = handle

            local clickArea = Instance.new("TextButton")
            clickArea.Name = "ClickArea"
            clickArea.BackgroundTransparency = 1
            clickArea.BorderSizePixel = 0
            clickArea.Size = UDim2.new(1, 0, 1, 0)
            clickArea.Text = ""
            clickArea.ZIndex = 4
            clickArea.Parent = barFrame

            local bubble = Instance.new("TextLabel")
            bubble.Name = "DragBubbleValue"
            bubble.AnchorPoint = Vector2.new(0.5, 1)
            bubble.Position = UDim2.new(0, 13, 0, 28)
            bubble.Size = UDim2.new(0, 27.18, 0, 17.46)
            bubble.BackgroundTransparency = 1
            bubble.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            bubble.BorderSizePixel = 0
            bubble.Text = tostring(defaultValue)
            bubble.TextColor3 = Color3.fromRGB(230, 230, 230)
            bubble.TextTransparency = 1
            bubble.Font = Enum.Font.Code
            bubble.TextSize = 14
            bubble.TextXAlignment = Enum.TextXAlignment.Center
            bubble.TextYAlignment = Enum.TextYAlignment.Center
            bubble.Visible = false
            bubble.ZIndex = 5
            bubble.Parent = row

            local bubbleCorner = Instance.new("UICorner")
            bubbleCorner.Name = "UICorner"
            bubbleCorner.CornerRadius = UDim.new(0, 6)
            bubbleCorner.Parent = bubble

            local bubbleStroke = Instance.new("UIStroke")
            bubbleStroke.Name = "UIStroke"
            bubbleStroke.Thickness = 1
            bubbleStroke.Transparency = 0.8
            bubbleStroke.Color = Color3.fromRGB(40, 43, 46)
            bubbleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            bubbleStroke.LineJoinMode = Enum.LineJoinMode.Round
            bubbleStroke.Parent = bubble

            local bubbleScale = Instance.new("UIScale")
            bubbleScale.Name = "UIScale"
            bubbleScale.Scale = 0.98
            bubbleScale.Parent = bubble

            -- Slider logic (smooth drag + click-to-jump + textbox input)
            local minV = 0
            local maxV = 100
            if maxV == minV then
                maxV = minV + 1
            end

            local currentValue = tonumber(defaultValue) or minV
            currentValue = math.clamp(math.floor(currentValue + 0.5), minV, maxV)
            local currentRatio = math.clamp((currentValue - minV) / (maxV - minV), 0, 1)
            local targetRatio = currentRatio

            local isDragging = false
            local renderConn = nil
            local endConn = nil

            local bubbleSmallSize = UDim2.new(0, 27.18, 0, 17.46)
            local bubbleLargeSize = UDim2.new(0, 28, 0, 18)
            local bubbleTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local bubbleAnimToken = 0

            local function showBubble()
                bubbleAnimToken += 1
                bubble.Visible = true
                bubble.Size = bubbleSmallSize
                bubble.BackgroundTransparency = 1
                bubble.TextTransparency = 1
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleLargeSize,
                    BackgroundTransparency = 0,
                    TextTransparency = 0,
                }):Play()
            end

            local function hideBubble()
                bubbleAnimToken += 1
                local token = bubbleAnimToken
                TweenService:Create(bubble, bubbleTweenInfo, {
                    Size = bubbleSmallSize,
                    BackgroundTransparency = 1,
                    TextTransparency = 1,
                }):Play()
                task.delay(0.1, function()
                    if token == bubbleAnimToken and not isDragging then
                        bubble.Visible = false
                    end
                end)
            end

            local function clampAndRound(v)
                v = tonumber(v) or currentValue
                v = math.floor(v + 0.5)
                return math.clamp(v, minV, maxV)
            end

            local function ratioFromValue(v)
                return math.clamp((v - minV) / (maxV - minV), 0, 1)
            end

            local function valueFromRatio(r)
                return clampAndRound(minV + (maxV - minV) * r)
            end

            local function applyVisual(r)
                fill.Size = UDim2.new(r, 0, 1, 0)
                handle.Position = UDim2.new(r, 0, 0.5, 0)
                bubble.Position = UDim2.new(r, 0, 0, 28)
            end

            local handleSmallSize = UDim2.new(0, 12, 0, 12)
            local handleLargeSize = UDim2.new(0, 13.8, 0, 13.8)
            local handleSizeTweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local handleSizeTween = nil

            local function tweenHandleSize(targetSize)
                if handleSizeTween then
                    handleSizeTween:Cancel()
                    handleSizeTween = nil
                end
                handleSizeTween = TweenService:Create(handle, handleSizeTweenInfo, {
                    Size = targetSize,
                })
                handleSizeTween:Play()
            end

            local function setValue(v, tween)
                currentValue = clampAndRound(v)
                row:SetAttribute("SliderValue", currentValue)
                valueBox.Text = tostring(currentValue)
                bubble.Text = tostring(currentValue)
                targetRatio = ratioFromValue(currentValue)

                if tween then
                    TweenService:Create(fill, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Size = UDim2.new(targetRatio, 0, 1, 0),
                    }):Play()
                    TweenService:Create(handle, TweenInfo.new(0.12, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(targetRatio, 0, 0.5, 0),
                    }):Play()
                    currentRatio = targetRatio
                else
                    currentRatio = targetRatio
                    applyVisual(currentRatio)
                end
            end

            local function stopDrag()
                isDragging = false
                if renderConn then
                    renderConn:Disconnect()
                    renderConn = nil
                end
                if endConn then
                    endConn:Disconnect()
                    endConn = nil
                end
                hideBubble()
                tweenHandleSize(handleSmallSize)
                currentRatio = targetRatio
                applyVisual(currentRatio)
            end

            local function beginDrag()
                if isDragging then
                    return
                end
                isDragging = true
                bubble.Text = tostring(currentValue)
                showBubble()
                tweenHandleSize(handleLargeSize)

                if renderConn then
                    renderConn:Disconnect()
                end
                renderConn = RunService.RenderStepped:Connect(function(dt)
                    if not isDragging then
                        return
                    end
                    local width = bar.AbsoluteSize.X
                    if width <= 0 then
                        return
                    end
                    local mouseX = UserInputService:GetMouseLocation().X
                    local raw = (mouseX - bar.AbsolutePosition.X) / width
                    targetRatio = math.clamp(raw, 0, 1)

                    local newValue = valueFromRatio(targetRatio)
                    if newValue ~= currentValue then
                        currentValue = newValue
                        row:SetAttribute("SliderValue", currentValue)
                        valueBox.Text = tostring(currentValue)
                        bubble.Text = tostring(currentValue)
                    end

                    local a = 1 - math.exp(-30 * dt)
                    currentRatio = currentRatio + (targetRatio - currentRatio) * a
                    applyVisual(currentRatio)
                end)

                if endConn then
                    endConn:Disconnect()
                end
                endConn = UserInputService.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                        stopDrag()
                    end
                end)
            end

            setValue(currentValue, false)

            clickArea.InputBegan:Connect(function(input)
                if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
                    return
                end
                beginDrag()
            end)

            valueBox.FocusLost:Connect(function()
                local n = tonumber(valueBox.Text)
                if n == nil then
                    valueBox.Text = tostring(currentValue)
                    return
                end
                setValue(n, true)
            end)

            return row
        end

        local function createParagraphRow(text)
            local row = Instance.new("Frame")
            row.Name = "ParagraphRow"
            row.BackgroundTransparency = 1
            row.BorderSizePixel = 0
            row.Size = UDim2.new(1, 0, 0, 60)

            local label = Instance.new("TextLabel")
            label.Name = "ParagraphText"
            label.BackgroundTransparency = 1
            label.BorderSizePixel = 0
            label.Size = UDim2.new(1, -8, 1, 0)
            label.Font = Enum.Font.GothamBold
            label.TextSize = 14
            label.TextColor3 = Color3.fromRGB(160, 160, 165)
            label.TextWrapped = true
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextYAlignment = Enum.TextYAlignment.Top
            label.Text = text
            label.Parent = row

            return row
        end

        local right = Instance.new("ScrollingFrame")
        right.Name = "TweenRightContentFrame1"
        right.LayoutOrder = 0
        right.ScrollingDirection = Enum.ScrollingDirection.XY
        right.BorderSizePixel = 0
        right.Size = UDim2.new(0.5, -21, 1, -68)
        right.Position = UDim2.new(0.5, 7, 0, 54)
        right.ScrollBarThickness = 0
        right.BackgroundTransparency = 1
        right.CanvasSize = UDim2.new(0, 0, 0, 0)
        right.AutomaticCanvasSize = Enum.AutomaticSize.Y

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = right

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.Parent = right

        local movingSection, movingBody = createCardSection(
            "MovingShitSectionFrame",
            "Moving Shit",
            "rbxassetid://10734900011"
        )
        createToggleRow("Move To Position").Parent = movingBody
        createToggleRow("Walk To Position").Parent = movingBody
        createToggleRow("Tween Noclip").Parent = movingBody
        createDivider("Gold Settings").Parent = movingBody
        createSliderRow("Raw Gold Threshold", 10).Parent = movingBody
        createToggleRow("Gold Method").Parent = movingBody
        createActionButton("AssignChestPositionButton", "Assign Chest Position").Parent = movingBody
        createParagraphRow(
            "This will go to the nearest chest in range on the position you set it to and it will drop all your raw gold in the chest,campfire,coin press"
        ).Parent = movingBody
        movingSection.Parent = right

        local configSection, configBody = createCardSection(
            "ConfigShitSectionFrame",
            "Config Shit",
            "rbxassetid://10734950020"
        )
        createDropdownRow("Configs", "[Empty]").Parent = configBody
        createTextboxRow("Config Name", "ConfigNameTextbox", "name here").Parent = configBody
        createActionButton("SaveConfigButton", "Save Config").Parent = configBody
        createActionButton("LoadConfigButton", "Load Config").Parent = configBody
        createActionButton("DeleteConfigButton", "Delete Config").Parent = configBody
        createActionButton("RefreshConfigButton", "Refresh Config").Parent = configBody
        configSection.Parent = right

        return right
    end

    local function createMiscRightPanel()
        local function createSheenAndShadeOverlays(parent, cornerRadius)
            local sheenOverlay = Instance.new("Frame")
            sheenOverlay.Name = "SheenOverlay"
            sheenOverlay.Visible = true
            sheenOverlay.ClipsDescendants = false
            sheenOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sheenOverlay.LayoutOrder = 0
            sheenOverlay.BackgroundTransparency = 1
            sheenOverlay.Rotation = 0
            sheenOverlay.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sheenOverlay.Position = UDim2.new(0, 0, 0, 0)
            sheenOverlay.AnchorPoint = Vector2.new(0, 0)
            sheenOverlay.ZIndex = 2
            sheenOverlay.BorderSizePixel = 0
            sheenOverlay.Size = UDim2.new(1, 0, 1, 0)

            local sheenCorner = Instance.new("UICorner")
            sheenCorner.Name = "UICorner"
            sheenCorner.CornerRadius = cornerRadius
            sheenCorner.Parent = sheenOverlay

            local sheenGradient = Instance.new("UIGradient")
            sheenGradient.Name = "UIGradient"
            sheenGradient.Offset = Vector2.new(0, 0)
            sheenGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.25),
                NumberSequenceKeypoint.new(0.6, 0.45),
                NumberSequenceKeypoint.new(1, 0.2),
            })
            sheenGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheenGradient.Rotation = 90
            sheenGradient.Parent = sheenOverlay
            sheenOverlay.Parent = parent

            local shadeOverlay = Instance.new("Frame")
            shadeOverlay.Name = "ShadeOverlay"
            shadeOverlay.Visible = true
            shadeOverlay.ClipsDescendants = false
            shadeOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            shadeOverlay.LayoutOrder = 0
            shadeOverlay.BackgroundTransparency = 1
            shadeOverlay.Rotation = 0
            shadeOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            shadeOverlay.Position = UDim2.new(0, 0, 0, 0)
            shadeOverlay.AnchorPoint = Vector2.new(0, 0)
            shadeOverlay.ZIndex = 2
            shadeOverlay.BorderSizePixel = 0
            shadeOverlay.Size = UDim2.new(1, 0, 1, 0)

            local shadeCorner = Instance.new("UICorner")
            shadeCorner.Name = "UICorner"
            shadeCorner.CornerRadius = cornerRadius
            shadeCorner.Parent = shadeOverlay

            local shadeGradient = Instance.new("UIGradient")
            shadeGradient.Name = "UIGradient"
            shadeGradient.Offset = Vector2.new(0, 0)
            shadeGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.6, 1),
                NumberSequenceKeypoint.new(0.85, 0.96),
                NumberSequenceKeypoint.new(1, 0.92),
            })
            shadeGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            shadeGradient.Rotation = 90
            shadeGradient.Parent = shadeOverlay
            shadeOverlay.Parent = parent
        end

        local function createFadeFrame(name, position)
            local fade = Instance.new("Frame")
            fade.Name = name
            fade.Visible = false
            fade.ClipsDescendants = false
            fade.BorderColor3 = Color3.fromRGB(27, 42, 53)
            fade.LayoutOrder = 0
            fade.BackgroundTransparency = 1
            fade.Rotation = 0
            fade.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            fade.Position = position
            fade.AnchorPoint = Vector2.new(0, 0)
            fade.ZIndex = 10
            fade.BorderSizePixel = 0
            fade.Size = UDim2.new(1, 0, 0, 22)

            local gradient = Instance.new("UIGradient")
            gradient.Name = "UIGradient"
            gradient.Offset = Vector2.new(0, 0)
            gradient.Transparency = (name == "TopFadeFrame")
                and NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(0.7, 0.1),
                    NumberSequenceKeypoint.new(1, 1),
                })
                or NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 1),
                    NumberSequenceKeypoint.new(0.3, 0.1),
                    NumberSequenceKeypoint.new(1, 0),
                })
            gradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            gradient.Rotation = 90
            gradient.Parent = fade

            return fade
        end

        local function createInspirationSectionFrame(sectionFrameName, sectionTitleText, sectionIconId, sectionHeight)
            local sectionFrame = Instance.new("Frame")
            sectionFrame.Name = sectionFrameName
            sectionFrame.Visible = true
            sectionFrame.ClipsDescendants = true
            sectionFrame.BorderColor3 = Color3.fromRGB(27, 42, 53)
            sectionFrame.LayoutOrder = 0
            sectionFrame.BackgroundTransparency = 0
            sectionFrame.Rotation = 0
            sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            sectionFrame.Position = UDim2.new(0, 0, 0, 0)
            sectionFrame.AnchorPoint = Vector2.new(0, 0)
            sectionFrame.ZIndex = 1
            sectionFrame.BorderSizePixel = 0
            sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)

            local corner = Instance.new("UICorner")
            corner.Name = "UICorner"
            corner.CornerRadius = UDim.new(0, 12)
            corner.Parent = sectionFrame

            local stroke = Instance.new("UIStroke")
            stroke.Name = "UIStroke"
            stroke.Thickness = 1
            stroke.Transparency = 0.2
            stroke.Color = Color3.fromRGB(40, 43, 46)
            stroke.ZIndex = 1
            stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            stroke.LineJoinMode = Enum.LineJoinMode.Round
            stroke.Parent = sectionFrame

            local darkSweep = Instance.new("Frame")
            darkSweep.Name = "SectionDarkSweep"
            darkSweep.Visible = true
            darkSweep.ClipsDescendants = false
            darkSweep.BorderColor3 = Color3.fromRGB(27, 42, 53)
            darkSweep.LayoutOrder = 0
            darkSweep.BackgroundTransparency = 0
            darkSweep.Rotation = 0
            darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            darkSweep.Position = UDim2.new(0, 0, 0, 0)
            darkSweep.AnchorPoint = Vector2.new(0, 0)
            darkSweep.ZIndex = 1
            darkSweep.BorderSizePixel = 0
            darkSweep.Size = UDim2.new(1, 0, 1, 0)
            darkSweep.Parent = sectionFrame

            local darkCorner = Instance.new("UICorner")
            darkCorner.Name = "UICorner"
            darkCorner.CornerRadius = UDim.new(0, 12)
            darkCorner.Parent = darkSweep

            local darkGradient = Instance.new("UIGradient")
            darkGradient.Name = "UIGradient"
            darkGradient.Offset = Vector2.new(0, 0)
            darkGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.18, 0.92),
                NumberSequenceKeypoint.new(0.4, 0.78),
                NumberSequenceKeypoint.new(0.62, 0.92),
                NumberSequenceKeypoint.new(1, 1),
            })
            darkGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0)),
            })
            darkGradient.Rotation = 125
            darkGradient.Parent = darkSweep

            local innerBorder = Instance.new("Frame")
            innerBorder.Name = "InnerBorder"
            innerBorder.Visible = true
            innerBorder.ClipsDescendants = false
            innerBorder.BorderColor3 = Color3.fromRGB(27, 42, 53)
            innerBorder.LayoutOrder = 0
            innerBorder.BackgroundTransparency = 1
            innerBorder.Rotation = 0
            innerBorder.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            innerBorder.Position = UDim2.new(0, 1, 0, 1)
            innerBorder.AnchorPoint = Vector2.new(0, 0)
            innerBorder.ZIndex = 2
            innerBorder.BorderSizePixel = 1
            innerBorder.Size = UDim2.new(1, -2, 1, -2)
            innerBorder.Parent = sectionFrame

            local innerCorner = Instance.new("UICorner")
            innerCorner.Name = "UICorner"
            innerCorner.CornerRadius = UDim.new(0, 12)
            innerCorner.Parent = innerBorder

            local innerStroke = Instance.new("UIStroke")
            innerStroke.Name = "UIStroke"
            innerStroke.Thickness = 1
            innerStroke.Transparency = 0.75
            innerStroke.Color = Color3.fromRGB(40, 43, 46)
            innerStroke.ZIndex = 1
            innerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            innerStroke.LineJoinMode = Enum.LineJoinMode.Round
            innerStroke.Parent = innerBorder

            local gradientOverlay = Instance.new("Frame")
            gradientOverlay.Name = "GradientOverlay"
            gradientOverlay.Visible = true
            gradientOverlay.ClipsDescendants = false
            gradientOverlay.BorderColor3 = Color3.fromRGB(27, 42, 53)
            gradientOverlay.LayoutOrder = 0
            gradientOverlay.BackgroundTransparency = 0.9
            gradientOverlay.Rotation = 0
            gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
            gradientOverlay.Position = UDim2.new(0, 0, 0, 0)
            gradientOverlay.AnchorPoint = Vector2.new(0, 0)
            gradientOverlay.ZIndex = 2
            gradientOverlay.BorderSizePixel = 1
            gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
            gradientOverlay.Parent = sectionFrame

            local overlayCorner = Instance.new("UICorner")
            overlayCorner.Name = "UICorner"
            overlayCorner.CornerRadius = UDim.new(0, 12)
            overlayCorner.Parent = gradientOverlay

            local overlayGradient = Instance.new("UIGradient")
            overlayGradient.Name = "UIGradient"
            overlayGradient.Offset = Vector2.new(0, 0)
            overlayGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.06),
                NumberSequenceKeypoint.new(0.5, 0.12),
                NumberSequenceKeypoint.new(1, 0.06),
            })
            overlayGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            overlayGradient.Rotation = 90
            overlayGradient.Parent = gradientOverlay

            local header = Instance.new("Frame")
            header.Name = "Header"
            header.Visible = true
            header.ClipsDescendants = false
            header.BorderColor3 = Color3.fromRGB(27, 42, 53)
            header.LayoutOrder = 0
            header.BackgroundTransparency = 1
            header.Rotation = 0
            header.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            header.Position = UDim2.new(0, 0, 0, 0)
            header.AnchorPoint = Vector2.new(0, 0)
            header.ZIndex = 3
            header.BorderSizePixel = 1
            header.Size = UDim2.new(1, 0, 0, 36)
            header.Parent = sectionFrame

            local separator = Instance.new("Frame")
            separator.Name = "Separator"
            separator.Visible = true
            separator.ClipsDescendants = false
            separator.BorderColor3 = Color3.fromRGB(27, 42, 53)
            separator.LayoutOrder = 0
            separator.BackgroundTransparency = 0.5
            separator.Rotation = 0
            separator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            separator.Position = UDim2.new(0, 10, 1, -1)
            separator.AnchorPoint = Vector2.new(0, 0)
            separator.ZIndex = 1
            separator.BorderSizePixel = 0
            separator.Size = UDim2.new(1, -20, 0, 1)
            separator.Parent = header

            local sepGradient = Instance.new("UIGradient")
            sepGradient.Name = "UIGradient"
            sepGradient.Offset = Vector2.new(0, 0)
            sepGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.1, 0.5),
                NumberSequenceKeypoint.new(0.9, 0.5),
                NumberSequenceKeypoint.new(1, 1),
            })
            sepGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sepGradient.Rotation = 0
            sepGradient.Parent = separator

            local iconContainer = Instance.new("Frame")
            iconContainer.Name = "IconContainer"
            iconContainer.Visible = true
            iconContainer.ClipsDescendants = false
            iconContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            iconContainer.LayoutOrder = 0
            iconContainer.BackgroundTransparency = 0
            iconContainer.Rotation = 0
            iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
            iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
            iconContainer.AnchorPoint = Vector2.new(0, 0.5)
            iconContainer.ZIndex = 1
            iconContainer.BorderSizePixel = 1
            iconContainer.Size = UDim2.new(0, 24, 0, 24)
            iconContainer.Parent = header

            local iconCorner = Instance.new("UICorner")
            iconCorner.Name = "UICorner"
            iconCorner.CornerRadius = UDim.new(0, 6)
            iconCorner.Parent = iconContainer

            local iconStroke = Instance.new("UIStroke")
            iconStroke.Name = "UIStroke"
            iconStroke.Thickness = 1
            iconStroke.Transparency = 0.75
            iconStroke.Color = Color3.fromRGB(190, 45, 45)
            iconStroke.ZIndex = 1
            iconStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            iconStroke.LineJoinMode = Enum.LineJoinMode.Round
            iconStroke.Parent = iconContainer

            local iconGradient = Instance.new("UIGradient")
            iconGradient.Name = "UIGradient"
            iconGradient.Offset = Vector2.new(0, 0)
            iconGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 1),
                NumberSequenceKeypoint.new(0.25, 0.9),
                NumberSequenceKeypoint.new(0.5, 0.8),
                NumberSequenceKeypoint.new(0.75, 0.9),
                NumberSequenceKeypoint.new(1, 1),
            })
            iconGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 0)),
            })
            iconGradient.Rotation = 125
            iconGradient.Parent = iconContainer

            local icon = Instance.new("ImageLabel")
            icon.Name = "Icon"
            icon.LayoutOrder = 0
            icon.ImageTransparency = 0
            icon.AnchorPoint = Vector2.new(0.5, 0.5)
            icon.Image = sectionIconId
            icon.TileSize = UDim2.new(1, 0, 1, 0)
            icon.ZIndex = 2
            icon.BorderSizePixel = 1
            icon.Size = UDim2.new(0, 14, 0, 14)
            icon.ScaleType = Enum.ScaleType.Stretch
            icon.BackgroundTransparency = 1
            icon.Rotation = 0
            icon.Visible = true
            icon.Position = UDim2.new(0.5, 0, 0.5, 0)
            icon.SliceScale = 1
            icon.ImageColor3 = Color3.fromRGB(190, 45, 45)
            icon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            icon.Parent = iconContainer

            local sectionTitle = Instance.new("TextLabel")
            sectionTitle.Name = "SectionTitle"
            sectionTitle.LayoutOrder = 0
            sectionTitle.TextWrapped = false
            sectionTitle.TextTransparency = 0
            sectionTitle.TextStrokeTransparency = 1
            sectionTitle.AnchorPoint = Vector2.new(0, 0)
            sectionTitle.ZIndex = 4
            sectionTitle.TextSize = 14
            sectionTitle.Size = UDim2.new(1, -54, 1, -1)
            sectionTitle.BorderSizePixel = 1
            sectionTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
            sectionTitle.BackgroundTransparency = 1
            sectionTitle.Text = sectionTitleText
            sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
            sectionTitle.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            sectionTitle.Rotation = 0
            sectionTitle.Font = Enum.Font.GothamBold
            sectionTitle.Position = UDim2.new(0, 44, 0, 0)
            sectionTitle.Visible = true
            sectionTitle.TextYAlignment = Enum.TextYAlignment.Center
            sectionTitle.TextScaled = false
            sectionTitle.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            sectionTitle.Parent = header

            local scrollContainer = Instance.new("Frame")
            scrollContainer.Name = "ScrollContainer"
            scrollContainer.Visible = true
            scrollContainer.ClipsDescendants = true
            scrollContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            scrollContainer.LayoutOrder = 0
            scrollContainer.BackgroundTransparency = 1
            scrollContainer.Rotation = 0
            scrollContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            scrollContainer.Position = UDim2.new(0, 0, 0, 36)
            scrollContainer.AnchorPoint = Vector2.new(0, 0)
            scrollContainer.ZIndex = 3
            scrollContainer.BorderSizePixel = 1
            scrollContainer.Size = UDim2.new(1, 0, 1, -36)
            scrollContainer.Parent = sectionFrame

            local elementsContainer = Instance.new("ScrollingFrame")
            elementsContainer.Name = "ElementsContainer"
            elementsContainer.LayoutOrder = 0
            elementsContainer.AnchorPoint = Vector2.new(0, 0)
            elementsContainer.ScrollingDirection = Enum.ScrollingDirection.XY
            elementsContainer.ZIndex = 1
            elementsContainer.BorderSizePixel = 0
            elementsContainer.Size = UDim2.new(1, 0, 1, 0)
            elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
            elementsContainer.BackgroundTransparency = 1
            elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
            elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
            elementsContainer.ScrollBarThickness = 0
            elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            elementsContainer.Visible = true
            elementsContainer.Rotation = 0
            elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            elementsContainer.Position = UDim2.new(0, 0, 0, 0)
            elementsContainer.ScrollingEnabled = true
            elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            elementsContainer.CanvasPosition = Vector2.new(0, 0)
            elementsContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            elementsContainer.Parent = scrollContainer

            local padding = Instance.new("UIPadding")
            padding.Name = "UIPadding"
            padding.PaddingTop = UDim.new(0, 10)
            padding.PaddingBottom = UDim.new(0, 12)
            padding.PaddingLeft = UDim.new(0, 12)
            padding.PaddingRight = UDim.new(0, 12)
            padding.Parent = elementsContainer

            local list = Instance.new("UIListLayout")
            list.Name = "UIListLayout"
            list.VerticalAlignment = Enum.VerticalAlignment.Top
            list.FillDirection = Enum.FillDirection.Vertical
            list.Padding = UDim.new(0, 10)
            list.HorizontalAlignment = Enum.HorizontalAlignment.Left
            list.SortOrder = Enum.SortOrder.LayoutOrder
            list.Parent = elementsContainer

            local topFade = createFadeFrame("TopFadeFrame", UDim2.new(0, 0, 0, 0))
            topFade.Parent = scrollContainer

            local bottomFade = createFadeFrame("BottomFadeFrame", UDim2.new(0, 0, 1, -22))
            bottomFade.Parent = scrollContainer

            return sectionFrame, elementsContainer
        end

        local function createInspirationToggleRow(rowFrameName, labelText, includeKeybind, checkboxStrokeColor)
            local toggleRow = Instance.new("Frame")
            toggleRow.Name = rowFrameName
            toggleRow.Visible = true
            toggleRow.ClipsDescendants = false
            toggleRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            toggleRow.LayoutOrder = 0
            toggleRow.BackgroundTransparency = 1
            toggleRow.Rotation = 0
            toggleRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            toggleRow.Position = UDim2.new(0, 0, 0, 0)
            toggleRow.AnchorPoint = Vector2.new(0, 0)
            toggleRow.ZIndex = 1
            toggleRow.BorderSizePixel = 1
            toggleRow.Size = UDim2.new(1, 0, 0, 32)

            local label = Instance.new("TextLabel")
            label.Name = "Label"
            label.LayoutOrder = 0
            label.TextWrapped = false
            label.TextTransparency = 0
            label.TextStrokeTransparency = 1
            label.AnchorPoint = Vector2.new(0, 0)
            label.ZIndex = 1
            label.TextSize = 14
            label.Size = UDim2.new(1, -80, 1, 0)
            label.BorderSizePixel = 1
            label.TextColor3 = Color3.fromRGB(230, 230, 230)
            label.BackgroundTransparency = 1
            label.Text = labelText
            label.TextXAlignment = Enum.TextXAlignment.Left
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Rotation = 0
            label.Font = Enum.Font.GothamBold
            label.Position = UDim2.new(0, 0, 0, 0)
            label.Visible = true
            label.TextYAlignment = Enum.TextYAlignment.Center
            label.TextScaled = false
            label.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            label.Parent = toggleRow

            local checkbox = Instance.new("TextButton")
            checkbox.Name = "Checkbox"
            checkbox.LayoutOrder = 0
            checkbox.TextWrapped = false
            checkbox.TextTransparency = 0
            checkbox.AnchorPoint = Vector2.new(1, 0.5)
            checkbox.ZIndex = 1
            checkbox.TextSize = 8
            checkbox.Size = UDim2.new(0, 20, 0, 20)
            checkbox.BorderSizePixel = 0
            checkbox.BackgroundTransparency = 0
            checkbox.TextColor3 = Color3.fromRGB(27, 42, 53)
            checkbox.TextXAlignment = Enum.TextXAlignment.Center
            checkbox.Text = ""
            checkbox.Modal = false
            checkbox.AutoButtonColor = false
            checkbox.Rotation = 0
            checkbox.Font = Enum.Font.Legacy
            checkbox.Position = UDim2.new(1, -8, 0.5, 0)
            checkbox.Visible = true
            checkbox.TextYAlignment = Enum.TextYAlignment.Center
            checkbox.TextScaled = false
            checkbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local checkboxCorner = Instance.new("UICorner")
            checkboxCorner.Name = "UICorner"
            checkboxCorner.CornerRadius = UDim.new(0, 6)
            checkboxCorner.Parent = checkbox

            local checkboxStroke = Instance.new("UIStroke")
            checkboxStroke.Name = "UIStroke"
            checkboxStroke.Thickness = 1
            checkboxStroke.Transparency = 0.4
            checkboxStroke.Color = checkboxStrokeColor or Color3.fromRGB(55, 58, 61)
            checkboxStroke.ZIndex = 1
            checkboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            checkboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            checkboxStroke.Parent = checkbox

            bindButtonStrokeHover(checkbox, checkboxStroke)
            createSheenAndShadeOverlays(checkbox, UDim.new(0, 6))

            local checkIcon = Instance.new("ImageLabel")
            checkIcon.Name = "Check"
            checkIcon.LayoutOrder = 0
            checkIcon.ImageTransparency = 1
            checkIcon.AnchorPoint = Vector2.new(0.5, 0.5)
            checkIcon.Image = "rbxassetid://10709790644"
            checkIcon.TileSize = UDim2.new(1, 0, 1, 0)
            checkIcon.ZIndex = 3
            checkIcon.BorderSizePixel = 1
            checkIcon.Size = UDim2.new(1, -6, 1, -6)
            checkIcon.ScaleType = Enum.ScaleType.Stretch
            checkIcon.BackgroundTransparency = 1
            checkIcon.Rotation = 0
            checkIcon.Visible = true
            checkIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
            checkIcon.SliceScale = 1
            checkIcon.ImageColor3 = Color3.fromRGB(230, 230, 230)
            checkIcon.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            checkIcon.Parent = checkbox

            bindCheckboxToggle(checkbox)
            checkbox.Parent = toggleRow

            if includeKeybind then
                local keybindButton = Instance.new("TextButton")
                keybindButton.Name = "KeybindButton"
                keybindButton.LayoutOrder = 0
                keybindButton.TextWrapped = false
                keybindButton.TextTransparency = 0
                keybindButton.AnchorPoint = Vector2.new(1, 0.5)
                keybindButton.ZIndex = 1
                keybindButton.TextSize = 14
                keybindButton.Size = UDim2.new(0, 44, 0, 20)
                keybindButton.BorderSizePixel = 1
                keybindButton.BackgroundTransparency = 0.2
                keybindButton.TextColor3 = Color3.fromRGB(160, 160, 165)
                keybindButton.TextXAlignment = Enum.TextXAlignment.Center
                keybindButton.Text = "None"
                keybindButton.Modal = false
                keybindButton.AutoButtonColor = false
                keybindButton.Rotation = 0
                keybindButton.Font = Enum.Font.GothamBold
                keybindButton.Position = UDim2.new(1, -32, 0.5, 0)
                keybindButton.Visible = true
                keybindButton.TextYAlignment = Enum.TextYAlignment.Center
                keybindButton.TextScaled = false
                keybindButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

                local keybindCorner = Instance.new("UICorner")
                keybindCorner.Name = "UICorner"
                keybindCorner.CornerRadius = UDim.new(0, 6)
                keybindCorner.Parent = keybindButton

                local keybindStroke = Instance.new("UIStroke")
                keybindStroke.Name = "UIStroke"
                keybindStroke.Thickness = 1
                keybindStroke.Transparency = 0.4
                keybindStroke.Color = Color3.fromRGB(55, 58, 61)
                keybindStroke.ZIndex = 1
                keybindStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                keybindStroke.LineJoinMode = Enum.LineJoinMode.Round
                keybindStroke.Parent = keybindButton

                createSheenAndShadeOverlays(keybindButton, UDim.new(0, 6))

                local keybindTarget = Instance.new("ObjectValue")
                keybindTarget.Name = "KeybindTarget"
                keybindTarget.Value = checkbox
                keybindTarget.Parent = keybindButton

                bindKeybindButton(keybindButton)
                keybindButton.Parent = toggleRow
            end

            return toggleRow
        end

        local function createInspirationDropdownRow(labelText, buttonText)
            local dropdownRow = Instance.new("Frame")
            dropdownRow.Name = "Frame"
            dropdownRow.Visible = true
            dropdownRow.ClipsDescendants = false
            dropdownRow.BorderColor3 = Color3.fromRGB(27, 42, 53)
            dropdownRow.LayoutOrder = 0
            dropdownRow.BackgroundTransparency = 1
            dropdownRow.Rotation = 0
            dropdownRow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            dropdownRow.Position = UDim2.new(0, 0, 0, 0)
            dropdownRow.AnchorPoint = Vector2.new(0, 0)
            dropdownRow.ZIndex = 1
            dropdownRow.BorderSizePixel = 1
            dropdownRow.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, 0, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = dropdownRow

            local buttonContainer = Instance.new("Frame")
            buttonContainer.Name = "Frame"
            buttonContainer.Visible = true
            buttonContainer.ClipsDescendants = false
            buttonContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            buttonContainer.LayoutOrder = 0
            buttonContainer.BackgroundTransparency = 1
            buttonContainer.Rotation = 0
            buttonContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            buttonContainer.Position = UDim2.new(0.4, 0, 0, 0)
            buttonContainer.AnchorPoint = Vector2.new(0, 0)
            buttonContainer.ZIndex = 1
            buttonContainer.BorderSizePixel = 1
            buttonContainer.Size = UDim2.new(0.6, 0, 1, 0)
            buttonContainer.Parent = dropdownRow

            local dropdownButton = Instance.new("TextButton")
            dropdownButton.Name = "TextButton"
            dropdownButton.LayoutOrder = 0
            dropdownButton.TextWrapped = false
            dropdownButton.TextTransparency = 0
            dropdownButton.AnchorPoint = Vector2.new(0, 0)
            dropdownButton.ZIndex = 101
            dropdownButton.TextSize = 14
            dropdownButton.Size = UDim2.new(1, 0, 0, 24)
            dropdownButton.BorderSizePixel = 0
            dropdownButton.BackgroundTransparency = 0
            dropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
            dropdownButton.TextXAlignment = Enum.TextXAlignment.Center
            dropdownButton.Text = buttonText
            dropdownButton.Modal = false
            dropdownButton.AutoButtonColor = false
            dropdownButton.Rotation = 0
            dropdownButton.Font = Enum.Font.GothamBold
            dropdownButton.Position = UDim2.new(0, 0, 0.5, -11)
            dropdownButton.Visible = true
            dropdownButton.TextYAlignment = Enum.TextYAlignment.Center
            dropdownButton.TextScaled = false
            dropdownButton.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            dropdownButton.Parent = buttonContainer

            local dropdownCorner = Instance.new("UICorner")
            dropdownCorner.Name = "UICorner"
            dropdownCorner.CornerRadius = UDim.new(0, 8)
            dropdownCorner.Parent = dropdownButton

            local dropdownStroke = Instance.new("UIStroke")
            dropdownStroke.Name = "UIStroke"
            dropdownStroke.Thickness = 1
            dropdownStroke.Transparency = 0.4
            dropdownStroke.Color = Color3.fromRGB(55, 58, 61)
            dropdownStroke.ZIndex = 1
            dropdownStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            dropdownStroke.LineJoinMode = Enum.LineJoinMode.Round
            dropdownStroke.Parent = dropdownButton

            local arrow = Instance.new("ImageLabel")
            arrow.Name = "ImageLabel"
            arrow.LayoutOrder = 0
            arrow.ImageTransparency = 0
            arrow.AnchorPoint = Vector2.new(1, 0.5)
            arrow.Image = "rbxassetid://7072706796"
            arrow.TileSize = UDim2.new(1, 0, 1, 0)
            arrow.ZIndex = 102
            arrow.BorderSizePixel = 1
            arrow.Size = UDim2.new(0, 14, 0, 14)
            arrow.ScaleType = Enum.ScaleType.Stretch
            arrow.BackgroundTransparency = 1
            arrow.Rotation = 0
            arrow.Visible = true
            arrow.Position = UDim2.new(1, -8, 0.5, 0)
            arrow.SliceScale = 1
            arrow.ImageColor3 = Color3.fromRGB(160, 160, 165)
            arrow.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            arrow.Parent = dropdownButton

            return dropdownRow
        end

        local function createInspirationTextboxRow(labelText, textboxName, placeholderText)
            local row = Instance.new("Frame")
            row.Name = "Frame"
            row.Visible = true
            row.ClipsDescendants = false
            row.BorderColor3 = Color3.fromRGB(27, 42, 53)
            row.LayoutOrder = 0
            row.BackgroundTransparency = 1
            row.Rotation = 0
            row.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            row.Position = UDim2.new(0, 0, 0, 0)
            row.AnchorPoint = Vector2.new(0, 0)
            row.ZIndex = 1
            row.BorderSizePixel = 1
            row.Size = UDim2.new(1, 0, 0, 32)

            local rowLabel = Instance.new("TextLabel")
            rowLabel.Name = "TextLabel"
            rowLabel.LayoutOrder = 0
            rowLabel.TextWrapped = false
            rowLabel.TextTransparency = 0
            rowLabel.TextStrokeTransparency = 1
            rowLabel.AnchorPoint = Vector2.new(0, 0)
            rowLabel.ZIndex = 1
            rowLabel.TextSize = 14
            rowLabel.Size = UDim2.new(0.4, -5, 1, 0)
            rowLabel.BorderSizePixel = 1
            rowLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
            rowLabel.BackgroundTransparency = 1
            rowLabel.Text = labelText
            rowLabel.TextXAlignment = Enum.TextXAlignment.Left
            rowLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            rowLabel.Rotation = 0
            rowLabel.Font = Enum.Font.GothamBold
            rowLabel.Position = UDim2.new(0, 0, 0, 0)
            rowLabel.Visible = true
            rowLabel.TextYAlignment = Enum.TextYAlignment.Center
            rowLabel.TextScaled = false
            rowLabel.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            rowLabel.Parent = row

            local textboxContainer = Instance.new("Frame")
            textboxContainer.Name = "Frame"
            textboxContainer.Visible = true
            textboxContainer.ClipsDescendants = false
            textboxContainer.BorderColor3 = Color3.fromRGB(27, 42, 53)
            textboxContainer.LayoutOrder = 0
            textboxContainer.BackgroundTransparency = 1
            textboxContainer.Rotation = 0
            textboxContainer.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            textboxContainer.Position = UDim2.new(0.4, 0, 0, 0)
            textboxContainer.AnchorPoint = Vector2.new(0, 0)
            textboxContainer.ZIndex = 1
            textboxContainer.BorderSizePixel = 1
            textboxContainer.Size = UDim2.new(0.6, 0, 1, 0)
            textboxContainer.Parent = row

            local textbox = Instance.new("TextBox")
            textbox.Name = textboxName
            textbox.LayoutOrder = 0
            textbox.AnchorPoint = Vector2.new(0, 0.5)
            textbox.PlaceholderColor3 = Color3.fromRGB(160, 160, 165)
            textbox.BorderSizePixel = 0
            textbox.ZIndex = 1
            textbox.TextSize = 14
            textbox.Size = UDim2.new(1, 0, 0, 24)
            textbox.BackgroundTransparency = 0
            textbox.PlaceholderText = placeholderText
            textbox.TextYAlignment = Enum.TextYAlignment.Center
            textbox.TextColor3 = Color3.fromRGB(230, 230, 230)
            textbox.TextXAlignment = Enum.TextXAlignment.Center
            textbox.Text = ""
            textbox.TextEditable = true
            textbox.MultiLine = false
            textbox.Rotation = 0
            textbox.Font = Enum.Font.GothamBold
            textbox.Position = UDim2.new(0, 0, 0.5, 0)
            textbox.Visible = true
            textbox.ClearTextOnFocus = false
            textbox.TextScaled = false
            textbox.BackgroundColor3 = Color3.fromRGB(27, 30, 33)
            textbox.Parent = textboxContainer

            local textboxCorner = Instance.new("UICorner")
            textboxCorner.Name = "UICorner"
            textboxCorner.CornerRadius = UDim.new(0, 8)
            textboxCorner.Parent = textbox

            local textboxStroke = Instance.new("UIStroke")
            textboxStroke.Name = "UIStroke"
            textboxStroke.Thickness = 1
            textboxStroke.Transparency = 0.4
            textboxStroke.Color = Color3.fromRGB(55, 58, 61)
            textboxStroke.ZIndex = 1
            textboxStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            textboxStroke.LineJoinMode = Enum.LineJoinMode.Round
            textboxStroke.Parent = textbox

            local textboxGradient = Instance.new("UIGradient")
            textboxGradient.Name = "UIGradient"
            textboxGradient.Offset = Vector2.new(0, 0)
            textboxGradient.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            textboxGradient.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            textboxGradient.Rotation = 90
            textboxGradient.Parent = textbox

            local textboxPadding = Instance.new("UIPadding")
            textboxPadding.Name = "UIPadding"
            textboxPadding.PaddingTop = UDim.new(0, 0)
            textboxPadding.PaddingBottom = UDim.new(0, 0)
            textboxPadding.PaddingLeft = UDim.new(0, 10)
            textboxPadding.PaddingRight = UDim.new(0, 26)
            textboxPadding.Parent = textbox

            local clearButton = Instance.new("ImageButton")
            clearButton.Name = "ClearButton"
            clearButton.LayoutOrder = 0
            clearButton.ImageTransparency = 1
            clearButton.AnchorPoint = Vector2.new(1, 0.5)
            clearButton.Image = "rbxassetid://9127564477"
            clearButton.TileSize = UDim2.new(1, 0, 1, 0)
            clearButton.ZIndex = 2
            clearButton.BorderSizePixel = 1
            clearButton.Size = UDim2.new(0, 14, 0, 14)
            clearButton.ScaleType = Enum.ScaleType.Stretch
            clearButton.Modal = false
            clearButton.BackgroundTransparency = 1
            clearButton.AutoButtonColor = true
            clearButton.Rotation = 0
            clearButton.Position = UDim2.new(1, -7, 0.5, 0)
            clearButton.SliceScale = 1
            clearButton.Visible = true
            clearButton.ImageColor3 = Color3.fromRGB(160, 160, 165)
            clearButton.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
            clearButton.Parent = textbox

            return row
        end

        local function createInspirationActionButton(buttonName, buttonText)
            local button = Instance.new("TextButton")
            button.Name = buttonName
            button.LayoutOrder = 0
            button.TextWrapped = false
            button.TextTransparency = 0
            button.AnchorPoint = Vector2.new(0, 0)
            button.ZIndex = 1
            button.TextSize = 14
            button.Size = UDim2.new(1, 0, 0, 28)
            button.BorderSizePixel = 0
            button.BackgroundTransparency = 0
            button.TextColor3 = Color3.fromRGB(230, 230, 230)
            button.TextXAlignment = Enum.TextXAlignment.Center
            button.Text = buttonText
            button.Modal = false
            button.AutoButtonColor = false
            button.Rotation = 0
            button.Font = Enum.Font.GothamBold
            button.Position = UDim2.new(0, 0, 0, 0)
            button.Visible = true
            button.TextYAlignment = Enum.TextYAlignment.Center
            button.TextScaled = false
            button.BackgroundColor3 = Color3.fromRGB(27, 30, 33)

            local buttonCorner = Instance.new("UICorner")
            buttonCorner.Name = "UICorner"
            buttonCorner.CornerRadius = UDim.new(0, 8)
            buttonCorner.Parent = button

            local buttonStroke = Instance.new("UIStroke")
            buttonStroke.Name = "UIStroke"
            buttonStroke.Thickness = 1
            buttonStroke.Transparency = 0.4
            buttonStroke.Color = Color3.fromRGB(55, 58, 61)
            buttonStroke.ZIndex = 1
            buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
            buttonStroke.Parent = button

            local sheen = Instance.new("UIGradient")
            sheen.Name = "UIGradient"
            sheen.Offset = Vector2.new(0, 0)
            sheen.Transparency = NumberSequence.new({
                NumberSequenceKeypoint.new(0, 0.12),
                NumberSequenceKeypoint.new(0.5, 0.18),
                NumberSequenceKeypoint.new(1, 0.12),
            })
            sheen.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
                ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
            })
            sheen.Rotation = 90
            sheen.Parent = button

            return button
        end

        local right = Instance.new("ScrollingFrame")
        right.Name = "RightContentFrame1"
        right.LayoutOrder = 0
        right.AnchorPoint = Vector2.new(0, 0)
        right.ScrollingDirection = Enum.ScrollingDirection.XY
        right.ZIndex = 1
        right.BorderSizePixel = 0
        right.Size = UDim2.new(0.5, -21, 1, -68)
        right.Position = UDim2.new(0.5, 7, 0, 54)
        right.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        right.BackgroundTransparency = 1
        right.BackgroundColor3 = Color3.fromRGB(163, 162, 165)
        right.CanvasSize = UDim2.new(0, 0, 0, 0)
        right.AutomaticCanvasSize = Enum.AutomaticSize.Y
        right.ScrollBarThickness = 0
        right.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        right.Visible = true
        right.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        right.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        right.ScrollingEnabled = true
        right.CanvasPosition = Vector2.new(0, 0)

        local listLayout = Instance.new("UIListLayout")
        listLayout.Name = "UIListLayout"
        listLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        listLayout.FillDirection = Enum.FillDirection.Vertical
        listLayout.Padding = UDim.new(0, 12)
        listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        listLayout.SortOrder = Enum.SortOrder.LayoutOrder
        listLayout.Parent = right

        local framePadding = Instance.new("UIPadding")
        framePadding.Name = "FramePadding"
        framePadding.PaddingTop = UDim.new(0, 12)
        framePadding.PaddingBottom = UDim.new(0, 12)
        framePadding.PaddingLeft = UDim.new(0, 0)
        framePadding.PaddingRight = UDim.new(0, 0)
        framePadding.Parent = right

        -- Ore ESP
        local oreSection, oreElements = createInspirationSectionFrame(
            "OreESPSectionFrame",
            "Ore ESP",
            "rbxassetid://10723346959",
            132
        )
        createInspirationToggleRow("OreEspToggleRow", "Ore Esp", true).Parent = oreElements
        createInspirationDropdownRow("Ores", "[Select]").Parent = oreElements
        oreSection.Parent = right

        -- Other ESP
        local otherEspSection, otherEspElements = createInspirationSectionFrame(
            "OtherESPSectionFrame",
            "Other ESP",
            "rbxassetid://10747383470",
            258
        )
        createInspirationToggleRow("WanderingTraderEspToggleRow", "Wandering Trader Esp", true).Parent = otherEspElements
        createInspirationToggleRow("GodEspToggleRow", "God Esp", true).Parent = otherEspElements
        createInspirationToggleRow("MobEspToggleRow", "Mob Esp", true).Parent = otherEspElements
        createInspirationToggleRow("TotemEspToggleRow", "Totem Esp", true).Parent = otherEspElements
        createInspirationToggleRow("BalloonEspToggleRow", "Balloon Esp", true).Parent = otherEspElements
        otherEspSection.Parent = right

        -- Shop
        local shopSection, shopElements = createInspirationSectionFrame(
            "ShopSectionFrame",
            "Shop",
            "rbxassetid://10734952273",
            170
        )
        createInspirationActionButton("BuyItemButton", "Buy Item").Parent = shopElements
        createInspirationTextboxRow("Item", "ShopItemTextbox", "Gold").Parent = shopElements
        createInspirationTextboxRow("Times", "ShopTimesTextbox", "10").Parent = shopElements
        shopSection.Parent = right

        -- Achievements
        local achievementsSection, achievementsElements = createInspirationSectionFrame(
            "AchievementsSectionFrame",
            "Achievements",
            "rbxassetid://10709769508",
            420
        )
        createInspirationToggleRow("AutoDropPickupToggleRow", "Auto Drop + Pickup", true).Parent = achievementsElements
        createInspirationTextboxRow("item Name", "AchievementItemNameTextbox", "Items u want to..").Parent = achievementsElements
        createInspirationToggleRow("AutoPlaceSignsToggleRow", "Auto Place Signs", true).Parent = achievementsElements
        createInspirationToggleRow("AutoFishToggleRow", "Auto Fish", true).Parent = achievementsElements
        createInspirationToggleRow("AutoResetToggleRow", "Auto Reset", true).Parent = achievementsElements
        createInspirationToggleRow("AutoTameClosestAnimalToggleRow", "Auto Tame Closest Animal", true).Parent = achievementsElements
        createInspirationActionButton("FinishTravelButton", "Finish Travel").Parent = achievementsElements

        do
            local globalDivider = Instance.new("Frame")
            globalDivider.Name = "GlobalDivider"
            globalDivider.Visible = true
            globalDivider.BorderSizePixel = 1
            globalDivider.BackgroundTransparency = 1
            globalDivider.Size = UDim2.new(1, 0, 0, 22)
            globalDivider.BackgroundColor3 = Color3.fromRGB(163, 162, 165)

            local globalLabel = Instance.new("TextLabel")
            globalLabel.Name = "Label"
            globalLabel.AnchorPoint = Vector2.new(0.5, 0.5)
            globalLabel.Position = UDim2.new(0.5, 0, 0.5, 0)
            globalLabel.Size = UDim2.new(0, 0, 0, 14)
            globalLabel.BackgroundTransparency = 1
            globalLabel.Text = "Global"
            globalLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
            globalLabel.TextSize = 14
            globalLabel.Font = Enum.Font.GothamBold
            globalLabel.TextXAlignment = Enum.TextXAlignment.Center
            globalLabel.TextYAlignment = Enum.TextYAlignment.Center
            globalLabel.Parent = globalDivider

            local leftLine = Instance.new("Frame")
            leftLine.Name = "LeftLine"
            leftLine.AnchorPoint = Vector2.new(0, 0.5)
            leftLine.Position = UDim2.new(0, 0, 0.5, 0)
            leftLine.Size = UDim2.new(0, 94, 0, 1)
            leftLine.BorderSizePixel = 0
            leftLine.BackgroundTransparency = 0
            leftLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            leftLine.Parent = globalDivider

            local rightLine = Instance.new("Frame")
            rightLine.Name = "RightLine"
            rightLine.AnchorPoint = Vector2.new(1, 0.5)
            rightLine.Position = UDim2.new(1, 0, 0.5, 0)
            rightLine.Size = UDim2.new(0, 94, 0, 1)
            rightLine.BorderSizePixel = 0
            rightLine.BackgroundTransparency = 0
            rightLine.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
            rightLine.Parent = globalDivider

            globalDivider.Parent = achievementsElements
        end

        createInspirationToggleRow("AutoClaimAchievementsToggleRow", "Auto Claim Achievements", true).Parent = achievementsElements
        achievementsSection.Parent = right

        -- Other
        local otherSection, otherElements = createInspirationSectionFrame(
            "OtherSectionFrame",
            "Other",
            "rbxassetid://7743878358",
            300
        )
        createInspirationToggleRow("DeleteHutDoorsToggleRow", "Delete Hut Doors", true).Parent = otherElements
        createInspirationToggleRow("AutoEquipHoePickToggleRow", "Auto Equip Hoe/Pick", true).Parent = otherElements
        createInspirationToggleRow("AutoBedSpawnToggleRow", "Auto Bed Spawn", true).Parent = otherElements
        createInspirationToggleRow("AutoRebirthToggleRow", "Auto Rebirth", true).Parent = otherElements
        createInspirationToggleRow("AutoEquipToolToggleRow", "Auto Equip Tool", true).Parent = otherElements
        createInspirationTextboxRow("Tool Name", "ToolNameTextbox", "Tool u want to..").Parent = otherElements
        otherSection.Parent = right

        -- Queen Ant
        local queenAntSection, queenAntElements = createInspirationSectionFrame(
            "QueenAntSectionFrame",
            "Queen Ant",
            "rbxassetid://10709818626",
            128
        )
        createInspirationToggleRow("TrapQueenAntToggleRow", "Trap Queen Ant", true).Parent = queenAntElements
        createInspirationActionButton("AddItemButton", "Trap Queen Ant").Parent = queenAntElements
        queenAntSection.Parent = right

        return right
    end

    if buildDefaultContent then
        local miscRightPanel = createMiscRightPanel()
        miscRightPanel.Parent = miscPage

        local miscLeftPanel = createMiscLeftPanel()
        miscLeftPanel.Parent = miscPage

        local inventoryLeftPanel = createInventoryLeftPanel()
        inventoryLeftPanel.Parent = inventoryPage

        local inventoryRightPanel = createInventoryRightPanel()
        inventoryRightPanel.Parent = inventoryPage

        local tweenLeftPanel = createTweenLeftPanel()
        tweenLeftPanel.Parent = tweenPage

        local tweenRightPanel = createTweenRightPanel()
        tweenRightPanel.Parent = tweenPage
    end

    local pagesByTabText = {
        Settings = settingsPage,
        Main = mainPage,
        Farm = farmPage,
        Combat = combatPage,
        Tween = tweenPage,
        Misc = miscPage,
        Inventory = inventoryPage,
        Webhook = webhookPage,
    }

    -- Live module/element search
    local applySearchFilter

    -- Track active page explicitly (needed for animated tab transitions)
    local currentTabPage = nil

    local function normalizeSearchQuery(text)
        text = tostring(text or "")
        text = text:match("^%s*(.-)%s*$")
        return string.lower(text)
    end

    local function getActivePage()
        if currentTabPage and currentTabPage:IsA("Frame") and currentTabPage.Visible then
            return currentTabPage
        end
        for _, page in ipairs(pagesContainer:GetChildren()) do
            if page:IsA("Frame") and page.Visible then
                return page
            end
        end
        return nil
    end

    local function getRowSearchText(guiObject)
        if not guiObject then
            return ""
        end

        local label = guiObject:FindFirstChild("Label")
        if label and label:IsA("TextLabel") then
            return tostring(label.Text or "")
        end

        local dividerLabel = guiObject:FindFirstChild("TextLabel")
        if dividerLabel and dividerLabel:IsA("TextLabel") then
            return tostring(dividerLabel.Text or "")
        end

        if guiObject:IsA("TextButton") or guiObject:IsA("TextBox") then
            return tostring(guiObject.Text or "")
        end

        return tostring(guiObject.Name or "")
    end

    local SEARCH_TWEEN_TIME = 0.20
    local SEARCH_FADE_TIME = 0.08
    local SEARCH_EASE_STYLE = Enum.EasingStyle.Sine
    local SEARCH_EASE_DIR = Enum.EasingDirection.InOut

    local INITIAL_DROP_DELAY = 0.7
    local INITIAL_DROP_TWEEN_TIME = 0.40
    local INITIAL_DROP_FADE_TIME = 0.12

    local activeSearchRowTweens = {}
    local activeSearchSectionTweens = {}
    local activeSearchGroupTweens = {}

    local function encodeUDim2(u)
        return table.concat({
            tostring(u.X.Scale),
            tostring(u.X.Offset),
            tostring(u.Y.Scale),
            tostring(u.Y.Offset),
        }, ",")
    end

    local function decodeUDim2(str)
        if type(str) ~= "string" then
            return nil
        end
        local xs, xo, ys, yo = str:match("^([^,]+),([^,]+),([^,]+),([^,]+)$")
        if not xs then
            return nil
        end
        return UDim2.new(tonumber(xs) or 0, tonumber(xo) or 0, tonumber(ys) or 0, tonumber(yo) or 0)
    end

    local function getOrStoreOriginalSize(guiObject)
        local key = "AsteriaSearchOriginalSize"
        local stored = guiObject:GetAttribute(key)
        if stored == nil then
            local encoded = encodeUDim2(guiObject.Size)
            guiObject:SetAttribute(key, encoded)
            stored = encoded
        end
        return decodeUDim2(stored) or guiObject.Size
    end

    local function cancelTweenFor(map, instance)
        local t = map[instance]
        if t then
            t:Cancel()
            map[instance] = nil
        end
    end

    local function tweenGuiSize(guiObject, tweenMap, targetSize, duration)
        cancelTweenFor(tweenMap, guiObject)
        local t = TweenService:Create(guiObject, TweenInfo.new(duration or SEARCH_TWEEN_TIME, SEARCH_EASE_STYLE, SEARCH_EASE_DIR), {
            Size = targetSize,
        })
        tweenMap[guiObject] = t
        t.Completed:Once(function()
            if tweenMap[guiObject] == t then
                tweenMap[guiObject] = nil
            end
        end)
        t:Play()
        return t
    end

    local function getOrCreateSearchCanvasGroup(guiObject)
        local existing = guiObject:FindFirstChildWhichIsA("CanvasGroup")
        if existing then
            return existing
        end
        local cg = Instance.new("CanvasGroup")
        cg.Name = "SearchCanvasGroup"
        cg.GroupTransparency = 0
        cg.Parent = guiObject
        return cg
    end

    local function tweenCanvasGroup(canvasGroup, target, duration)
        cancelTweenFor(activeSearchGroupTweens, canvasGroup)
        local t = TweenService:Create(canvasGroup, TweenInfo.new(duration, SEARCH_EASE_STYLE, SEARCH_EASE_DIR), {
            GroupTransparency = target,
        })
        activeSearchGroupTweens[canvasGroup] = t
        t.Completed:Once(function()
            if activeSearchGroupTweens[canvasGroup] == t then
                activeSearchGroupTweens[canvasGroup] = nil
            end
        end)
        t:Play()
        return t
    end

    local function setRowVisibleAnimated(row, shouldBeVisible, tweenTime, fadeTime)
        if not row:IsA("GuiObject") then
            return
        end

        local originalSize = getOrStoreOriginalSize(row)
        local collapsedSize = UDim2.new(originalSize.X.Scale, originalSize.X.Offset, 0, 0)

        -- Only clip while animating height. Leaving this on permanently can visually cut off
        -- rounded corners / strokes on right-side inputs (the "squished/cut" look).
        row.ClipsDescendants = false

        local canvasGroup = getOrCreateSearchCanvasGroup(row)

        tweenTime = tweenTime or SEARCH_TWEEN_TIME
        fadeTime = fadeTime or SEARCH_FADE_TIME

        if shouldBeVisible then
            row.ClipsDescendants = true
            if not row.Visible then
                row.Visible = true
                row.Size = collapsedSize

                canvasGroup.GroupTransparency = 1
                local t = tweenGuiSize(row, activeSearchRowTweens, originalSize, tweenTime)
                t.Completed:Once(function()
                    if row and row.Parent and row.Visible then
                        row.ClipsDescendants = false
                    end
                end)
                tweenCanvasGroup(canvasGroup, 0, fadeTime)
            else
                -- If it was mid-collapse, ensure it expands back.
                local t = tweenGuiSize(row, activeSearchRowTweens, originalSize, tweenTime)
                t.Completed:Once(function()
                    if row and row.Parent and row.Visible then
                        row.ClipsDescendants = false
                    end
                end)
                tweenCanvasGroup(canvasGroup, 0, fadeTime)
            end
        else
            if not row.Visible then
                return
            end

            row.ClipsDescendants = true

            -- During rapid typing, we don't want to see content compress ("squish").
            -- Make the content disappear immediately, then animate the reflow (height collapse).
            cancelTweenFor(activeSearchGroupTweens, canvasGroup)
            canvasGroup.GroupTransparency = 1
            local sizeTween = tweenGuiSize(row, activeSearchRowTweens, collapsedSize, tweenTime)
            sizeTween.Completed:Once(function()
                if row and row.Parent and row.Size.Y.Offset == 0 and row.Size.Y.Scale == 0 then
                    row.Visible = false
                end
            end)
        end
    end

    applySearchFilter = function(queryText)
        local query = normalizeSearchQuery(queryText)
        local activePage = getActivePage()
        if not activePage then
            return
        end

        -- Tween page uses a different layout (sections with a `Body` frame) rather than `ElementsContainer`.
        -- The original search implementation no-ops there, so handle it explicitly.
        if activePage.Name == "TweenPage" then
            for _, scroller in ipairs(activePage:GetDescendants()) do
                if scroller:IsA("ScrollingFrame") and (scroller.Name == "TweenLeftContentFrame1" or scroller.Name == "TweenRightContentFrame1") then
                    for _, section in ipairs(scroller:GetChildren()) do
                        if section:IsA("Frame") then
                            if section:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                                section:SetAttribute("AsteriaSearchOriginalVisible", section.Visible)
                            end

                            local body = section:FindFirstChild("Body")
                            if body and body:IsA("Frame") then
                                local anyMatch = false
                                for _, row in ipairs(body:GetChildren()) do
                                    if row:IsA("GuiObject") then
                                        if row:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                                            row:SetAttribute("AsteriaSearchOriginalVisible", row.Visible)
                                        end

                                        local shouldShow = false
                                        if query == "" then
                                            local originalVisible = row:GetAttribute("AsteriaSearchOriginalVisible")
                                            shouldShow = (originalVisible == nil) and true or originalVisible
                                        else
                                            local hay = string.lower(getRowSearchText(row))
                                            local nameHay = string.lower(tostring(row.Name or ""))
                                            shouldShow = (hay:find(query, 1, true) ~= nil) or (nameHay:find(query, 1, true) ~= nil)
                                        end

                                        if shouldShow then
                                            anyMatch = true
                                        end

                                        setRowVisibleAnimated(row, shouldShow)
                                    end
                                end

                                local originalSectionVisible = section:GetAttribute("AsteriaSearchOriginalVisible")
                                local shouldSectionEverShow = (originalSectionVisible == nil) and true or originalSectionVisible

                                if query == "" then
                                    section.Visible = shouldSectionEverShow
                                else
                                    section.Visible = shouldSectionEverShow and anyMatch
                                end
                            end
                        end
                    end
                end
            end
            return
        end

        -- During initial load, keep everything headers-only regardless of query.
        if initialDropHolding then
            return
        end

        for _, elementsContainer in ipairs(activePage:GetDescendants()) do
            if elementsContainer:IsA("ScrollingFrame") and elementsContainer.Name == "ElementsContainer" then
                local sectionFrame = nil
                if elementsContainer.Parent and elementsContainer.Parent.Parent and elementsContainer.Parent.Parent:IsA("Frame") then
                    sectionFrame = elementsContainer.Parent.Parent
                end

                local anyMatch = false
                local visibleCount = 0
                local sumRowHeights = 0

                local elementsPadding = elementsContainer:FindFirstChild("UIPadding")
                local elementsLayout = elementsContainer:FindFirstChild("UIListLayout")
                local paddingTop = (elementsPadding and elementsPadding:IsA("UIPadding")) and elementsPadding.PaddingTop.Offset or 0
                local paddingBottom = (elementsPadding and elementsPadding:IsA("UIPadding")) and elementsPadding.PaddingBottom.Offset or 0
                local listPadding = (elementsLayout and elementsLayout:IsA("UIListLayout")) and elementsLayout.Padding.Offset or 0

                for _, child in ipairs(elementsContainer:GetChildren()) do
                    if child:IsA("GuiObject") then
                        if child:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                            child:SetAttribute("AsteriaSearchOriginalVisible", child.Visible)
                        end

                        local shouldShow = false
                        if query == "" then
                            local originalVisible = child:GetAttribute("AsteriaSearchOriginalVisible")
                            shouldShow = (originalVisible == nil) and true or originalVisible
                        else
                            local hay = string.lower(getRowSearchText(child))
                            local nameHay = string.lower(tostring(child.Name or ""))
                            shouldShow = (hay:find(query, 1, true) ~= nil) or (nameHay:find(query, 1, true) ~= nil)
                        end

                        if shouldShow then
                            anyMatch = true
                            visibleCount += 1
                            local originalSize = getOrStoreOriginalSize(child)
                            sumRowHeights += (originalSize.Y.Offset or 0)
                        end

                        setRowVisibleAnimated(child, shouldShow)
                    end
                end

                if sectionFrame then
                    if sectionFrame:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                        sectionFrame:SetAttribute("AsteriaSearchOriginalVisible", sectionFrame.Visible)
                    end

                    if sectionFrame:GetAttribute("AsteriaSearchOriginalSize") == nil then
                        sectionFrame:SetAttribute("AsteriaSearchOriginalSize", encodeUDim2(sectionFrame.Size))
                    end

                    local originalSectionVisible = sectionFrame:GetAttribute("AsteriaSearchOriginalVisible")
                    local shouldSectionEverShow = (originalSectionVisible == nil) and true or originalSectionVisible

                    if query == "" then
                        -- Restore section visibility and size
                        sectionFrame.Visible = shouldSectionEverShow
                        if shouldSectionEverShow then
                            local originalSectionSize = decodeUDim2(sectionFrame:GetAttribute("AsteriaSearchOriginalSize")) or sectionFrame.Size
                            tweenGuiSize(sectionFrame, activeSearchSectionTweens, originalSectionSize, SEARCH_TWEEN_TIME)
                        end
                    else
                        if not shouldSectionEverShow then
                            sectionFrame.Visible = false
                        else
                            -- Hide entire empty sections instantly (same behavior as before)
                            if not anyMatch then
                                sectionFrame.Visible = false
                            else
                                -- Ensure section is visible, then animate its height to fit the remaining rows.
                                if not sectionFrame.Visible then
                                    sectionFrame.Visible = true
                                    local currentSize = decodeUDim2(sectionFrame:GetAttribute("AsteriaSearchOriginalSize")) or sectionFrame.Size
                                    sectionFrame.Size = UDim2.new(currentSize.X.Scale, currentSize.X.Offset, 0, 0)
                                end

                                local contentHeight = paddingTop + paddingBottom + sumRowHeights
                                if visibleCount > 1 then
                                    contentHeight += listPadding * (visibleCount - 1)
                                end

                                local targetHeight = 36 + contentHeight
                                local originalSectionSize = decodeUDim2(sectionFrame:GetAttribute("AsteriaSearchOriginalSize")) or sectionFrame.Size
                                local targetSize = UDim2.new(originalSectionSize.X.Scale, originalSectionSize.X.Offset, 0, targetHeight)
                                tweenGuiSize(sectionFrame, activeSearchSectionTweens, targetSize, SEARCH_TWEEN_TIME)
                            end
                        end
                    end
                end
            end
        end
    end

    -- Initial load: show only headers, then drop modules in after 1s
    local initialDropPlayed = false
    local initialDropHolding = false

    local function getSectionFrameFromElementsContainer(elementsContainer)
        if elementsContainer
            and elementsContainer.Parent
            and elementsContainer.Parent.Parent
            and elementsContainer.Parent.Parent:IsA("Frame") then
            return elementsContainer.Parent.Parent
        end
        return nil
    end

    local function collapseAllRowsForPage(page)
        for _, elementsContainer in ipairs(page:GetDescendants()) do
            if elementsContainer:IsA("ScrollingFrame") and elementsContainer.Name == "ElementsContainer" then
                local sectionFrame = getSectionFrameFromElementsContainer(elementsContainer)

                if sectionFrame then
                    -- Prevent any in-flight resize tweens from re-expanding sections early.
                    cancelTweenFor(activeSearchSectionTweens, sectionFrame)

                    if sectionFrame:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                        sectionFrame:SetAttribute("AsteriaSearchOriginalVisible", sectionFrame.Visible)
                    end
                    if sectionFrame:GetAttribute("AsteriaSearchOriginalSize") == nil then
                        sectionFrame:SetAttribute("AsteriaSearchOriginalSize", encodeUDim2(sectionFrame.Size))
                    end

                    -- Keep header visible, collapse overall section to header height.
                    sectionFrame.Visible = true
                    local originalSectionSize = decodeUDim2(sectionFrame:GetAttribute("AsteriaSearchOriginalSize")) or sectionFrame.Size
                    sectionFrame.Size = UDim2.new(originalSectionSize.X.Scale, originalSectionSize.X.Offset, 0, 36)
                end

                for _, child in ipairs(elementsContainer:GetChildren()) do
                    if child:IsA("GuiObject") then
                        if child:GetAttribute("AsteriaSearchOriginalVisible") == nil then
                            child:SetAttribute("AsteriaSearchOriginalVisible", child.Visible)
                        end

                        -- Prevent any in-flight row tweens (from tab switch/search) from re-expanding rows early.
                        cancelTweenFor(activeSearchRowTweens, child)

                        -- Store original size before we change it.
                        getOrStoreOriginalSize(child)

                        local originallyVisible = child:GetAttribute("AsteriaSearchOriginalVisible")
                        if originallyVisible == nil then
                            originallyVisible = true
                        end

                        if originallyVisible then
                            local originalSize = getOrStoreOriginalSize(child)
                            local collapsedSize = UDim2.new(originalSize.X.Scale, originalSize.X.Offset, 0, 0)

                            child.Visible = true
                            child.Size = collapsedSize

                            local cg = getOrCreateSearchCanvasGroup(child)
                            cancelTweenFor(activeSearchGroupTweens, cg)
                            cg.GroupTransparency = 1
                        else
                            child.Visible = false
                        end
                    end
                end
            end
        end
    end

    local function expandAllRowsForPage(page)
        for _, elementsContainer in ipairs(page:GetDescendants()) do
            if elementsContainer:IsA("ScrollingFrame") and elementsContainer.Name == "ElementsContainer" then
                local sectionFrame = getSectionFrameFromElementsContainer(elementsContainer)
                if sectionFrame then
                    local originalSectionVisible = sectionFrame:GetAttribute("AsteriaSearchOriginalVisible")
                    local shouldShowSection = (originalSectionVisible == nil) and true or originalSectionVisible
                    if shouldShowSection then
                        sectionFrame.Visible = true
                        local originalSectionSize = decodeUDim2(sectionFrame:GetAttribute("AsteriaSearchOriginalSize")) or sectionFrame.Size
                        tweenGuiSize(sectionFrame, activeSearchSectionTweens, originalSectionSize, INITIAL_DROP_TWEEN_TIME)
                    else
                        sectionFrame.Visible = false
                    end
                end

                for _, child in ipairs(elementsContainer:GetChildren()) do
                    if child:IsA("GuiObject") then
                        local originallyVisible = child:GetAttribute("AsteriaSearchOriginalVisible")
                        if originallyVisible == nil then
                            originallyVisible = true
                        end
                        if originallyVisible then
                            setRowVisibleAnimated(child, true, INITIAL_DROP_TWEEN_TIME, INITIAL_DROP_FADE_TIME)
                        else
                            child.Visible = false
                        end
                    end
                end
            end
        end
    end

    local function playInitialModuleDropAnimation()
        if initialDropPlayed then
            return
        end
        initialDropPlayed = true

        -- Start: headers only
        initialDropHolding = true
        for _, p in pairs(pagesByTabText) do
            if p and p:IsA("Frame") then
                collapseAllRowsForPage(p)
            end
        end

        -- After delay: drop in rows
        task.delay(INITIAL_DROP_DELAY, function()
            initialDropHolding = false
            for _, p in pairs(pagesByTabText) do
                if p and p:IsA("Frame") then
                    expandAllRowsForPage(p)
                end
            end
            -- If a search query is already present, immediately apply it after drop.
            if applySearchFilter and searchBox and searchBox.Text and searchBox.Text ~= "" then
                applySearchFilter(searchBox.Text)
            end
        end)
    end

    -- Page/tab switch animation (fade + slight slide)
    local PAGE_SWITCH_TIME = 0.18
    local PAGE_SWITCH_OFFSET_PX = 10
    local PAGE_SWITCH_EASE_STYLE = Enum.EasingStyle.Quad
    local PAGE_SWITCH_EASE_DIR = Enum.EasingDirection.Out

    local activePagePosTweens = {}
    local activePageFadeTweens = {}
    local pageSwitchToken = 0

    local function setPageVisible(tabText)
        local function getOrStoreOriginalPos(guiObject)
            local key = "AsteriaPageOriginalPos"
            local stored = guiObject:GetAttribute(key)
            if stored == nil then
                local encoded = encodeUDim2(guiObject.Position)
                guiObject:SetAttribute(key, encoded)
                stored = encoded
            end
            return decodeUDim2(stored) or guiObject.Position
        end

        local function tweenGuiPosition(guiObject, tweenMap, targetPos, duration)
            cancelTweenFor(tweenMap, guiObject)
            local t = TweenService:Create(guiObject, TweenInfo.new(duration or PAGE_SWITCH_TIME, PAGE_SWITCH_EASE_STYLE, PAGE_SWITCH_EASE_DIR), {
                Position = targetPos,
            })
            tweenMap[guiObject] = t
            t.Completed:Once(function()
                if tweenMap[guiObject] == t then
                    tweenMap[guiObject] = nil
                end
            end)
            t:Play()
            return t
        end

        local function getOrCreatePageCanvasGroup(page)
            local cg = page:FindFirstChild("PageCanvasGroup")
            if not (cg and cg:IsA("CanvasGroup")) then
                cg = Instance.new("CanvasGroup")
                cg.Name = "PageCanvasGroup"
                cg.BackgroundTransparency = 1
                cg.BorderSizePixel = 0
                cg.Size = UDim2.new(1, 0, 1, 0)
                cg.Position = UDim2.new(0, 0, 0, 0)
                cg.ZIndex = 1
                cg.GroupTransparency = 0
                cg.Parent = page
            end

            -- Ensure the page contents are inside the CanvasGroup so fading affects everything.
            for _, child in ipairs(page:GetChildren()) do
                if child ~= cg then
                    child.Parent = cg
                end
            end

            return cg
        end

        local function tweenPageCanvasGroup(canvasGroup, target, duration)
            cancelTweenFor(activePageFadeTweens, canvasGroup)
            local t = TweenService:Create(canvasGroup, TweenInfo.new(duration or PAGE_SWITCH_TIME, PAGE_SWITCH_EASE_STYLE, PAGE_SWITCH_EASE_DIR), {
                GroupTransparency = target,
            })
            activePageFadeTweens[canvasGroup] = t
            t.Completed:Once(function()
                if activePageFadeTweens[canvasGroup] == t then
                    activePageFadeTweens[canvasGroup] = nil
                end
            end)
            t:Play()
            return t
        end

        local targetPage = pagesByTabText[tabText]
        if not targetPage then
            return
        end

        -- First show: no transition (prevents weird intro fades)
        if not currentTabPage then
            for _, p in pairs(pagesByTabText) do
                if p and p:IsA("Frame") then
                    p.Visible = false
                end
            end
            currentTabPage = targetPage
            targetPage.Visible = true
            targetPage.Position = getOrStoreOriginalPos(targetPage)
            local cg = getOrCreatePageCanvasGroup(targetPage)
            cg.GroupTransparency = 0
            if applySearchFilter then
                applySearchFilter(searchBox and searchBox.Text or "")
            end
            return
        end

        if targetPage == currentTabPage then
            if applySearchFilter then
                applySearchFilter(searchBox and searchBox.Text or "")
            end
            return
        end

        pageSwitchToken += 1
        local myToken = pageSwitchToken

        local outgoingPage = currentTabPage
        currentTabPage = targetPage

        local incomingPos = getOrStoreOriginalPos(targetPage)
        local outgoingPos = getOrStoreOriginalPos(outgoingPage)

        -- Make sure incoming is visible before tween
        targetPage.Visible = true

        local incomingCg = getOrCreatePageCanvasGroup(targetPage)
        local outgoingCg = getOrCreatePageCanvasGroup(outgoingPage)

        -- Prep incoming state
        cancelTweenFor(activePagePosTweens, targetPage)
        incomingCg.GroupTransparency = 1
        targetPage.Position = UDim2.new(incomingPos.X.Scale, incomingPos.X.Offset, incomingPos.Y.Scale, incomingPos.Y.Offset + PAGE_SWITCH_OFFSET_PX)

        tweenPageCanvasGroup(incomingCg, 0, PAGE_SWITCH_TIME)
        tweenGuiPosition(targetPage, activePagePosTweens, incomingPos, PAGE_SWITCH_TIME)

        -- Animate outgoing
        cancelTweenFor(activePagePosTweens, outgoingPage)
        tweenPageCanvasGroup(outgoingCg, 1, PAGE_SWITCH_TIME)
        local outgoingTargetPos = UDim2.new(outgoingPos.X.Scale, outgoingPos.X.Offset, outgoingPos.Y.Scale, outgoingPos.Y.Offset - PAGE_SWITCH_OFFSET_PX)
        local outPosTween = tweenGuiPosition(outgoingPage, activePagePosTweens, outgoingTargetPos, PAGE_SWITCH_TIME)
        outPosTween.Completed:Once(function()
            if myToken ~= pageSwitchToken then
                return
            end
            outgoingPage.Visible = false
            outgoingPage.Position = outgoingPos
            outgoingCg.GroupTransparency = 0
        end)

        if applySearchFilter then
            applySearchFilter(searchBox and searchBox.Text or "")
        end
    end

    if searchBox then
        local queued = false
        local pendingQuery = ""
        searchBox:GetPropertyChangedSignal("Text"):Connect(function()
            if not applySearchFilter then
                return
            end
            pendingQuery = searchBox.Text
            if queued then
                return
            end
            queued = true
            task.defer(function()
                queued = false
                if applySearchFilter then
                    applySearchFilter(pendingQuery)
                end
            end)
        end)
    end

    -- Generated GUI Script - SideBar
    local function createSideBar()
        local sidebar = Instance.new("Frame")
        sidebar.Name = "Sidebar"
        sidebar.Visible = true
        sidebar.ClipsDescendants = false
        sidebar.BorderColor3 = Color3.fromRGB(27,42,53)
        sidebar.LayoutOrder = 0
        sidebar.BackgroundTransparency = 0
        sidebar.Rotation = 0
        sidebar.BackgroundColor3 = Color3.fromRGB(18,20,22)
        sidebar.Position = UDim2.new(0, 0, 0, 0)
        sidebar.AnchorPoint = Vector2.new(0,0)
        sidebar.ZIndex = 1
        sidebar.BorderSizePixel = 0
        sidebar.Size = UDim2.new(0, 180, 1, 0)
        
            local sidebarCorner = Instance.new("UICorner")
            sidebarCorner.Name = "UICorner"
            sidebarCorner.CornerRadius = UDim.new(0,12)
            sidebarCorner.Parent = sidebar
            
            local sidebarStroke = Instance.new("UIStroke")
            sidebarStroke.Name = "UIStroke"
            sidebarStroke.Thickness = 1
            sidebarStroke.Transparency = 0.5
            sidebarStroke.Color = Color3.fromRGB(40,43,46)
            sidebarStroke.ZIndex = 1
            sidebarStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
            sidebarStroke.LineJoinMode = Enum.LineJoinMode.Round
            sidebarStroke.Parent = sidebar
            
            local sidebarGradient1 = Instance.new("UIGradient")
            sidebarGradient1.Name = "UIGradient"
            sidebarGradient1.Offset = Vector2.new(0,0)
            sidebarGradient1.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0,0.05),NumberSequenceKeypoint.new(0.5,0.1),NumberSequenceKeypoint.new(1,0.07)})
            sidebarGradient1.Color = ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.fromRGB(255,255,255)),ColorSequenceKeypoint.new(1,Color3.fromRGB(255,255,255))})
            sidebarGradient1.Rotation = 90
            sidebarGradient1.Parent = sidebar
            
            local sidebarGradient2 = Instance.new("UIGradient")
            sidebarGradient2.Name = "UIGradient"
            sidebarGradient2.Offset = Vector2.new(0,0)
            sidebarGradient2.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0,0.25),NumberSequenceKeypoint.new(1,0.25)})
            -- Subtle tint (like the old dark red overlay): keep both stops near the base "black"
            sidebarGradient2.Color = ColorSequence.new({
                ColorSequenceKeypoint.new(0, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.04)),
                ColorSequenceKeypoint.new(1, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.12))
            })
            sidebarGradient2.Rotation = 90
            sidebarGradient2.Parent = sidebar
            
            local titleContainer = Instance.new("Frame")
            titleContainer.Name = "TitleContainer"
            titleContainer.Visible = true
            titleContainer.ClipsDescendants = false
            titleContainer.BorderColor3 = Color3.fromRGB(27,42,53)
            titleContainer.LayoutOrder = 0
            titleContainer.BackgroundTransparency = 1
            titleContainer.Rotation = 0
            titleContainer.BackgroundColor3 = Color3.fromRGB(163,162,165)
            titleContainer.Position = UDim2.new(0,0,0,0)
            titleContainer.AnchorPoint = Vector2.new(0,0)
            titleContainer.ZIndex = 1
            titleContainer.BorderSizePixel = 1
            titleContainer.Size = UDim2.new(1,0,0,64)
            
                local logoContainer = Instance.new("Frame")
                logoContainer.Name = "LogoContainer"
                logoContainer.Visible = true
                logoContainer.ClipsDescendants = false
                logoContainer.BorderColor3 = Color3.fromRGB(27,42,53)
                logoContainer.LayoutOrder = 0
                logoContainer.BackgroundTransparency = 1
                logoContainer.Rotation = 0
                logoContainer.BackgroundColor3 = Color3.fromRGB(163,162,165)
                logoContainer.Position = UDim2.new(0,0,0,0)
                logoContainer.AnchorPoint = Vector2.new(0,0)
                logoContainer.ZIndex = 1
                logoContainer.BorderSizePixel = 1
                logoContainer.Size = UDim2.new(1,0,1,0)
                
                    local logoImage = Instance.new("ImageLabel")
                    logoImage.Name = "Logo"
                    logoImage.LayoutOrder = 0
                    logoImage.ImageTransparency = 0
                    logoImage.AnchorPoint = Vector2.new(0,0)
                    logoImage.Image = "rbxassetid://126752153849217"
                    logoImage.TileSize = UDim2.new(1,0,1,0)
                    logoImage.ZIndex = 1
                    logoImage.BorderSizePixel = 1
                    logoImage.Size = UDim2.new(1,0,1,10)
                    logoImage.ScaleType = Enum.ScaleType.Fit
                    logoImage.BackgroundTransparency = 1
                    logoImage.Rotation = 0
                    logoImage.Visible = true
                    logoImage.Position = UDim2.new(0,0,0,-5)
                    logoImage.SliceScale = 1
                    logoImage.ImageColor3 = Color3.fromRGB(255,255,255)
                    logoImage.BackgroundColor3 = Color3.fromRGB(163,162,165)
                    logoImage.Parent = logoContainer
                    
                logoContainer.Parent = titleContainer
            titleContainer.Parent = sidebar
            
            local titleSeparator = Instance.new("Frame")
            titleSeparator.Name = "TitleSeparator"
            titleSeparator.Visible = true
            titleSeparator.ClipsDescendants = false
            titleSeparator.BorderColor3 = Color3.fromRGB(27,42,53)
            titleSeparator.LayoutOrder = 0
            titleSeparator.BackgroundTransparency = 0
            titleSeparator.Rotation = 0
            titleSeparator.BackgroundColor3 = Color3.fromRGB(18,20,22)
            titleSeparator.Position = UDim2.new(0,10,0,64)
            titleSeparator.AnchorPoint = Vector2.new(0,0)
            titleSeparator.ZIndex = 1
            titleSeparator.BorderSizePixel = 0
            titleSeparator.Size = UDim2.new(1,-20,0,8)
            
                local separatorCorner = Instance.new("UICorner")
                separatorCorner.Name = "UICorner"
                separatorCorner.CornerRadius = UDim.new(0,4)
                separatorCorner.Parent = titleSeparator
                
                local separatorGradient = Instance.new("UIGradient")
                separatorGradient.Name = "UIGradient"
                separatorGradient.Offset = Vector2.new(0,0)
                separatorGradient.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0,1),NumberSequenceKeypoint.new(0.35,0.7),NumberSequenceKeypoint.new(0.5,0.55),NumberSequenceKeypoint.new(0.65,0.7),NumberSequenceKeypoint.new(1,1)})
                separatorGradient.Color = ColorSequence.new({ColorSequenceKeypoint.new(0,Color3.fromRGB(255,255,255)),ColorSequenceKeypoint.new(1,Color3.fromRGB(255,255,255))})
                separatorGradient.Rotation = 90
                separatorGradient.Parent = titleSeparator
                
                local accentUnderline = Instance.new("Frame")
                accentUnderline.Name = "AccentUnderline"
                accentUnderline.Visible = true
                accentUnderline.ClipsDescendants = false
                accentUnderline.BorderColor3 = Color3.fromRGB(27,42,53)
                accentUnderline.LayoutOrder = 0
                accentUnderline.BackgroundTransparency = 0
                accentUnderline.Rotation = 0
                -- White base so UIGradient shows true black→pink
                accentUnderline.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                accentUnderline.Position = UDim2.new(0.5,0,0,3)
                accentUnderline.AnchorPoint = Vector2.new(0.5,0)
                accentUnderline.ZIndex = 1
                accentUnderline.BorderSizePixel = 0
                accentUnderline.Size = UDim2.new(0,100,0,3)
                
                    local accentCorner = Instance.new("UICorner")
                    accentCorner.Name = "UICorner"
                    accentCorner.CornerRadius = UDim.new(1,0)
                    accentCorner.Parent = accentUnderline
                    
                    local accentGradient = Instance.new("UIGradient")
                    accentGradient.Name = "UIGradient"
                    accentGradient.Offset = Vector2.new(0,0)
                    accentGradient.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0,1),NumberSequenceKeypoint.new(0.25,0),NumberSequenceKeypoint.new(0.5,0),NumberSequenceKeypoint.new(0.75,0),NumberSequenceKeypoint.new(1,1)})
                    accentGradient.Color = ColorSequence.new({
                        ColorSequenceKeypoint.new(0, ACCENT_BLACK),
                        ColorSequenceKeypoint.new(1, ACCENT_PRIMARY)
                    })
                    accentGradient.Rotation = 0
                    accentGradient.Parent = accentUnderline
                    
                accentUnderline.Parent = titleSeparator
            titleSeparator.Parent = sidebar
            
            local tabScroll = Instance.new("ScrollingFrame")
            tabScroll.Name = "TabScroll"
            tabScroll.LayoutOrder = 0
            tabScroll.AnchorPoint = Vector2.new(0,0)
            tabScroll.ScrollingDirection = Enum.ScrollingDirection.Y
            tabScroll.ZIndex = 1
            tabScroll.BorderSizePixel = 0
            tabScroll.Size = UDim2.new(1,0,1,-74)
            tabScroll.ScrollBarImageColor3 = Color3.fromRGB(255,255,255)
            tabScroll.BackgroundTransparency = 1
            tabScroll.CanvasSize = UDim2.new(0,0,0,294)
            tabScroll.ScrollBarThickness = 0
            tabScroll.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
            tabScroll.Visible = true
            tabScroll.Rotation = 0
            tabScroll.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
            tabScroll.Position = UDim2.new(0,0,0,74)
            tabScroll.ScrollingEnabled = true
            tabScroll.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
            tabScroll.CanvasPosition = Vector2.new(0,0)
            tabScroll.BackgroundColor3 = Color3.fromRGB(163,162,165)
            
                local tabListLayout = Instance.new("UIListLayout")
                tabListLayout.Name = "UIListLayout"
                tabListLayout.VerticalAlignment = Enum.VerticalAlignment.Top
                tabListLayout.FillDirection = Enum.FillDirection.Vertical
                tabListLayout.Padding = UDim.new(0,6)
                tabListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
                tabListLayout.SortOrder = Enum.SortOrder.LayoutOrder
                tabListLayout.Parent = tabScroll
                
                local tabPadding = Instance.new("UIPadding")
                tabPadding.Name = "UIPadding"
                tabPadding.PaddingTop = UDim.new(0,12)
                tabPadding.PaddingBottom = UDim.new(0,0)
                tabPadding.PaddingLeft = UDim.new(0,16)
                tabPadding.PaddingRight = UDim.new(0,16)
                tabPadding.Parent = tabScroll
                if buildTabs then
                    -- Create tab buttons with meaningful names
                    local tabButtonsData = {
                        {name = "SettingsTabButton", text = "Settings", icon = "rbxassetid://7743878358", isSelected = false},
                        {name = "MainTabButton", text = "Main", icon = "rbxassetid://10723407389", isSelected = false},
                        {name = "FarmTabButton", text = "Farm", icon = "rbxassetid://6034509993", isSelected = true},
                        {name = "CombatTabButton", text = "Combat", icon = "rbxassetid://7734058599", isSelected = false},
                        {name = "MiscTabButton", text = "Misc", icon = "rbxassetid://10734930886", isSelected = false},
                        {name = "InventoryTabButton", text = "Inventory", icon = "rbxassetid://10709769841", isSelected = false},
                        {name = "TweenTabButton", text = "Tween", icon = "rbxassetid://10734900011", isSelected = false},
                        {name = "WebhookTabButton", text = "Webhook", icon = "rbxassetid://10723426722", isSelected = false}
                    }

                    for _, buttonData in ipairs(tabButtonsData) do
                    local tabButton = Instance.new("TextButton")
                    tabButton.Name = buttonData.name
                    tabButton.LayoutOrder = 0
                    tabButton.TextWrapped = false
                    tabButton.TextTransparency = 0
                    tabButton.AnchorPoint = Vector2.new(0,0)
                    tabButton.ZIndex = 1
                    tabButton.TextSize = 8
                    tabButton.Size = UDim2.new(1,-8,0,30)
                    tabButton.BorderSizePixel = 0
                    tabButton.BackgroundTransparency = buttonData.isSelected and 0.10000002384185791 or 1
                    tabButton.TextColor3 = Color3.fromRGB(27,42,53)
                    tabButton.TextXAlignment = Enum.TextXAlignment.Center
                    tabButton.Text = ""
                    tabButton.Modal = false
                    tabButton.AutoButtonColor = false
                    tabButton.Rotation = 0
                    tabButton.Font = Enum.Font.Legacy
                    tabButton.Position = UDim2.new(0,4,0,0)
                    tabButton.Visible = true
                    tabButton.TextYAlignment = Enum.TextYAlignment.Center
                    tabButton.TextScaled = false
                    -- White base so UIGradient shows black→pink accurately.
                    tabButton.BackgroundColor3 = buttonData.isSelected and Color3.fromRGB(255,255,255) or Color3.fromRGB(33,36,40)
                    
                    local buttonCorner = Instance.new("UICorner")
                    buttonCorner.Name = "UICorner"
                    buttonCorner.CornerRadius = UDim.new(0,8)
                    buttonCorner.Parent = tabButton
                    
                    local buttonStroke = Instance.new("UIStroke")
                    buttonStroke.Name = "UIStroke"
                    buttonStroke.Thickness = 0.5
                    buttonStroke.Transparency = buttonData.isSelected and 0.30000001192092896 or 1
                    buttonStroke.Color = Color3.fromRGB(40,43,46)
                    buttonStroke.ZIndex = 1
                    buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                    buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
                    buttonStroke.Parent = tabButton
                    
                    local buttonGradient = Instance.new("UIGradient")
                    buttonGradient.Name = "UIGradient"
                    buttonGradient.Offset = Vector2.new(0,0)
                    buttonGradient.Transparency = NumberSequence.new({NumberSequenceKeypoint.new(0,0),NumberSequenceKeypoint.new(1,0)})
                    buttonGradient.Color = ColorSequence.new({
                        ColorSequenceKeypoint.new(0, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.10)),
                        ColorSequenceKeypoint.new(1, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.45)),
                    })
                    buttonGradient.Rotation = 45
                    buttonGradient.Parent = tabButton
                    
                    local contentHolder = Instance.new("Frame")
                    contentHolder.Name = "ContentHolder"
                    contentHolder.Visible = true
                    contentHolder.ClipsDescendants = false
                    contentHolder.BorderColor3 = Color3.fromRGB(27,42,53)
                    contentHolder.LayoutOrder = 0
                    contentHolder.BackgroundTransparency = 1
                    contentHolder.Rotation = 0
                    contentHolder.BackgroundColor3 = Color3.fromRGB(163,162,165)
                    contentHolder.Position = UDim2.new(0,0,0,0)
                    contentHolder.AnchorPoint = Vector2.new(0,0)
                    contentHolder.ZIndex = 3
                    contentHolder.BorderSizePixel = 1
                    contentHolder.Size = UDim2.new(1,0,1,0)
                    
                    local contentPadding = Instance.new("UIPadding")
                    contentPadding.Name = "UIPadding"
                    contentPadding.PaddingTop = UDim.new(0,0)
                    contentPadding.PaddingBottom = UDim.new(0,0)
                    contentPadding.PaddingLeft = UDim.new(0,15)
                    contentPadding.PaddingRight = UDim.new(0,12)
                    contentPadding.Parent = contentHolder
                    
                    local contentLayout = Instance.new("UIListLayout")
                    contentLayout.Name = "UIListLayout"
                    contentLayout.VerticalAlignment = Enum.VerticalAlignment.Center
                    contentLayout.FillDirection = Enum.FillDirection.Horizontal
                    contentLayout.Padding = UDim.new(0,8)
                    contentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
                    contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
                    contentLayout.Parent = contentHolder
                    
                    local buttonIcon = Instance.new("ImageLabel")
                    buttonIcon.Name = "Icon"
                    buttonIcon.LayoutOrder = 1
                    buttonIcon.ImageTransparency = 0
                    buttonIcon.AnchorPoint = Vector2.new(0,0)
                    buttonIcon.Image = buttonData.icon
                    buttonIcon.TileSize = UDim2.new(1,0,1,0)
                    buttonIcon.ZIndex = 1
                    buttonIcon.BorderSizePixel = 1
                    buttonIcon.Size = UDim2.new(0,16,0,16)
                    buttonIcon.ScaleType = Enum.ScaleType.Stretch
                    buttonIcon.BackgroundTransparency = 1
                    buttonIcon.Rotation = 0
                    buttonIcon.Visible = true
                    buttonIcon.Position = UDim2.new(0,0,0,0)
                    buttonIcon.SliceScale = 1
                    buttonIcon.ImageColor3 = buttonData.isSelected and Color3.fromRGB(230,230,230) or Color3.fromRGB(160,160,165)
                    buttonIcon.BackgroundColor3 = Color3.fromRGB(163,162,165)
                    buttonIcon.Parent = contentHolder
                    
                    local buttonLabel = Instance.new("TextLabel")
                    buttonLabel.Name = "TabLabel"
                    buttonLabel.LayoutOrder = 2
                    buttonLabel.TextWrapped = false
                    buttonLabel.TextTransparency = 0
                    buttonLabel.TextStrokeTransparency = 1
                    buttonLabel.AnchorPoint = Vector2.new(0,0)
                    buttonLabel.ZIndex = 1
                    buttonLabel.TextSize = 14
                    buttonLabel.Size = UDim2.new(1,0,0,14)
                    buttonLabel.BorderSizePixel = 1
                    buttonLabel.TextColor3 = buttonData.isSelected and Color3.fromRGB(230,230,230) or Color3.fromRGB(160,160,165)
                    buttonLabel.BackgroundTransparency = 1
                    buttonLabel.Text = buttonData.text
                    buttonLabel.TextXAlignment = Enum.TextXAlignment.Left
                    buttonLabel.TextStrokeColor3 = Color3.fromRGB(0,0,0)
                    buttonLabel.Rotation = 0
                    buttonLabel.Font = Enum.Font.GothamBold
                    buttonLabel.Position = UDim2.new(0,0,0,0)
                    buttonLabel.Visible = true
                    buttonLabel.TextYAlignment = Enum.TextYAlignment.Center
                    buttonLabel.TextScaled = false
                    buttonLabel.BackgroundColor3 = Color3.fromRGB(163,162,165)
                    buttonLabel.Parent = contentHolder
                    
                    contentHolder.Parent = tabButton
                        tabButton.Parent = tabScroll
                    end
                end
                
            tabScroll.Parent = sidebar
        return sidebar
    end
    
    -- Create the sidebar
    local function setTabButtonSelected(tabButton, isSelected)
        if not tabButton then
            return
        end

        tabButton:SetAttribute("AsteriaTabSelected", isSelected == true)

        -- Selection should always win over hover tweens.
        local bgTween = tabHoverBgTweenByButton[tabButton]
        if bgTween then
            bgTween:Cancel()
            tabHoverBgTweenByButton[tabButton] = nil
        end

        tabButton.BackgroundTransparency = isSelected and 0.1 or 1
        tabButton.BackgroundColor3 = isSelected and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(33, 36, 40)

        local gradientChild = tabButton:FindFirstChildWhichIsA("UIGradient")
        if gradientChild then
            if isSelected then
                gradientChild.Transparency = NumberSequence.new({
                    NumberSequenceKeypoint.new(0, 0),
                    NumberSequenceKeypoint.new(1, 0),
                })
                gradientChild.Color = ColorSequence.new({
                    ColorSequenceKeypoint.new(0, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.10)),
                    ColorSequenceKeypoint.new(1, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.45)),
                })
            end
        end

        local strokeChild = tabButton:FindFirstChildWhichIsA("UIStroke")
        if strokeChild then
            local stTween = tabHoverStrokeTweenByStroke[strokeChild]
            if stTween then
                stTween:Cancel()
                tabHoverStrokeTweenByStroke[strokeChild] = nil
            end
            strokeChild.Transparency = isSelected and 0.3 or 1
        end

        local contentHolder = tabButton:FindFirstChild("ContentHolder")
        if contentHolder then
            local icon = contentHolder:FindFirstChild("Icon")
            if icon and icon:IsA("ImageLabel") then
                icon.ImageColor3 = isSelected and Color3.fromRGB(230, 230, 230) or Color3.fromRGB(160, 160, 165)
            end
            local label = contentHolder:FindFirstChild("TabLabel")
            if label and label:IsA("TextLabel") then
                label.TextColor3 = isSelected and Color3.fromRGB(230, 230, 230) or Color3.fromRGB(160, 160, 165)
            end
        end
    end

    local function getAllTabButtons()
        local buttons = {}
        local tabScroll = sideBar and sideBar:FindFirstChild("TabScroll")
        if not tabScroll then
            -- SideBar not created yet; caller should pass sidebar in.
            return buttons
        end
        for _, child in ipairs(tabScroll:GetChildren()) do
            if child:IsA("TextButton") then
                table.insert(buttons, child)
            end
        end
        return buttons
    end

    local sideBar = createSideBar()
    sideBar.Parent = mainFrame

    local function setActiveTab(tabText)
        setPageVisible(tabText)

        local tabScroll = sideBar:FindFirstChild("TabScroll")
        if tabScroll then
            for _, child in ipairs(tabScroll:GetChildren()) do
                if child:IsA("TextButton") then
                    local holder = child:FindFirstChild("ContentHolder")
                    local label = holder and holder:FindFirstChild("TabLabel")
                    local isSelected = label and label:IsA("TextLabel") and label.Text == tabText
                    setTabButtonSelected(child, isSelected)
                end
            end
        end
    end

    if buildTabs then
        do
            local tabScroll = sideBar:FindFirstChild("TabScroll")
            if tabScroll then
                for _, child in ipairs(tabScroll:GetChildren()) do
                    if child:IsA("TextButton") then
                        local holder = child:FindFirstChild("ContentHolder")
                        local label = holder and holder:FindFirstChild("TabLabel")
                        if label and label:IsA("TextLabel") then
                            child.MouseButton1Click:Connect(function()
                                local tabText = label.Text
                                if pagesByTabText[tabText] then
                                    setActiveTab(tabText)
                                end
                            end)
                        end
                    end
                end
            end
        end

        -- Default tab matches sidebar defaults (Farm)
        if pagesByTabText.Farm then
            setActiveTab("Farm")
        end
    end

    -- One-time initial drop animation
    playInitialModuleDropAnimation()

    -- Dragging functionality
    local dragging = false
    local dragStart = nil
    local startPos = nil
    local dragInput = nil
    local dragTargetPos = nil

    -- Higher = snappier, lower = floatier
    local DRAG_SMOOTHNESS = 22

    local function computeDragTarget()
        if not (dragging and dragInput and dragStart and startPos) then
            return nil
        end

        local delta = dragInput.Position - dragStart
        return UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end

    local function isPointInside(guiObject, screenPoint)
        if not (guiObject and guiObject:IsA("GuiObject")) then
            return false
        end
        local absPos = guiObject.AbsolutePosition
        local absSize = guiObject.AbsoluteSize
        return screenPoint.X >= absPos.X
            and screenPoint.Y >= absPos.Y
            and screenPoint.X <= (absPos.X + absSize.X)
            and screenPoint.Y <= (absPos.Y + absSize.Y)
    end

    local function tryBeginDrag(input)
        if input.UserInputType ~= Enum.UserInputType.MouseButton1 and input.UserInputType ~= Enum.UserInputType.Touch then
            return
        end

        local pos = input.Position
        if typeof(pos) == "Vector3" then
            pos = Vector2.new(pos.X, pos.Y)
        end
        if typeof(pos) ~= "Vector2" then
            return
        end

        -- Only allow dragging from non-interactive areas:
        -- 1) Sidebar title area (logo/header)
        -- 2) The empty space in the top strip (SearchContainer), excluding the actual SearchBarFrame
        local sidebarTitle = sideBar and sideBar:FindFirstChild("TitleContainer")
        local onSidebarTitle = sidebarTitle and isPointInside(sidebarTitle, pos)

        local onTopStrip = searchContainer and isPointInside(searchContainer, pos)
        local onSearchBar = searchBarFrame and isPointInside(searchBarFrame, pos)
        local onTopDragArea = onTopStrip and (not onSearchBar)

        if not (onSidebarTitle or onTopDragArea) then
            return
        end

        dragging = true
        dragInput = input
        dragStart = input.Position
        startPos = mainFrame.Position
        dragTargetPos = startPos

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                dragInput = nil
                dragStart = nil
                startPos = nil
                dragTargetPos = nil
            end
        end)
    end

    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then
            return
        end
        if dragging then
            return
        end
        tryBeginDrag(input)
    end)

    -- Track movement globally so drag keeps updating smoothly.
    UserInputService.InputChanged:Connect(function(input)
        if not dragging then
            return
        end
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    -- Smoothly chase the cursor while dragging.
    RunService.RenderStepped:Connect(function(dt)
        if not dragging then
            return
        end

        local target = computeDragTarget()
        if not target then
            return
        end

        dragTargetPos = target
        local alpha = 1 - math.exp(-DRAG_SMOOTHNESS * dt)
        mainFrame.Position = mainFrame.Position:Lerp(dragTargetPos, alpha)
    end)

    -- Keyboard input handler (keybind capture has priority)
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if activeKeybindButton then
            if input.UserInputType == Enum.UserInputType.Keyboard then
                local keyCode = input.KeyCode
                if keyCode and keyCode ~= Enum.KeyCode.Unknown then
                    setKeybindForButton(activeKeybindButton, keyCode)
                end
                setKeybindButtonVisual(activeKeybindButton, false)
                activeKeybindButton = nil
                return
            end

            if input.UserInputType == Enum.UserInputType.MouseButton1
                or input.UserInputType == Enum.UserInputType.MouseButton2
                or input.UserInputType == Enum.UserInputType.MouseButton3
                or input.UserInputType == Enum.UserInputType.Touch then
                clearKeybindForButton(activeKeybindButton)
                setKeybindButtonVisual(activeKeybindButton, false)
                activeKeybindButton = nil
                return
            end
        end

        if gameProcessed then
            return
        end

        -- Don't pop open the command bar while typing in a textbox.
        if UserInputService:GetFocusedTextBox() ~= nil then
            return
        end

        if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode and input.KeyCode ~= Enum.KeyCode.Unknown then
            if menuToggleKeyCode and input.KeyCode == menuToggleKeyCode then
                toggleMenuOpen()
                return
            end

            if input.KeyCode == Enum.KeyCode.Quote then
                if not screenGui.Enabled then
                    setMenuOpen(true)
                end
                toggleCommandBar()
                return
            end

            local owner = keybindOwnerByKeyName[input.KeyCode.Name]
            if owner then
                if typeof(owner) == "Instance" then
                    local targetCheckbox = getKeybindTargetCheckbox(owner)
                    if targetCheckbox then
                        toggleCheckboxChecked(targetCheckbox)
                        return
                    end
                elseif type(owner) == "table" then
                    local toggledAny = false
                    for _, btn in ipairs(owner) do
                        local targetCheckbox = getKeybindTargetCheckbox(btn)
                        if targetCheckbox then
                            toggleCheckboxChecked(targetCheckbox)
                            toggledAny = true
                        end
                    end
                    if toggledAny then
                        return
                    end
                end
            end
        end
    end)

    -- Apply hover stroke tween to all stroked buttons
    do
        local function isInTabScroll(inst)
            local p = inst
            while p do
                if p.Name == "TabScroll" then
                    return true
                end
                p = p.Parent
            end
            return false
        end

        for _, desc in ipairs(screenGui:GetDescendants()) do
            if desc:IsA("TextButton") or desc:IsA("ImageButton") then
                local strokeChild = desc:FindFirstChildWhichIsA("UIStroke")
                if strokeChild then
                    if not isInTabScroll(desc) then
                        bindButtonStrokeHover(desc, strokeChild)
                    end
                end
            end
        end

        local tabScroll = sideBar and sideBar:FindFirstChild("TabScroll")
        if tabScroll then
            for _, child in ipairs(tabScroll:GetChildren()) do
                if child:IsA("TextButton") then
                    bindTabScrollButtonHover(child)
                end
            end
        end
    end

    installAccentRecolorWatchers(screenGui, ACCENT_PRIMARY, ACCENT_DARK, ACCENT_LIGHT, ACCENT_BLACK)

    installUniversalSliderBindings(screenGui, {
        accentPrimary = ACCENT_PRIMARY,
        accentBlack = ACCENT_BLACK,
    })

    -- Lightweight API surface for adding tabs/pages later (API mode)
    local function apiCreatePageForTab(tabText)
        tabText = tostring(tabText or "")
        if tabText == "" then
            return nil
        end
        if pagesByTabText[tabText] and pagesByTabText[tabText]:IsA("Frame") then
            return pagesByTabText[tabText]
        end

        -- Ensure unique page names to avoid collisions.
        local pageName = tabText .. "Page"
        local page = Instance.new("Frame")
        page.Name = pageName
        page.Visible = false
        page.BackgroundTransparency = 1
        page.BorderSizePixel = 0
        page.Size = UDim2.new(1, 0, 1, 0)
        page.Position = UDim2.new(0, 0, 0, 0)
        page.Parent = pagesContainer

        pagesByTabText[tabText] = page
        return page
    end

    local function apiCreateTabButton(tabText, iconAsset)
        if not sideBar then
            return nil
        end
        local tabScroll = sideBar:FindFirstChild("TabScroll")
        if not (tabScroll and tabScroll:IsA("ScrollingFrame")) then
            return nil
        end

        tabText = tostring(tabText or "")
        if tabText == "" then
            return nil
        end

        local tabButton = Instance.new("TextButton")
        tabButton.Name = tabText .. "TabButton"
        tabButton.LayoutOrder = 0
        tabButton.Text = ""
        tabButton.AutoButtonColor = false
        tabButton.BackgroundTransparency = 1
        tabButton.BackgroundColor3 = Color3.fromRGB(33, 36, 40)
        tabButton.BorderSizePixel = 0
        tabButton.Size = UDim2.new(1, -8, 0, 30)
        tabButton.Position = UDim2.new(0, 4, 0, 0)

        local buttonCorner = Instance.new("UICorner")
        buttonCorner.Name = "UICorner"
        buttonCorner.CornerRadius = UDim.new(0, 8)
        buttonCorner.Parent = tabButton

        local buttonStroke = Instance.new("UIStroke")
        buttonStroke.Name = "UIStroke"
        buttonStroke.Thickness = 0.5
        buttonStroke.Transparency = 1
        buttonStroke.Color = Color3.fromRGB(40, 43, 46)
        buttonStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        buttonStroke.LineJoinMode = Enum.LineJoinMode.Round
        buttonStroke.Parent = tabButton

        local buttonGradient = Instance.new("UIGradient")
        buttonGradient.Name = "UIGradient"
        buttonGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0),
            NumberSequenceKeypoint.new(1, 0),
        })
        -- Uses existing theme locals (ACCENT_BLACK/ACCENT_PRIMARY) from the shell.
        buttonGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.10)),
            ColorSequenceKeypoint.new(1, ACCENT_BLACK:Lerp(ACCENT_PRIMARY, 0.45)),
        })
        buttonGradient.Rotation = 45
        buttonGradient.Parent = tabButton

        local contentHolder = Instance.new("Frame")
        contentHolder.Name = "ContentHolder"
        contentHolder.BackgroundTransparency = 1
        contentHolder.BorderSizePixel = 0
        contentHolder.Size = UDim2.new(1, 0, 1, 0)
        contentHolder.ZIndex = 3
        contentHolder.Parent = tabButton

        local contentPadding = Instance.new("UIPadding")
        contentPadding.Name = "UIPadding"
        contentPadding.PaddingLeft = UDim.new(0, 15)
        contentPadding.PaddingRight = UDim.new(0, 12)
        contentPadding.Parent = contentHolder

        local contentLayout = Instance.new("UIListLayout")
        contentLayout.Name = "UIListLayout"
        contentLayout.VerticalAlignment = Enum.VerticalAlignment.Center
        contentLayout.FillDirection = Enum.FillDirection.Horizontal
        contentLayout.Padding = UDim.new(0, 8)
        contentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
        contentLayout.Parent = contentHolder

        local buttonIcon = Instance.new("ImageLabel")
        buttonIcon.Name = "Icon"
        buttonIcon.BackgroundTransparency = 1
        buttonIcon.Size = UDim2.new(0, 16, 0, 16)
        buttonIcon.ScaleType = Enum.ScaleType.Stretch
        buttonIcon.Image = tostring(iconAsset or "")
        buttonIcon.ImageColor3 = Color3.fromRGB(160, 160, 165)
        buttonIcon.Parent = contentHolder

        local buttonLabel = Instance.new("TextLabel")
        buttonLabel.Name = "TabLabel"
        buttonLabel.BackgroundTransparency = 1
        buttonLabel.Font = Enum.Font.GothamBold
        buttonLabel.TextSize = 14
        buttonLabel.TextXAlignment = Enum.TextXAlignment.Left
        buttonLabel.TextColor3 = Color3.fromRGB(160, 160, 165)
        buttonLabel.Text = tabText
        buttonLabel.Size = UDim2.new(1, 0, 0, 14)
        buttonLabel.Parent = contentHolder

        tabButton.Parent = tabScroll

        -- Hover bindings + click to activate page (if present)
        bindTabScrollButtonHover(tabButton)
        tabButton.MouseButton1Click:Connect(function()
            if pagesByTabText[tabText] then
                setActiveTab(tabText)
            end
        end)

        return tabButton
    end

    local function apiCreatePanel(opts)
        opts = opts or {}
        local page = opts.page
        if not (page and typeof(page) == "Instance" and page:IsA("Frame")) then
            return nil
        end

        local side = tostring(opts.side or "left")
        local panel = Instance.new("ScrollingFrame")
        panel.Name = tostring(opts.name or (side == "right" and "RightContentFrame1" or "LeftContentFrame1"))
        panel.ScrollingDirection = Enum.ScrollingDirection.XY
        panel.BorderSizePixel = 0
        panel.BackgroundTransparency = 1
        panel.ScrollBarThickness = 0
        panel.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        panel.CanvasSize = UDim2.new(0, 0, 0, 0)
        panel.AutomaticCanvasSize = Enum.AutomaticSize.Y
        panel.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        panel.ScrollingEnabled = true
        panel.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        panel.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        panel.Size = UDim2.new(0.5, -21, 1, -68)
        panel.Position = (side == "right") and UDim2.new(0.5, 7, 0, 54) or UDim2.new(0, 14, 0, 54)
        panel.Parent = page

        local layout = Instance.new("UIListLayout")
        layout.Name = "UIListLayout"
        layout.VerticalAlignment = Enum.VerticalAlignment.Top
        layout.FillDirection = Enum.FillDirection.Vertical
        layout.Padding = UDim.new(0, 12)
        layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        layout.SortOrder = Enum.SortOrder.LayoutOrder
        layout.Parent = panel

        local padding = Instance.new("UIPadding")
        padding.Name = "FramePadding"
        padding.PaddingTop = UDim.new(0, 12)
        padding.PaddingBottom = UDim.new(0, 12)
        padding.Parent = panel

        return panel
    end

    local function apiCreateSection(opts)
        opts = opts or {}
        local parent = opts.parent
        if not (parent and typeof(parent) == "Instance" and parent:IsA("GuiObject")) then
            return nil
        end

        local sectionName = tostring(opts.name or "Section")
        local sectionTitle = tostring(opts.title or sectionName)
        local sectionIcon = tostring(opts.icon or "")
        local sectionHeight = tonumber(opts.height) or 180

        local sectionFrame = Instance.new("Frame")
        sectionFrame.Name = sectionName .. "SectionFrame"
        sectionFrame.Visible = true
        sectionFrame.ClipsDescendants = true
        sectionFrame.BackgroundTransparency = 0
        sectionFrame.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        sectionFrame.BorderSizePixel = 0
        sectionFrame.Size = UDim2.new(1, 0, 0, sectionHeight)
        sectionFrame.Parent = parent

        local sectionCorner = Instance.new("UICorner")
        sectionCorner.Name = "UICorner"
        sectionCorner.CornerRadius = UDim.new(0, 12)
        sectionCorner.Parent = sectionFrame

        local sectionStroke = Instance.new("UIStroke")
        sectionStroke.Name = "UIStroke"
        sectionStroke.Thickness = 1
        sectionStroke.Transparency = 0.2
        sectionStroke.Color = Color3.fromRGB(40, 43, 46)
        sectionStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        sectionStroke.LineJoinMode = Enum.LineJoinMode.Round
        sectionStroke.Parent = sectionFrame

        local darkSweep = Instance.new("Frame")
        darkSweep.Name = "SectionDarkSweep"
        darkSweep.BackgroundTransparency = 0
        darkSweep.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        darkSweep.BorderSizePixel = 0
        darkSweep.Size = UDim2.new(1, 0, 1, 0)
        darkSweep.Parent = sectionFrame

        local darkSweepCorner = Instance.new("UICorner")
        darkSweepCorner.CornerRadius = UDim.new(0, 12)
        darkSweepCorner.Parent = darkSweep

        local darkSweepGradient = Instance.new("UIGradient")
        darkSweepGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.18, 0.92),
            NumberSequenceKeypoint.new(0.4, 0.78),
            NumberSequenceKeypoint.new(0.62, 0.92),
            NumberSequenceKeypoint.new(1, 1),
        })
        darkSweepGradient.Color = ColorSequence.new(Color3.fromRGB(0, 0, 0))
        darkSweepGradient.Rotation = 125
        darkSweepGradient.Parent = darkSweep

        local innerBorder = Instance.new("Frame")
        innerBorder.Name = "InnerBorder"
        innerBorder.BackgroundTransparency = 1
        innerBorder.BorderSizePixel = 1
        innerBorder.Position = UDim2.new(0, 1, 0, 1)
        innerBorder.Size = UDim2.new(1, -2, 1, -2)
        innerBorder.ZIndex = 2
        innerBorder.Parent = sectionFrame

        local innerBorderCorner = Instance.new("UICorner")
        innerBorderCorner.CornerRadius = UDim.new(0, 12)
        innerBorderCorner.Parent = innerBorder

        local innerBorderStroke = Instance.new("UIStroke")
        innerBorderStroke.Thickness = 1
        innerBorderStroke.Transparency = 0.75
        innerBorderStroke.Color = Color3.fromRGB(40, 43, 46)
        innerBorderStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        innerBorderStroke.LineJoinMode = Enum.LineJoinMode.Round
        innerBorderStroke.Parent = innerBorder

        local gradientOverlay = Instance.new("Frame")
        gradientOverlay.Name = "GradientOverlay"
        gradientOverlay.BackgroundTransparency = 0.9
        gradientOverlay.BackgroundColor3 = Color3.fromRGB(23, 25, 28)
        gradientOverlay.BorderSizePixel = 1
        gradientOverlay.Size = UDim2.new(1, 0, 1, 0)
        gradientOverlay.ZIndex = 2
        gradientOverlay.Parent = sectionFrame

        local gradientOverlayCorner = Instance.new("UICorner")
        gradientOverlayCorner.CornerRadius = UDim.new(0, 12)
        gradientOverlayCorner.Parent = gradientOverlay

        local gradientOverlayGradient = Instance.new("UIGradient")
        gradientOverlayGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.06),
            NumberSequenceKeypoint.new(0.5, 0.12),
            NumberSequenceKeypoint.new(1, 0.06),
        })
        gradientOverlayGradient.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
        gradientOverlayGradient.Rotation = 90
        gradientOverlayGradient.Parent = gradientOverlay

        local header = Instance.new("Frame")
        header.Name = "Header"
        header.BackgroundTransparency = 1
        header.BorderSizePixel = 0
        header.Size = UDim2.new(1, 0, 0, 36)
        header.ZIndex = 3
        header.Parent = sectionFrame

        local headerSeparator = Instance.new("Frame")
        headerSeparator.Name = "Separator"
        headerSeparator.BackgroundTransparency = 0.5
        headerSeparator.BackgroundColor3 = Color3.fromRGB(40, 43, 46)
        headerSeparator.BorderSizePixel = 0
        headerSeparator.Position = UDim2.new(0, 10, 1, -1)
        headerSeparator.Size = UDim2.new(1, -20, 0, 1)
        headerSeparator.Parent = header

        local separatorGradient = Instance.new("UIGradient")
        separatorGradient.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 1),
            NumberSequenceKeypoint.new(0.1, 0.5),
            NumberSequenceKeypoint.new(0.9, 0.5),
            NumberSequenceKeypoint.new(1, 1),
        })
        separatorGradient.Color = ColorSequence.new(Color3.fromRGB(255, 255, 255))
        separatorGradient.Rotation = 0
        separatorGradient.Parent = headerSeparator

        local iconContainer = Instance.new("Frame")
        iconContainer.Name = "IconContainer"
        iconContainer.BackgroundTransparency = 0
        iconContainer.BackgroundColor3 = Color3.fromRGB(190, 45, 45)
        iconContainer.BorderSizePixel = 0
        iconContainer.Position = UDim2.new(0, 12, 0.5, 0)
        iconContainer.AnchorPoint = Vector2.new(0, 0.5)
        iconContainer.Size = UDim2.new(0, 24, 0, 24)
        iconContainer.Parent = header

        local iconContainerCorner = Instance.new("UICorner")
        iconContainerCorner.CornerRadius = UDim.new(0, 6)
        iconContainerCorner.Parent = iconContainer

        local iconContainerStroke = Instance.new("UIStroke")
        iconContainerStroke.Thickness = 1
        iconContainerStroke.Transparency = 0.75
        iconContainerStroke.Color = Color3.fromRGB(190, 45, 45)
        iconContainerStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        iconContainerStroke.LineJoinMode = Enum.LineJoinMode.Round
        iconContainerStroke.Parent = iconContainer

        local iconImage = Instance.new("ImageLabel")
        iconImage.Name = "Icon"
        iconImage.BackgroundTransparency = 1
        iconImage.Size = UDim2.new(0, 14, 0, 14)
        iconImage.AnchorPoint = Vector2.new(0.5, 0.5)
        iconImage.Position = UDim2.new(0.5, 0, 0.5, 0)
        iconImage.Image = sectionIcon
        iconImage.ImageColor3 = Color3.fromRGB(190, 45, 45)
        iconImage.ScaleType = Enum.ScaleType.Stretch
        iconImage.Parent = iconContainer

        local titleLabel = Instance.new("TextLabel")
        titleLabel.Name = "SectionTitle"
        titleLabel.BackgroundTransparency = 1
        titleLabel.Font = Enum.Font.GothamBold
        titleLabel.TextSize = 14
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.TextColor3 = Color3.fromRGB(230, 230, 230)
        titleLabel.Text = sectionTitle
        titleLabel.Position = UDim2.new(0, 44, 0, 0)
        titleLabel.Size = UDim2.new(1, -54, 1, -1)
        titleLabel.ZIndex = 4
        titleLabel.Parent = header

        local scrollContainer = Instance.new("Frame")
        scrollContainer.Name = "ScrollContainer"
        scrollContainer.BackgroundTransparency = 1
        scrollContainer.BorderSizePixel = 0
        scrollContainer.Position = UDim2.new(0, 0, 0, 36)
        scrollContainer.Size = UDim2.new(1, 0, 1, -36)
        scrollContainer.ZIndex = 3
        scrollContainer.Parent = sectionFrame

        local elementsContainer = Instance.new("ScrollingFrame")
        elementsContainer.Name = "ElementsContainer"
        elementsContainer.BackgroundTransparency = 1
        elementsContainer.BorderSizePixel = 0
        elementsContainer.Size = UDim2.new(1, 0, 1, 0)
        elementsContainer.ScrollBarThickness = 0
        elementsContainer.ScrollBarImageColor3 = Color3.fromRGB(40, 43, 46)
        elementsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
        elementsContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
        elementsContainer.ElasticBehavior = Enum.ElasticBehavior.WhenScrollable
        elementsContainer.ScrollingEnabled = true
        elementsContainer.TopImage = "rbxasset://textures/ui/Scroll/scroll-top.png"
        elementsContainer.BottomImage = "rbxasset://textures/ui/Scroll/scroll-bottom.png"
        elementsContainer.Parent = scrollContainer

        local elementsPadding = Instance.new("UIPadding")
        elementsPadding.Name = "UIPadding"
        elementsPadding.PaddingTop = UDim.new(0, 10)
        elementsPadding.PaddingBottom = UDim.new(0, 12)
        elementsPadding.PaddingLeft = UDim.new(0, 12)
        elementsPadding.PaddingRight = UDim.new(0, 12)
        elementsPadding.Parent = elementsContainer

        local elementsLayout = Instance.new("UIListLayout")
        elementsLayout.Name = "UIListLayout"
        elementsLayout.VerticalAlignment = Enum.VerticalAlignment.Top
        elementsLayout.FillDirection = Enum.FillDirection.Vertical
        elementsLayout.Padding = UDim.new(0, 10)
        elementsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
        elementsLayout.SortOrder = Enum.SortOrder.LayoutOrder
        elementsLayout.Parent = elementsContainer

        return sectionFrame, elementsContainer
    end

    -- Wire command-bar "reload" to rebuild this UI instance.
    -- (This matches the original behavior where the command bar could trigger a full rebuild.)
    do
        local reloadOpts = {
            title = title,
            buildTabs = buildTabs,
            buildDefaultContent = buildDefaultContent,
            rootPageName = opts and opts.rootPageName,
        }

        reloadUI = function()
            if screenGui and screenGui.Parent ~= nil then
                if keybindsDisplay and type(keybindsDisplay.Destroy) == "function" then
                    pcall(function()
                        keybindsDisplay:Destroy()
                    end)
                end
                pcall(function()
                    screenGui:Destroy()
                end)
            end
            return createAsteriaGUI(reloadOpts)
        end
    end

    -- Return the GUI components for external access
    return {
        screenGui = screenGui,
        mainFrame = mainFrame,
        contentFrame = contentFrame,
        sideBar = sideBar,
        pagesContainer = pagesContainer,
        
        -- Helper functions
        destroy = function()
            if keybindsDisplay and type(keybindsDisplay.Destroy) == "function" then
                pcall(function()
                    keybindsDisplay:Destroy()
                end)
            end
            screenGui:Destroy()
        end,
        
        hide = function()
            screenGui.Enabled = false
        end,
        
        show = function()
            screenGui.Enabled = true
        end,
        
        -- Add content to the content frame
        addContent = function(content)
            content.Parent = contentFrame
            return content
        end,

        -- API: pages/tabs/panels/sections
        CreatePage = function(tabText)
            return apiCreatePageForTab(tabText)
        end,
        CreateTab = function(tabText, iconAsset)
            return apiCreateTabButton(tabText, iconAsset)
        end,
        SetActiveTab = function(tabText)
            return setActiveTab(tostring(tabText or ""))
        end,
        CreatePanel = function(panelOpts)
            return apiCreatePanel(panelOpts)
        end,
        CreateSection = function(sectionOpts)
            return apiCreateSection(sectionOpts)
        end,
    }
end

-- API-only export (no auto-run). Typical executor usage:
-- local NilApi = loadstring(game:HttpGet("<url>"))()
-- local ui = NilApi.Create({ title = "My Game", buildTabs = false, buildDefaultContent = false })
local NilApi = {}
local Api = NilApi -- backwards-compatible alias

-- Creates the UI and returns the GUI controller/table from createAsteriaGUI.
-- Defaults to: mainframe shell + animations ONLY (no default tabs, no default pages/sections).
function Api.Create(arg)
    if type(arg) == "table" then
        local opts = arg
        if opts.buildTabs == nil then
            opts.buildTabs = false
        end
        if opts.buildDefaultContent == nil then
            opts.buildDefaultContent = false
        end
        return createAsteriaGUI(opts)
    end

    return createAsteriaGUI(arg or "Asteria Hub", {
        buildTabs = false,
        buildDefaultContent = false,
    })
end

-- Controller wrapper that supports Reload/Show/Hide/Destroy.
function Api.new(opts)
    opts = opts or {}

    local controller = {}
    local gui = nil

    function controller:Reload()
        if gui and type(gui.destroy) == "function" then
            pcall(gui.destroy)
        end
        local createOpts = {
            title = opts.title or "Asteria Hub",
            buildTabs = (opts.buildTabs == nil) and false or opts.buildTabs,
            buildDefaultContent = (opts.buildDefaultContent == nil) and false or opts.buildDefaultContent,
            rootPageName = opts.rootPageName,
        }
        gui = createAsteriaGUI(createOpts)
        return gui
    end

    function controller:Destroy()
        if gui and type(gui.destroy) == "function" then
            pcall(gui.destroy)
        end
        gui = nil
    end

    function controller:Show()
        if gui and type(gui.show) == "function" then
            pcall(gui.show)
        elseif gui and gui.screenGui then
            gui.screenGui.Enabled = true
        end
    end

    function controller:Hide()
        if gui and type(gui.hide) == "function" then
            pcall(gui.hide)
        elseif gui and gui.screenGui then
            gui.screenGui.Enabled = false
        end
    end

    function controller:GetGui()
        return gui
    end

    controller:Reload()
    return controller
end

return NilApi
